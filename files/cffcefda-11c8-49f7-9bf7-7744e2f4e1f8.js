window.mouseflowAutoStart = false;
if (typeof mfRecord === 'undefined') {
  var mfRecord = '1'; 
}setTimeout(function() {
function loadMouseflow() { 
if (typeof mouseflow !== 'undefined' && window.name.indexOf('mf_liveHeatmaps') < 0 && mfRecord !== '0') {
    mouseflow.start();
}
document.removeEventListener('mousemove', loadMouseflow);
document.removeEventListener('touchstart', loadMouseflow);
document.removeEventListener('scroll', loadMouseflow);
}
document.addEventListener('mousemove', loadMouseflow);
document.addEventListener('touchstart', loadMouseflow);
document.addEventListener('scroll', loadMouseflow);
}, 500);;var mouseflowCrossDomainSupport = true;;(function() {
  var measurementID = 'G-GHV9J3QQQ0'.split(',');
    function whenThen(conditionFunc, intervalInMs, successFunc) {
        var rounds = 0;var timer = setInterval(function() {
            rounds++; 
            if (conditionFunc()) { 
                clearInterval(timer); 
                successFunc(); 
            }
            if (rounds > 3) { 
                clearInterval(timer); 
            }
        }, intervalInMs);
    }
    function googleAnalyticsIntegration() {
        window._mfq = window._mfq || [];
        function pushGA(id){
          
     window._mfq = window._mfq || [];
      var mouseflowSessionId = mouseflow.getSessionId();
          
          if(mouseflowSessionId != null){
      gtag('event', 'mfsid', {'mf_session': mouseflowSessionId, 'send_to': id, 'non_interaction': true }
          );
            }
        }
       measurementID.forEach(function(value){pushGA(value)});
    }
    whenThen(function() { return window.gtag; }, 1000, googleAnalyticsIntegration);
})(); ;if (typeof gtag !== "undefined") {
    gtag('event', 'optimize.callback', {
        callback: function(combination, experimentId, containerId) {
            window._mfq = window._mfq || [];
            window._mfq.push(['setVariable', 'optimize_experiment', experimentId]);
            window._mfq.push(['setVariable', 'optimize_container', containerId]);
            window._mfq.push(['setVariable', 'optimize_combination', combination]);
            window._mfq.push(['setVariable', 'optimize_link', "http://optimize.google.com/experiences/" + experimentId + "?" + "containerId=" + containerId ]);
        }
    });
}var mouseflowDisableKeyLogging = true;if(typeof mouseflow==='undefined'&&typeof mouseflowPlayback==='undefined'){(function(){var _491=false;var _489=false;var _542=[];var _541=[];var _47='https://us.mouseflow.com';var _486=false;var _428=(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function n(t){return"object"==typeof t&&null!==t&&t.nodeType===Node.ELEMENT_NODE}t.r(e),t.d(e,{default:()=>Q,getCssSelector:()=>K});const r={NONE:"",DESCENDANT:" ",CHILD:" > "},o={id:"id",class:"class",tag:"tag",attribute:"attribute",nthchild:"nthchild",nthoftype:"nthoftype"},i="CssSelectorGenerator";function c(t="unknown problem",...e){console.warn(`${i}: ${t}`,...e)}const u={selectors:[o.id,o.class,o.tag,o.attribute],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0,root:null,maxCombinations:Number.POSITIVE_INFINITY,maxCandidates:Number.POSITIVE_INFINITY};function s(t){return t instanceof RegExp}function a(t){return["string","function"].includes(typeof t)||s(t)}function l(t){return Array.isArray(t)?t.filter(a):[]}function f(t){const e=[Node.DOCUMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE];return function(t){return t instanceof Node}(t)&&e.includes(t.nodeType)}function d(t,e){if(f(t))return t.contains(e)||c("element root mismatch","Provided root does not contain the element. This will most likely result in producing a fallback selector using element's real root node. If you plan to use the selector using provided root (e.g. `root.querySelector`), it will not work as intended."),t;const n=e.getRootNode({composed:!1});return f(n)?(n!==document&&c("shadow root inferred","You did not provide a root and the element is a child of Shadow DOM. This will produce a selector using ShadowRoot as a root. If you plan to use the selector using document as a root (e.g. `document.querySelector`), it will not work as intended."),n):S(e)}function m(t){return"number"==typeof t?t:Number.POSITIVE_INFINITY}function p(t=[]){const[e=[],...n]=t;return 0===n.length?e:n.reduce(((t,e)=>t.filter((t=>e.includes(t)))),e)}function g(t){return[].concat(...t)}function h(t){const e=t.map((t=>{if(s(t))return e=>t.test(e);if("function"==typeof t)return e=>{const n=t(e);return"boolean"!=typeof n?(c("pattern matcher function invalid","Provided pattern matching function does not return boolean. It's result will be ignored.",t),!1):n};if("string"==typeof t){const e=new RegExp("^"+t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".+")+"$");return t=>e.test(t)}return c("pattern matcher invalid","Pattern matching only accepts strings, regular expressions and/or functions. This item is invalid and will be ignored.",t),()=>!1}));return t=>e.some((e=>e(t)))}function b(t,e,n){const r=Array.from(d(n,t[0]).querySelectorAll(e));return r.length===t.length&&t.every((t=>r.includes(t)))}function y(t,e){e=null!=e?e:S(t);const r=[];let o=t;for(;n(o)&&o!==e;)r.push(o),o=o.parentElement;return r}function N(t,e){return p(t.map((t=>y(t,e))))}function S(t){return t.ownerDocument.querySelector(":root")}const E=", ",v=new RegExp(["^$","\\s"].join("|")),w=new RegExp(["^$"].join("|")),I=[o.nthoftype,o.tag,o.id,o.class,o.attribute,o.nthchild],T=h(["class","id","ng-*"]);function O({name:t}){return`[${t}]`}function C({name:t,value:e}){return`[${t}='${e}']`}function x({nodeName:t,nodeValue:e}){return{name:Y(t),value:Y(null!=e?e:void 0)}}function j(t){const e=Array.from(t.attributes).filter((e=>function({nodeName:t,nodeValue:e},n){const r=n.tagName.toLowerCase();return!(["input","option"].includes(r)&&"value"===t||"src"===t&&(null==e?void 0:e.startsWith("data:"))||T(t))}(e,t))).map(x);return[...e.map(O),...e.map(C)]}function A(t){var e;return(null!==(e=t.getAttribute("class"))&&void 0!==e?e:"").trim().split(/\s+/).filter((t=>!w.test(t))).map((t=>`.${Y(t)}`))}function $(t){var e;const n=null!==(e=t.getAttribute("id"))&&void 0!==e?e:"",r=`#${Y(n)}`,o=t.getRootNode({composed:!1});return!v.test(n)&&b([t],r,o)?[r]:[]}function D(t){const e=t.parentNode;if(e){const r=Array.from(e.childNodes).filter(n).indexOf(t);if(r>-1)return[`:nth-child(${String(r+1)})`]}return[]}function R(t){return[Y(t.tagName.toLowerCase())]}function P(t){const e=[...new Set(g(t.map(R)))];return 0===e.length||e.length>1?[]:[e[0]]}function _(t){const e=P([t])[0],n=t.parentElement;if(n){const r=Array.from(n.children).filter((t=>t.tagName.toLowerCase()===e)),o=r.indexOf(t);if(o>-1)return[`${e}:nth-of-type(${String(o+1)})`]}return[]}function k(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){return Array.from(function*(t=[],{maxResults:e=Number.POSITIVE_INFINITY}={}){let n=0,r=M(1);for(;r.length<=t.length&&n<e;){n+=1;const e=r.map((e=>t[e]));yield e,r=L(r,t.length-1)}}(t,{maxResults:e}))}function L(t=[],e=0){const n=t.length;if(0===n)return[];const r=[...t];r[n-1]+=1;for(let t=n-1;t>=0;t--)if(r[t]>e){if(0===t)return M(n+1);r[t-1]++,r[t]=r[t-1]+1}return r[n-1]>e?M(n+1):r}function M(t=1){return Array.from(Array(t).keys())}const V=":".charCodeAt(0).toString(16).toUpperCase(),F=/[ !"#$%&'()\[\]{|}<>*+,./;=?@^`~\\]/;function Y(t=""){return CSS?CSS.escape(t):function(t=""){return t.split("").map((t=>":"===t?`\\${V} `:F.test(t)?`\\${t}`:escape(t).replace(/%/g,"\\"))).join("")}(t)}const W={tag:P,id:function(t){return 0===t.length||t.length>1?[]:$(t[0])},class:function(t){return p(t.map(A))},attribute:function(t){return p(t.map(j))},nthchild:function(t){return p(t.map(D))},nthoftype:function(t){return p(t.map(_))}},q={tag:R,id:$,class:A,attribute:j,nthchild:D,nthoftype:_};function B(t){return t.includes(o.tag)||t.includes(o.nthoftype)?[...t]:[...t,o.tag]}function G(t={}){const e=[...I];return t[o.tag]&&t[o.nthoftype]&&e.splice(e.indexOf(o.tag),1),e.map((e=>{return(r=t)[n=e]?r[n].join(""):"";var n,r})).join("")}function H(t,e,n="",o){const i=function(t,e){return""===e?t:function(t,e){return[...t.map((t=>e+r.DESCENDANT+t)),...t.map((t=>e+r.CHILD+t))]}(t,e)}(function(t,e,n){const r=function(t,e){const{blacklist:n,whitelist:r,combineWithinSelector:o,maxCombinations:i}=e,c=h(n),u=h(r);return function(t){const{selectors:e,includeTag:n}=t,r=[...e];return n&&!r.includes("tag")&&r.push("tag"),r}(e).reduce(((e,n)=>{const r=function(t,e){return(0,W[e])(t)}(t,n),s=function(t=[],e,n){return t.filter((t=>n(t)||!e(t)))}(r,c,u),a=function(t=[],e){return t.sort(((t,n)=>{const r=e(t),o=e(n);return r&&!o?-1:!r&&o?1:0}))}(s,u);return e[n]=o?k(a,{maxResults:i}):a.map((t=>[t])),e}),{})}(t,n),o=function(t,e){return function(t){const{selectors:e,combineBetweenSelectors:n,includeTag:r,maxCandidates:o}=t,i=n?k(e,{maxResults:o}):e.map((t=>[t]));return r?i.map(B):i}(e).map((e=>function(t,e){const n={};return t.forEach((t=>{const r=e[t];r&&r.length>0&&(n[t]=r)})),function(t={}){let e=[];return Object.entries(t).forEach((([t,n])=>{e=n.flatMap((n=>0===e.length?[{[t]:n}]:e.map((e=>Object.assign(Object.assign({},e),{[t]:n})))))})),e}(n).map(G)}(e,t))).filter((t=>t.length>0))}(r,n),i=g(o);return[...new Set(i)]}(t,0,o),n);for(const n of i)if(b(t,n,e))return n;return null}function U(t){return{value:t,include:!1}}function z({selectors:t,operator:e}){let n=[...I];t[o.tag]&&t[o.nthoftype]&&(n=n.filter((t=>t!==o.tag)));let r="";return n.forEach((e=>{var n;(null!==(n=t[e])&&void 0!==n?n:[]).forEach((({value:t,include:e})=>{e&&(r+=t)}))})),e+r}function J(t){return[":root",...y(t).reverse().map((t=>{const e=function(t,e,n=r.NONE){const o={};return e.forEach((e=>{Reflect.set(o,e,function(t,e){return q[e](t)}(t,e).map(U))})),{element:t,operator:n,selectors:o}}(t,[o.nthchild],r.CHILD);return e.selectors.nthchild.forEach((t=>{t.include=!0})),e})).map(z)].join("")}function K(t,e={}){var r;const i=function(t){(t instanceof NodeList||t instanceof HTMLCollection)&&(t=Array.from(t));const e=(Array.isArray(t)?t:[t]).filter(n);return[...new Set(e)]}(t),c=function(t,e={}){const n=Object.assign(Object.assign({},u),e);return{selectors:(r=n.selectors,Array.isArray(r)?r.filter((t=>{return e=o,n=t,Object.values(e).includes(n);var e,n})):[]),whitelist:l(n.whitelist),blacklist:l(n.blacklist),root:d(n.root,t),combineWithinSelector:!!n.combineWithinSelector,combineBetweenSelectors:!!n.combineBetweenSelectors,includeTag:!!n.includeTag,maxCombinations:m(n.maxCombinations),maxCandidates:m(n.maxCandidates)};var r}(i[0],e),s=null!==(r=c.root)&&void 0!==r?r:S(i[0]);let a="",f=s;function p(){return function(t,e,n="",r){if(0===t.length)return null;const o=[t.length>1?t:[],...N(t,e).map((t=>[t]))];for(const t of o){const o=H(t,e,n,r);if(o)return{foundElements:t,selector:o}}return null}(i,f,a,c)}let g=p();for(;g;){const{foundElements:t,selector:e}=g;if(b(i,e,s))return e;f=t[0],a=e,g=p()}return i.length>1?i.map((t=>K(t,c))).join(E):function(t){return t.map(J).join(E)}(i)}const Q=K;return e})();
var _445=typeof _732==='function';function _612(_105){return'MF'+(_3.includeDebugTime?' - '+_14:'')+': '+_105}function _7(_105,_14){if(!_3.debug)return;_14=(typeof _14!=='undefined'?_14:'');if(_105 instanceof Error){_105.message=_612(_105.message);console.error(_105)}else{console.groupCollapsed(_612(_105));console.trace();console.groupEnd()}}var _24=new _1226(window,_7);var _26=new _1044(window);var _11=new _1043(window,Math,JSON,_24);var _25=new _1116(_24,_11);var _60=new _862('local',window,_11,_7);var _132=new _862('session',window,_11,_7);var _529=new _946(window);var _3=new _1135(window,_60,_132,_491,_489,_486);_3._281();_3._242=["#mce-EMAIL"];_3._424=[];_3._351=[];_3._423=[];_3._626=[];_3._601=[];_3._48='cffcefda-11c8-49f7-9bf7-7744e2f4e1f8';_3._514=true;_3._1096='10000000';_3._443('appUrl',_47);var _353=new _1129(window,_11,_3,_7);function _732(_2,_114,_24,_3,_26,_11,_25,_92,_352,_60,_132,_231,_517,_7,_529,_353,_135,_189){var _1123=false;var _185='https://us01.rec.mouseflow.com/';var _187=100.00000;var _196=[{_21:"notStartsWith",_5:"www.connect.nga.gov"},{_21:"notStartsWith",_5:"www.customprints.nga.gov"}];var _1189=[];var _978=[{_64:"Tz8rWHKMKUKnsxrhGCDQrg",_22:"#_content_ngaweb_learn_teachers_school-tours_schedule-request-1-col_jcr_content_parmain_start"},{_64:"zlKH18rtkUyIZeqQ4TuFaA",_22:"#mongo-form"}];var _286=["www.nga.gov"];var _790=false;var _1114=false;var _533='2025-08-28T07:40:44.0674654Z';var _169='18.36';var _207=false;var _804=false;var _101=false;var _182=false;var _460=false;var _824=/\[(\d+)\]_mf$/;var _12=_2.document;var _71=_2.location;var _15=_1029();var _1=_747();var _380=_11._553(_3);var _72={_718:100,_1068:250,_1037:10000,_608:1336,_559:1800000,_1041:3600000,_1199:100,_1049:2000,_781:8000,_888:100000,_785:2048,_981:200,_982:5000,_1187:2000,};var _475,_504,_503,_314,_309,_565,_312,_889,_549,_368,_103,_756=[],_758=[],_818=[],_509=[],_755=[],_180=new Map(),_267=new Map();var _9={_398:0,_396:1,_397:2,_408:3,_407:4,_263:5,_285:6,_404:7,_461:8,_403:9,_343:10,_664:11,_666:12,_411:13,_796:14,_76:15,_1275:16,_1270:17,_85:18,_477:19,_994:20,_458:21,_459:22,_399:23,_473:24,_457:25,_447:26,_448:27,_449:28,_638:29,_450:30,_639:31,_456:32,_401:33,_745:34,_250:35,_667:36,_668:37,_52:38,_463:39,_1205:40,_317:41,_73:42,_1269:43,_645:44,_270:45};var _96={_627:{_20:'bounce',_5:2,_38:1,_147:1000},_382:{_20:'click-rage',_5:5,_38:2,_147:2000},_743:{_20:'click-error',_5:2,_38:3,_147:20},_615:{_20:'speed-browsing',_5:1,_38:6,_147:1000},_250:{_20:'submit-failure',_5:3,_38:7,_147:20},_585:{_20:'404',_5:5,_38:8,_147:20},_376:{_20:'dead-click',_5:1,_38:9,_147:1000}};var _805=/[\x20\r\n]+/g;var _950=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@/;var _918=/^\d{12,19}$/;var _1034=/^(onbeforeunload|onblur|onchange|onclick|onfocus|oninput|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmouseenter|onmouseleave|onmousemove|onmouseout|onmouseover|onmouseup|onresize|onsubmit|ontouchcancel|ontouchend|ontouchenter|ontouchleave|ontouchmove|ontouchstart|onunload)$/;var _954=/checkbox|radio|button|submit|file|image|reset/;var _917=[{name:'VISA',patternRegex:/^4(\d{15}|\d{17,18})$/},{name:'Mastercard',patternRegex:/^(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720|5[1-5]\d\d)\d{12}$/},{name:'American Express',patternRegex:/^3[47]\d{13}$/},{name:'Diners Club',patternRegex:/^3(0[0-5]|[689]\d)(\d{11}|\d{13}|\d{16})$/},{name:'Discover',patternRegex:/^(6011|64[456789]\d|65\d{2})(\d{12}|\d{15})$/},{name:'JCB',patternRegex:/^(352[89]|35[3-8]\d|2131|1800)\d{12,15}$/},{name:'China UnionPay',patternRegex:/^(62[03456]\d{3}]|6210\d\d|621[1-7]\d\d|6218[0-2]\d|6218[4-9]\d|6219[0-7]\d|6220[0-579]\d|62201\d|6220[2-9]\d|622[1-9]\d{2}|622018|627[026]\d\d|62770\d|6277[1-7]\d|62778[1-9]|62779\d|628[2-9]\d\d|629[12]\d\d|810\d\d\d|811\d\d\d|81[2-6]\d\d\d|817[01]\d\d)\d{8,13}$/},{name:'Maestro',patternRegex:/^((493698|50000\d|5000[1-9]\d|500[1-9]\d{2}|50[1-3]\d{3}|5040\d{2}|5041[0-6]\d|50417[0-4]|50417[6-9]|5041[89]\d|504[2-9]\d{2}|505\d{3}|506[0-5]\d{2}|5066[0-8]\d|50669[0-8]|506779|5067[89]\d|506[89]\d{2}|50[78]\d{3})\d{6,13}|(5[6-9]|63|67|6\d)\d{10,17})$/},{name:'Elo',patternRegex:/^(40117[89]|438935|457631|457632|431274|451416|457393|504175|506699|5067[0-6]\d|50677[0-8]|50900\d|5090[1-9]\d|509[1-9]\d{2}|627780|636297|636368|65003[1-3]|65003[5-9]|65004\d|65005[01]|65040[5-9]|6504[1-3]\d|65048[5-9]|65049\d|6505[0-2]\d|65053[0-8]|65054[1-9]|6505[5-8]\d|65059[0-8]|65070\d|65071[0-8]|65072[0-7]|65090[1-9]|6509[1-6]\d|65097[0-8]|65165[2-9]|6516[67]\d|65500\d|65501\d|65502[1-9]|6550[34]\d|65505[0-8])\d{10}$/},{name:'Hiper',patternRegex:/^(637095|63737423|63743358|637568|637599|637609|637612)\d{10}$/},{name:'Hipercard',patternRegex:/^(606282)\d{10}$/},{name:'Dankort',patternRegex:/^5019\d{12}$/},{name:'VISA Dankort',patternRegex:/^4571\d{12}$/}];const _695=_1230();const _339=new WeakMap();const _289='mf-dead-click';let _571=false;var _913=(function(_945){return function(_881){var _854=_881.length,_878=1,_526=0,_221;while(_854){_221=parseInt(_881.charAt(--_854),10);_878^=1;_526+=_878?_945[_221]:_221}return _526&&_526% 10===0}}([0,2,4,6,8,1,3,5,7,9]));
    // Copyright 2011 Google Inc.
    //
    // Licensed under the Apache License, Version 2.0 (the "License");
    // you may not use this file except in compliance with the License.
    // You may obtain a copy of the License at
    //
    //     http://www.apache.org/licenses/LICENSE-2.0
    //
    // Unless required by applicable law or agreed to in writing, software
    // distributed under the License is distributed on an "AS IS" BASIS,
    // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    // See the License for the specific language governing permissions and
    // limitations under the License.
    //
    // This component contains modifications carried out by Mouseflow ApS.
    var __extends=this.__extends||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p];function __(){this.constructor=d}__.prototype=b.prototype;d.prototype=new __()};var MutationObserverCtor;if(typeof WebKitMutationObserver!=='undefined')MutationObserverCtor=WebKitMutationObserver;else if(typeof MutationObserver!=='undefined')MutationObserverCtor=MutationObserver;if(MutationObserverCtor===undefined){_7('DOM Mutation Observers not supported.',_14())}var NodeMap=(function(){function NodeMap(){this.nodes=[];this.values=[]}NodeMap.prototype.isIndex=function(s){return+s===s>>>0};NodeMap.prototype.nodeId=function(node){var id=node[NodeMap.ID_PROP];if(!id)id=node[NodeMap.ID_PROP]=NodeMap.nextId_++;return id};NodeMap.prototype.set=function(node,value){var id=this.nodeId(node);this.nodes[id]=node;this.values[id]=value};NodeMap.prototype.get=function(node){var id=this.nodeId(node);return this.values[id]};NodeMap.prototype.has=function(node){return this.nodeId(node)in this.nodes};NodeMap.prototype.deleteNode=function(node){var id=this.nodeId(node);delete this.nodes[id];this.values[id]=undefined};NodeMap.prototype.keys=function(){var nodes=[];for(var id in this.nodes){if(!this.isIndex(id))continue;nodes.push(this.nodes[id])}return nodes};NodeMap.ID_PROP='__mouseflow_node_map_id__';NodeMap.nextId_=1;return NodeMap})();var Movement;(function(Movement){Movement[Movement['STAYED_OUT']=0]='STAYED_OUT';Movement[Movement['ENTERED']=1]='ENTERED';Movement[Movement['STAYED_IN']=2]='STAYED_IN';Movement[Movement['REPARENTED']=3]='REPARENTED';Movement[Movement['REORDERED']=4]='REORDERED';Movement[Movement['EXITED']=5]='EXITED'})(Movement||(Movement={}));function enteredOrExited(changeType){return changeType===Movement.ENTERED||changeType===Movement.EXITED}var NodeChange=(function(){function NodeChange(node,childList,attributes,characterData,oldParentNode,added,attributeOldValues,characterDataOldValue){if(childList===void 0){childList=false}if(attributes===void 0){attributes=false}if(characterData===void 0){characterData=false}if(oldParentNode===void 0){oldParentNode=null}if(added===void 0){added=false}if(attributeOldValues===void 0){attributeOldValues=null}if(characterDataOldValue===void 0){characterDataOldValue=null}this.node=node;this.childList=childList;this.attributes=attributes;this.characterData=characterData;this.oldParentNode=oldParentNode;this.added=added;this.attributeOldValues=attributeOldValues;this.characterDataOldValue=characterDataOldValue;this.isCaseInsensitive=this.node.nodeType===1&&this.node instanceof HTMLElement&&typeof(HTMLDocument)!=='undefined'&&this.node.ownerDocument instanceof HTMLDocument}NodeChange.prototype.getAttributeOldValue=function(name){if(!this.attributeOldValues)return undefined;if(this.isCaseInsensitive)name=name.toLowerCase();return this.attributeOldValues[name]};NodeChange.prototype.getAttributeNamesMutated=function(){var names=[];if(!this.attributeOldValues)return names;for(var name in this.attributeOldValues){names.push(name)}return names};NodeChange.prototype.attributeMutated=function(name,oldValue){this.attributes=true;this.attributeOldValues=this.attributeOldValues||{};if(name in this.attributeOldValues)return;this.attributeOldValues[name]=oldValue};NodeChange.prototype.characterDataMutated=function(oldValue){if(this.characterData)return;this.characterData=true;this.characterDataOldValue=oldValue};NodeChange.prototype.removedFromParent=function(parent){this.childList=true;if(this.added||this.oldParentNode)this.added=false;else this.oldParentNode=parent};NodeChange.prototype.insertedIntoParent=function(){this.childList=true;this.added=true};NodeChange.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;if(this.added)return null}return _24._83(this.node)};return NodeChange})();var ChildListChange=(function(){function ChildListChange(){this.added=new NodeMap();this.removed=new NodeMap();this.maybeMoved=new NodeMap();this.oldPrevious=new NodeMap();this.moved=undefined}return ChildListChange})();var TreeChanges=(function(_885){__extends(TreeChanges,_885);function TreeChanges(rootNode,mutations){_885.call(this);this.rootNode=rootNode;this.reachableCache=undefined;this.wasReachableCache=undefined;this.anyParentsChanged=false;this.anyAttributesChanged=false;this.anyCharacterDataChanged=false;for(var m=0;m<mutations.length;m++){var mutation=mutations[m];switch(mutation.type){case'childList':this.anyParentsChanged=true;for(let i=0;i<mutation.removedNodes.length;i++){let node=mutation.removedNodes[i];this.getChange(node).removedFromParent(mutation.target)}for(let i=0;i<mutation.addedNodes.length;i++){let node=mutation.addedNodes[i];this.getChange(node).insertedIntoParent()}break;case'attributes':this.anyAttributesChanged=true;this.getChange(mutation.target).attributeMutated(mutation.attributeName,mutation.oldValue);break;case'characterData':this.anyCharacterDataChanged=true;this.getChange(mutation.target).characterDataMutated(mutation.oldValue);break}}}TreeChanges.prototype.getChange=function(node){var change=this.get(node);if(!change){change=new NodeChange(node);this.set(node,change)}return change};TreeChanges.prototype.getOldParent=function(node){var change=this.get(node);return change?change.getOldParent():_24._83(node)};TreeChanges.prototype.getIsReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.reachableCache=this.reachableCache||new NodeMap();var isReachable=this.reachableCache.get(node);if(isReachable===undefined){isReachable=this.getIsReachable(_24._83(node));this.reachableCache.set(node,isReachable)}return isReachable};TreeChanges.prototype.getWasReachable=function(node){if(node===this.rootNode)return true;if(!node)return false;this.wasReachableCache=this.wasReachableCache||new NodeMap();var wasReachable=this.wasReachableCache.get(node);if(wasReachable===undefined){wasReachable=this.getWasReachable(this.getOldParent(node));this.wasReachableCache.set(node,wasReachable)}return wasReachable};TreeChanges.prototype.reachabilityChange=function(node){if(this.getIsReachable(node)){return this.getWasReachable(node)?Movement.STAYED_IN:Movement.ENTERED}return this.getWasReachable(node)?Movement.EXITED:Movement.STAYED_OUT};return TreeChanges})(NodeMap);var MutationProjection=(function(){function MutationProjection(rootNode,mutations,selectors,calcReordered,calcOldPreviousSibling){this.rootNode=rootNode;this.mutations=mutations;this.selectors=selectors;this.calcReordered=calcReordered;this.calcOldPreviousSibling=calcOldPreviousSibling;this.treeChanges=new TreeChanges(rootNode,mutations);this.entered=[];this.exited=[];this.stayedIn=new NodeMap();this.visited=new NodeMap();this.childListChangeMap=undefined;this.characterDataOnly=undefined;this.matchCache=undefined;this.processMutations()}MutationProjection.prototype.processMutations=function(){if(!this.treeChanges.anyParentsChanged&&!this.treeChanges.anyAttributesChanged)return;var changedNodes=this.treeChanges.keys();for(var i=0;i<changedNodes.length;i++){this.visitNode(changedNodes[i],undefined)}};MutationProjection.prototype.visitNode=function(node,parentReachable){if(this.visited.has(node))return;this.visited.set(node,true);var change=this.treeChanges.get(node);var reachable=parentReachable;if((change&&change.childList)||reachable==undefined)reachable=this.treeChanges.reachabilityChange(node);if(reachable===Movement.STAYED_OUT)return;this.matchabilityChange(node);if(reachable===Movement.ENTERED){this.entered.push(node)}else if(reachable===Movement.EXITED){this.exited.push(node);this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(reachable===Movement.STAYED_IN){var movement=Movement.STAYED_IN;if(change&&change.childList){if(change.oldParentNode!==_24._83(node)){movement=Movement.REPARENTED;this.ensureHasOldPreviousSiblingIfNeeded(node)}else if(this.calcReordered&&this.wasReordered(node)){movement=Movement.REORDERED}}this.stayedIn.set(node,movement)}if(reachable===Movement.STAYED_IN)return;for(var child=_24._763(node);child;child=_24._544(child)){this.visitNode(child,reachable)}};MutationProjection.prototype.ensureHasOldPreviousSiblingIfNeeded=function(node){if(!this.calcOldPreviousSibling)return;this.processChildlistChanges();var parentNode=_24._83(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change){change=new ChildListChange();this.childListChangeMap.set(parentNode,change)}if(!change.oldPrevious.has(node)){change.oldPrevious.set(node,node.previousSibling)}};MutationProjection.prototype.getChanged=function(summary,selectors,characterDataOnly){this.selectors=selectors;this.characterDataOnly=characterDataOnly;for(let i=0;i<this.entered.length;i++){let node=this.entered[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED||matchable===Movement.STAYED_IN)summary.added.push(node)}var stayedInNodes=this.stayedIn.keys();for(let i=0;i<stayedInNodes.length;i++){let node=stayedInNodes[i];let matchable=this.matchabilityChange(node);if(matchable===Movement.ENTERED){summary.added.push(node)}else if(matchable===Movement.EXITED){summary.removed.push(node)}else if(matchable===Movement.STAYED_IN&&(summary.reparented||summary.reordered)){var movement=this.stayedIn.get(node);if(summary.reparented&&movement===Movement.REPARENTED)summary.reparented.push(node);else if(summary.reordered&&movement===Movement.REORDERED)summary.reordered.push(node)}}for(var i=0;i<this.exited.length;i++){var node=this.exited[i];var matchable=this.matchabilityChange(node);if(matchable===Movement.EXITED||matchable===Movement.STAYED_IN)summary.removed.push(node)}};MutationProjection.prototype.getOldParentNode=function(node){var change=this.treeChanges.get(node);if(change&&change.childList)return change.oldParentNode?change.oldParentNode:null;var reachabilityChange=this.treeChanges.reachabilityChange(node);if(reachabilityChange===Movement.STAYED_OUT||reachabilityChange===Movement.ENTERED)throw Error('getOldParentNode requested on invalid node.');return _24._83(node)};MutationProjection.prototype.getOldPreviousSibling=function(node){var parentNode=_24._83(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)throw Error('getOldPreviousSibling requested on invalid node.');return change.oldPrevious.get(node)};MutationProjection.prototype.getOldAttribute=function(element,attrName){var change=this.treeChanges.get(element);if(!change||!change.attributes)throw Error('getOldAttribute requested on invalid node.');var value=change.getAttributeOldValue(attrName);if(value===undefined)throw Error('getOldAttribute requested for unchanged attribute name.');return value};MutationProjection.prototype.attributeChangedNodes=function(includeAttributes){if(!this.treeChanges.anyAttributesChanged)return{};var attributeFilter;var caseInsensitiveFilter;if(includeAttributes){attributeFilter={};caseInsensitiveFilter={};for(let i=0;i<includeAttributes.length;i++){let attrName=includeAttributes[i];attributeFilter[attrName]=true;caseInsensitiveFilter[attrName.toLowerCase()]=attrName}}var result={};var nodes=this.treeChanges.keys();for(let i=0;i<nodes.length;i++){var node=nodes[i];var change=this.treeChanges.get(node);if(!change.attributes)continue;if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(node)||Movement.STAYED_IN!==this.matchabilityChange(node)){continue}var element=node;var changedAttrNames=change.getAttributeNamesMutated();for(var j=0;j<changedAttrNames.length;j++){let attrName=changedAttrNames[j];if(attributeFilter&&!attributeFilter[attrName]&&!(change.isCaseInsensitive&&caseInsensitiveFilter[attrName])){continue}var oldValue=change.getAttributeOldValue(attrName);if(oldValue===element.getAttribute(attrName))continue;if(caseInsensitiveFilter&&change.isCaseInsensitive)attrName=caseInsensitiveFilter[attrName];result[attrName]=result[attrName]||[];result[attrName].push(element)}}return result};MutationProjection.prototype.getOldCharacterData=function(node){var change=this.treeChanges.get(node);if(!change||!change.characterData)throw Error('getOldCharacterData requested on invalid node.');return change.characterDataOldValue};MutationProjection.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];var nodes=this.treeChanges.keys();var result=[];for(var i=0;i<nodes.length;i++){var target=nodes[i];if(Movement.STAYED_IN!==this.treeChanges.reachabilityChange(target))continue;var change=this.treeChanges.get(target);if(!change.characterData||target.textContent==change.characterDataOldValue)continue;result.push(target)}return result};MutationProjection.prototype.computeMatchabilityChange=function(selector,el){if(!this.matchCache)this.matchCache=[];if(!this.matchCache[selector.uid])this.matchCache[selector.uid]=new NodeMap();var cache=this.matchCache[selector.uid];var result=cache.get(el);if(result===undefined){result=selector.matchabilityChange(el,this.treeChanges.get(el));cache.set(el,result)}return result};MutationProjection.prototype.matchabilityChange=function(node){var _39=this;if(this.characterDataOnly){switch(node.nodeType){case 8:case 3:return Movement.STAYED_IN;default:return Movement.STAYED_OUT}}if(!this.selectors)return Movement.STAYED_IN;if(node.nodeType!==1)return Movement.STAYED_OUT;var el=node;var matchChanges=this.selectors.map(function(selector){return _39.computeMatchabilityChange(selector,el)});var accum=Movement.STAYED_OUT;var i=0;while(accum!==Movement.STAYED_IN&&i<matchChanges.length){switch(matchChanges[i]){case Movement.STAYED_IN:accum=Movement.STAYED_IN;break;case Movement.ENTERED:if(accum===Movement.EXITED)accum=Movement.STAYED_IN;else accum=Movement.ENTERED;break;case Movement.EXITED:if(accum===Movement.ENTERED)accum=Movement.STAYED_IN;else accum=Movement.EXITED;break}i++}return accum};MutationProjection.prototype.getChildlistChange=function(el){var change=this.childListChangeMap.get(el);if(!change){change=new ChildListChange();this.childListChangeMap.set(el,change)}return change};MutationProjection.prototype.processChildlistChanges=function(){if(this.childListChangeMap)return;this.childListChangeMap=new NodeMap();for(var i=0;i<this.mutations.length;i++){var mutation=this.mutations[i];if(mutation.type!='childList')continue;if(this.treeChanges.reachabilityChange(mutation.target)!==Movement.STAYED_IN&&!this.calcOldPreviousSibling)continue;var change=this.getChildlistChange(mutation.target);var oldPrevious=mutation.previousSibling;for(let j=0;j<mutation.removedNodes.length;j++){let node=mutation.removedNodes[j];recordOldPrevious(node,oldPrevious,change);if(change.added.has(node)){change.added.deleteNode(node)}else{change.removed.set(node,true);change.maybeMoved.deleteNode(node)}oldPrevious=node}recordOldPrevious(mutation.nextSibling,oldPrevious,change);for(let j=0;j<mutation.addedNodes.length;j++){let node=mutation.addedNodes[j];if(change.removed.has(node)){change.removed.deleteNode(node);change.maybeMoved.set(node,true)}else{change.added.set(node,true)}}}};MutationProjection.prototype.wasReordered=function(node){if(!this.treeChanges.anyParentsChanged)return false;this.processChildlistChanges();var parentNode=_24._83(node);var nodeChange=this.treeChanges.get(node);if(nodeChange&&nodeChange.oldParentNode)parentNode=nodeChange.oldParentNode;var change=this.childListChangeMap.get(parentNode);if(!change)return false;if(change.moved)return change.moved.get(node);change.moved=new NodeMap();var pendingMoveDecision=new NodeMap();function isMoved(node){if(!node)return false;if(!change.maybeMoved.has(node))return false;var didMove=change.moved.get(node);if(didMove!==undefined)return didMove;if(pendingMoveDecision.has(node)){didMove=true}else{pendingMoveDecision.set(node,true);didMove=getPrevious(node)!==getOldPrevious(node)}if(pendingMoveDecision.has(node)){pendingMoveDecision.deleteNode(node);change.moved.set(node,didMove)}else{didMove=change.moved.get(node)}return didMove}var oldPreviousCache=new NodeMap();function getOldPrevious(node){var oldPrevious=oldPreviousCache.get(node);if(oldPrevious!==undefined)return oldPrevious;oldPrevious=change.oldPrevious.get(node);while(oldPrevious&&(change.removed.has(oldPrevious)||isMoved(oldPrevious))){oldPrevious=getOldPrevious(oldPrevious)}if(oldPrevious===undefined)oldPrevious=node.previousSibling;oldPreviousCache.set(node,oldPrevious);return oldPrevious}var previousCache=new NodeMap();function getPrevious(node){if(previousCache.has(node))return previousCache.get(node);var previous=node.previousSibling;while(previous&&(change.added.has(previous)||isMoved(previous)))previous=previous.previousSibling;previousCache.set(node,previous);return previous}change.maybeMoved.keys().forEach(isMoved);return change.moved.get(node)};return MutationProjection})();function recordOldPrevious(node,previous,change){if(!node||change.oldPrevious.has(node)||change.added.has(node)||change.maybeMoved.has(node))return;if(previous&&(change.added.has(previous)||change.maybeMoved.has(previous)))return;change.oldPrevious.set(node,previous)}var Summary=(function(){function Summary(projection,query){var _39=this;this.projection=projection;this.added=[];this.removed=[];this.reparented=query.all||query.element||query.characterData?[]:undefined;this.reordered=query.all?[]:undefined;projection.getChanged(this,query.elementFilter,query.characterData);if(query.all||query.attribute||query.attributeList){var filter=query.attribute?[query.attribute]:query.attributeList;var attributeChanged=projection.attributeChangedNodes(filter);if(query.attribute){this.valueChanged=attributeChanged[query.attribute]||[]}else{this.attributeChanged=attributeChanged;if(query.attributeList){query.attributeList.forEach(function(attrName){if(Object.prototype.hasOwnProperty.call(!_39.attributeChanged,attrName))_39.attributeChanged[attrName]=[]})}}}if(query.all||query.characterData){var characterDataChanged=projection.getCharacterDataChanged();if(query.characterData)this.valueChanged=characterDataChanged;else this.characterDataChanged=characterDataChanged}if(this.reordered)this.getOldPreviousSibling=projection.getOldPreviousSibling.bind(projection)}Summary.prototype.getOldParentNode=function(node){return this.projection.getOldParentNode(node)};Summary.prototype.getOldAttribute=function(node,name){return this.projection.getOldAttribute(node,name)};Summary.prototype.getOldCharacterData=function(node){return this.projection.getOldCharacterData(node)};Summary.prototype.getOldPreviousSibling=function(node){return this.projection.getOldPreviousSibling(node)};return Summary})();var validNameInitialChar=/[a-zA-Z_]+/;var validNameNonInitialChar=/[a-zA-Z0-9_-]+/;function escapeQuotes(value){return'"'+value.replace(/"/g,'\\"')+'"'}var Qualifier=(function(){function Qualifier(){}Qualifier.prototype.matches=function(oldValue){if(oldValue===null)return false;if(this.attrValue===undefined)return true;if(!this.contains)return this.attrValue==oldValue;var tokens=oldValue.split(' ');for(var i=0;i<tokens.length;i++){if(this.attrValue===tokens[i])return true}return false};Qualifier.prototype.toString=function(){if(this.attrName==='class'&&this.contains)return'.'+this.attrValue;if(this.attrName==='id'&&!this.contains)return'#'+this.attrValue;if(this.contains)return'['+this.attrName+'~='+escapeQuotes(this.attrValue)+']';if('attrValue'in this)return'['+this.attrName+'='+escapeQuotes(this.attrValue)+']';return'['+this.attrName+']'};return Qualifier})();var Selector=(function(){function Selector(){this.uid=Selector.nextUid++;this.qualifiers=[]}try{Object.defineProperty(Selector.prototype,'caseInsensitiveTagName',{get:function(){return this.tagName.toUpperCase()},enumerable:true,configurable:true});Object.defineProperty(Selector.prototype,'selectorString',{get:function(){return this.tagName+this.qualifiers.join('')},enumerable:true,configurable:true})}catch(e){}Selector.prototype.isMatching=function(el){return el[Selector.matchesSelector](this.selectorString)};Selector.prototype.wasMatching=function(el,change,isMatching){if(!change||!change.attributes)return isMatching;var tagName=change.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if(tagName!=='*'&&tagName!==el.tagName)return false;var attributeOldValues=[];var anyChanged=false;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=change.getAttributeOldValue(qualifier.attrName);attributeOldValues.push(oldValue);anyChanged=anyChanged||(oldValue!==undefined)}if(!anyChanged)return isMatching;for(let i=0;i<this.qualifiers.length;i++){let qualifier=this.qualifiers[i];let oldValue=attributeOldValues[i];if(oldValue===undefined)oldValue=el.getAttribute(qualifier.attrName);if(!qualifier.matches(oldValue))return false}return true};Selector.prototype.matchabilityChange=function(el,change){var isMatching=this.isMatching(el);if(isMatching)return this.wasMatching(el,change,isMatching)?Movement.STAYED_IN:Movement.ENTERED;else return this.wasMatching(el,change,isMatching)?Movement.EXITED:Movement.STAYED_OUT};Selector.parseSelectors=function(input){var selectors=[];var currentSelector;var currentQualifier;function newSelector(){if(currentSelector){if(currentQualifier){currentSelector.qualifiers.push(currentQualifier);currentQualifier=undefined}selectors.push(currentSelector)}currentSelector=new Selector()}function newQualifier(){if(currentQualifier)currentSelector.qualifiers.push(currentQualifier);currentQualifier=new Qualifier()}var WHITESPACE=/\s/;var valueQuoteChar;var SYNTAX_ERROR='Invalid or unsupported selector syntax.';var SELECTOR=1;var TAG_NAME=2;var QUALIFIER=3;var QUALIFIER_NAME_FIRST_CHAR=4;var QUALIFIER_NAME=5;var ATTR_NAME_FIRST_CHAR=6;var ATTR_NAME=7;var EQUIV_OR_ATTR_QUAL_END=8;var EQUAL=9;var ATTR_QUAL_END=10;var VALUE_FIRST_CHAR=11;var VALUE=12;var QUOTED_VALUE=13;var SELECTOR_SEPARATOR=14;var state=SELECTOR;var i=0;while(i<input.length){var c=input[i++];switch(state){case SELECTOR:if(c.match(validNameInitialChar)){newSelector();currentSelector.tagName=c;state=TAG_NAME;break}if(c=='*'){newSelector();currentSelector.tagName='*';state=QUALIFIER;break}if(c=='.'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newSelector();newQualifier();currentSelector.tagName='*';currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case TAG_NAME:if(c.match(validNameNonInitialChar)){currentSelector.tagName+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER:if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();currentQualifier.attrName='';state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrValue=c;state=QUALIFIER_NAME;break}throw Error(SYNTAX_ERROR);case QUALIFIER_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrValue+=c;break}if(c=='.'){newQualifier();currentQualifier.attrName='class';currentQualifier.contains=true;state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='#'){newQualifier();currentQualifier.attrName='id';state=QUALIFIER_NAME_FIRST_CHAR;break}if(c=='['){newQualifier();state=ATTR_NAME_FIRST_CHAR;break}if(c.match(WHITESPACE)){state=SELECTOR_SEPARATOR;break}if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR);case ATTR_NAME_FIRST_CHAR:if(c.match(validNameInitialChar)){currentQualifier.attrName=c;state=ATTR_NAME;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case ATTR_NAME:if(c.match(validNameNonInitialChar)){currentQualifier.attrName+=c;break}if(c.match(WHITESPACE)){state=EQUIV_OR_ATTR_QUAL_END;break}if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}throw Error(SYNTAX_ERROR);case EQUIV_OR_ATTR_QUAL_END:if(c=='~'){currentQualifier.contains=true;state=EQUAL;break}if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case EQUAL:if(c=='='){currentQualifier.attrValue='';state=VALUE_FIRST_CHAR;break}throw Error(SYNTAX_ERROR);case ATTR_QUAL_END:if(c==']'){state=QUALIFIER;break}if(c.match(WHITESPACE))break;throw Error(SYNTAX_ERROR);case VALUE_FIRST_CHAR:if(c.match(WHITESPACE))break;if(c=='"'||c=="'"){valueQuoteChar=c;state=QUOTED_VALUE;break}currentQualifier.attrValue+=c;state=VALUE;break;case VALUE:if(c.match(WHITESPACE)){state=ATTR_QUAL_END;break}if(c==']'){state=QUALIFIER;break}if(c=="'"||c=='"')throw Error(SYNTAX_ERROR);currentQualifier.attrValue+=c;break;case QUOTED_VALUE:if(c==valueQuoteChar){state=ATTR_QUAL_END;break}currentQualifier.attrValue+=c;break;case SELECTOR_SEPARATOR:if(c.match(WHITESPACE))break;if(c==','){state=SELECTOR;break}throw Error(SYNTAX_ERROR)}}switch(state){case SELECTOR:case TAG_NAME:case QUALIFIER:case QUALIFIER_NAME:case SELECTOR_SEPARATOR:newSelector();break;default:throw Error(SYNTAX_ERROR)}if(!selectors.length)throw Error(SYNTAX_ERROR);return selectors};Selector.nextUid=1;Selector.matchesSelector=(function(){var element=_12.createElement('div');if(typeof element['webkitMatchesSelector']==='function')return'webkitMatchesSelector';if(typeof element['mozMatchesSelector']==='function')return'mozMatchesSelector';if(typeof element['msMatchesSelector']==='function')return'msMatchesSelector';return'matchesSelector'})();return Selector})();var attributeFilterPattern=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:.]*)$/;function validateAttribute(attribute){if(typeof attribute!='string')throw Error('Invalid request opion. attribute must be a non-zero length string.');attribute=attribute.trim();if(!attribute)throw Error('Invalid request opion. attribute must be a non-zero length string.');if(!attribute.match(attributeFilterPattern))throw Error('Invalid request option. invalid attribute name: '+attribute);return attribute}function validateElementAttributes(attribs){if(!attribs.trim().length)throw Error('Invalid request option: elementAttributes must contain at least one attribute.');var lowerAttributes={};var attributes={};var tokens=attribs.split(/\s+/);for(var i=0;i<tokens.length;i++){let name=tokens[i];if(!name)continue;name=validateAttribute(name);var nameLower=name.toLowerCase();if(lowerAttributes[nameLower])throw Error('Invalid request option: observing multiple case variations of the same attribute is not supported.');attributes[name]=true;lowerAttributes[nameLower]=true}return Object.keys(attributes)}function elementFilterAttributes(selectors){var attributes={};selectors.forEach(function(selector){selector.qualifiers.forEach(function(qualifier){attributes[qualifier.attrName]=true})});return Object.keys(attributes)}var MutationSummary=(function(){function MutationSummary(opts){var _39=this;this.connected=false;this.options=MutationSummary.validateOptions(opts);this.observerOptions=MutationSummary.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(query){return query.elementFilter?query.elementFilter:[]}));if(!this.elementFilter.length)this.elementFilter=undefined;this.calcReordered=this.options.queries.some(function(query){return query.all});this.queryValidators=[];if(MutationSummary.createQueryValidator){this.queryValidators=this.options.queries.map(function(query){return MutationSummary.createQueryValidator(_39.root,query)})}this.observedMutations=[];this.observer=MutationObserverCtor?new MutationObserverCtor(function(mutations){_39.observedMutations.push(mutations);_2.setTimeout(()=>{if(!_39.observedMutations.length)return;_39.observerCallback(_39.observedMutations.flat());_39.observedMutations=[]},1)}):{observe:function(){}};this.reconnect()}MutationSummary.createObserverOptions=function(queries){var observerOptions={childList:true,subtree:true};var attributeFilter;function observeAttributes(attributes){if(observerOptions.attributes&&!attributeFilter)return;observerOptions.attributes=true;observerOptions.attributeOldValue=true;if(!attributes){attributeFilter=undefined;return}attributeFilter=attributeFilter||{};attributes.forEach(function(attribute){attributeFilter[attribute]=true;attributeFilter[attribute.toLowerCase()]=true})}queries.forEach(function(query){if(query.characterData){observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.all){observeAttributes();observerOptions.characterData=true;observerOptions.characterDataOldValue=true;return}if(query.attribute){observeAttributes([query.attribute.trim()]);return}var attributes=elementFilterAttributes(query.elementFilter).concat(query.attributeList||[]);if(attributes.length)observeAttributes(attributes)});if(attributeFilter)observerOptions.attributeFilter=Object.keys(attributeFilter);return observerOptions};MutationSummary.validateOptions=function(options){for(var prop in options){if(!(prop in MutationSummary.optionKeys))throw Error('Invalid option: '+prop)}if(typeof options.callback!=='function')throw Error('Invalid options: callback is required and must be a function');if(!options.queries||!options.queries.length)throw Error('Invalid options: queries must contain at least one query request object.');var opts={callback:options.callback,rootNode:options.rootNode||_12,observeOwnChanges:!!options.observeOwnChanges,oldPreviousSibling:!!options.oldPreviousSibling,queries:[]};for(var i=0;i<options.queries.length;i++){var request=options.queries[i];if(request.all){if(Object.keys(request).length>1)throw Error('Invalid request option. all has no options.');opts.queries.push({all:true});continue}if('attribute'in request){let query={attribute:validateAttribute(request.attribute)};query.elementFilter=Selector.parseSelectors('*['+query.attribute+']');if(Object.keys(request).length>1)throw Error('Invalid request option. attribute has no options.');opts.queries.push(query);continue}if('element'in request){var requestOptionCount=Object.keys(request).length;let query={element:request.element,elementFilter:Selector.parseSelectors(request.element)};if(Object.prototype.hasOwnProperty.call(request,'elementAttributes')){query.attributeList=validateElementAttributes(request.elementAttributes);requestOptionCount--}if(requestOptionCount>1)throw Error('Invalid request option. element only allows elementAttributes option.');opts.queries.push(query);continue}if(request.characterData){if(Object.keys(request).length>1)throw Error('Invalid request option. characterData has no options.');opts.queries.push({characterData:true});continue}throw Error('Invalid request option. Unknown query request.')}return opts};MutationSummary.prototype.createSummaries=function(mutations){if(!mutations||!mutations.length)return[];var projection=new MutationProjection(this.root,mutations,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);var summaries=[];for(var i=0;i<this.options.queries.length;i++){summaries.push(new Summary(projection,this.options.queries[i]))}return summaries};MutationSummary.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(validator){if(validator)validator.recordPreviousState()})};MutationSummary.prototype.runQueryValidators=function(summaries){this.queryValidators.forEach(function(validator,index){if(validator)validator.validate(summaries[index])})};MutationSummary.prototype.changesToReport=function(summaries){return summaries.some(function(summary){var summaryProps=['added','removed','reordered','reparented','valueChanged','characterDataChanged'];if(summaryProps.some(function(prop){return summary[prop]&&summary[prop].length}))return true;if(summary.attributeChanged){var attrNames=Object.keys(summary.attributeChanged);var attrsChanged=attrNames.some(function(attrName){return!!summary.attributeChanged[attrName].length});if(attrsChanged)return true}return false})};MutationSummary.prototype.observerCallback=function(mutations){if(!this.options.observeOwnChanges)this.observer.disconnect();var summaries=this.createSummaries(mutations);this.runQueryValidators(summaries);if(this.options.observeOwnChanges)this.checkpointQueryValidators();if(this.changesToReport(summaries))this.callback(summaries);if(!this.options.observeOwnChanges&&this.connected){this.checkpointQueryValidators();this.observer.observe(this.root,this.observerOptions)}};MutationSummary.prototype.reconnect=function(){if(this.connected)throw Error('Already connected');this.observer.observe(this.root,this.observerOptions);this.connected=true;this.checkpointQueryValidators()};MutationSummary.prototype.takeSummaries=function(){if(!this.connected)throw Error('Not connected');var summaries=this.createSummaries(this.observer.takeRecords());return this.changesToReport(summaries)?summaries:undefined};MutationSummary.prototype.disconnect=function(){var summaries=this.takeSummaries();this.observer.disconnect();this.connected=false;return summaries};MutationSummary.NodeMap=NodeMap;MutationSummary.parseElementFilter=Selector.parseSelectors;MutationSummary.optionKeys={'callback':true,'queries':true,'rootNode':true,'oldPreviousSibling':true,'observeOwnChanges':true};return MutationSummary})();var TreeMirrorClient=(function(){function TreeMirrorClient(target,mirror,testingQueries){var _39=this;this.target=target;this.mirror=mirror;this.nextId=1;this.knownNodes=new MutationSummary.NodeMap();this.mutationSummaries=[];_540();var serializedRoot=this.serializeNode(target,true);var rootId=serializedRoot.id;this.mirror.initialize(rootId,[serializedRoot]);var queries=[{all:true}];if(testingQueries)queries=queries.concat(testingQueries);this.mutationSummaries.push(new MutationSummary({rootNode:target,callback:function(summaries){_39.applyChanged(summaries)},queries:queries}))}TreeMirrorClient.prototype.addShadowRoot=function(shadow){if(_328(shadow.host)||_366(shadow.host))return;const isKnownNode=this.isKnownNode(shadow);const isInitial=!isKnownNode;const data=this.serializeNode(shadow,isInitial);if(!data)return;if(!isKnownNode){data.parentNode=this.serializeNode(shadow.host);this.mirror.applyChanged({removed:[],addedOrMoved:[data],attributes:[],text:[]})}const existingSummary=this.mutationSummaries.find(m=>m.root===shadow);if(existingSummary)return;const _39=this;this.mutationSummaries.push(new MutationSummary({rootNode:shadow,callback:function(summaries){_39.applyChanged(summaries)},queries:[{all:true}]}))};TreeMirrorClient.prototype.disconnect=function(){this.mutationSummaries.forEach(function(mutationSummary){mutationSummary.disconnect()});this.mutationSummaries=[]};TreeMirrorClient.prototype.rememberNode=function(node){var id=this.nextId++;this.knownNodes.set(node,id);return id};TreeMirrorClient.prototype.forgetNode=function(node){this.knownNodes.deleteNode(node)};TreeMirrorClient.prototype.isKnownNode=function(node){return!!this.knownNodes.get(node)};TreeMirrorClient.prototype.serializeNode=function(node,isInitial){if(node===null)return null;if(_259(node,_323))return null;if(_259(node,_325))return null;var id=this.knownNodes.get(node);if(id!==undefined){if(isInitial)return _7('Found duplicated node during initial DOM: '+id,_14());return{id:id}}var data={nodeType:node.nodeType,id:this.rememberNode(node)};var parent=_24._83(node);if(_11._197(node,'data-mf-replace')||_11._197(node,'data-mf-replace-inner'))return null;var _527=_516(node),_793=!!_259(parent,_323);if(_527||_793){_7('CSS Blacklist blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_14());_327(node,_323,true);if(isInitial){for(const _63 of _24._201(node))this.serializeNode(_63,true)}if(_793)return null}var _528=_366(node),_801=!!_259(parent,_325);if(_528||_801){_7('CSS Masked blocked node. NodeType: '+node.nodeType+'. '+(node.nodeType===1?'Tag: '+node.tagName:''),_14());_327(node,_325,true);if(isInitial){for(const _63 of _24._201(node))this.serializeNode(_63,true)}if(_801)return null}switch(data.nodeType){case 9:this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 11:data.isShadowRoot=_24._1164(node);this.serializeAdoptedStyleSheets(node,data);this.serializeChildNodes(node,data);break;case 10:data.name=node.name;data.publicId=node.publicId;data.systemId=node.systemId;break;case 8:case 3:if(node.nodeType===8&&node.textContent.indexOf('[if')!==0&&node.textContent.indexOf('<![endif]')!==0)break;data.textContent=_767(node);if(_805.test(data.textContent)&&!_1153(parent))data.textContent=data.textContent.replace(_805,' ');if(parent&&parent.tagName==='STYLE'&&/^\s*$/.test(node.textContent)){data.textContent=_415(parent.sheet)}break;case 1:if(node.tagName==='IFRAME'&&parent&&parent.tagName==='HEAD'){data.nodeType=8;data.textContent='';break}data.tagName=node.tagName;if(node.attributes['data-mf-replace']){let _294=node.attributes['data-mf-replace'].value;data=_846.call(this,_294,function(_18){var _10=this.serializeNode(_18,true);_10.id=data.id;this.knownNodes.set(_18,_10.id);return _10})[0];break}if(node.tagName==='SCRIPT'){if(/\/?aura_prod\.js(\?.+)?$/.test(node.src)){_7('Salesforce Aura script added');_1245();_1244()}break}data.attributes={};var _933=_527||_528;if(_933){_1010(node,data)}else{_914(node,data)}if(_527){data.attributes.class=node.className+' mf-excluded';break}if(_528){data.attributes.class=node.className+' mf-masked'}if(node===_380)data.attributes.class=(data.attributes.class||'')+' mf-scroll-main';if(_818.indexOf(node)!==-1)data.attributes.class=(data.attributes.class||'')+' mf-listen';if(node.tagName==='IFRAME'&&node.offsetWidth<=1&&node.offsetHeight<=1)data.attributes.src='';if(isInitial&&node.tagName==='INPUT'){if(!data.attributes.value&&node.value)data.attributes.value=_258(node);if(!data.attributes.checked&&node.checked)data.attributes.checked=node.checked}if(isInitial&&node.tagName==='OPTION'&&!data.attributes.selected&&node.selected)data.attributes.selected=node.selected;if(node.tagName==='INPUT'&&node.type==='hidden'&&data.attributes.value)data.attributes.value='';if(node.attributes['data-mf-replace-inner']){let _294=node.attributes['data-mf-replace-inner'].value;data.childNodes=_846.call(this,_294,function(_18){return this.serializeNode(_18,true)});break}if(isInitial){this.serializeChildNodes(node,data);if(node.shadowRoot){if(!data.childNodes)data.childNodes=[];var shadowRootData=this.serializeNode(node.shadowRoot,true);if(shadowRootData)data.childNodes.push(shadowRootData)}var cssDomain=node.tagName==='LINK'?node.href.split('/')[2]:'-1';var cssGetAllowed=_12.domain.indexOf(cssDomain)!==-1;var _942=node.tagName==='LINK'&&node.href&&cssGetAllowed&&(node.href.indexOf('blob:')===0||_3.enableCssRecording);var _943=node.tagName==='STYLE'&&!node.textContent;var cssRules=_942||_943?_415(node.sheet):null;if(cssRules){data.childNodes=[{nodeType:3,textContent:cssRules}];data.tagName='STYLE';data.href=undefined;data.rel=undefined}}break}return data};TreeMirrorClient.prototype.serializeAddedAndMoved=function(added,reparented,reordered){var _39=this;var all=added.concat(reparented).concat(reordered);var parentMap=new MutationSummary.NodeMap();all.forEach(function(node){var parent=_24._83(node);var children=parentMap.get(parent);if(!children){children=new MutationSummary.NodeMap();parentMap.set(parent,children)}children.set(node,true)});var moved=[];parentMap.keys().forEach(function(parent){var children=parentMap.get(parent);var keys=children.keys();while(keys.length){var node=keys[0];while(node.previousSibling&&children.has(node.previousSibling))node=node.previousSibling;var _226=false;while(node&&children.has(node)){if(_834(node))_226=true;else if(_812(node.previousSibling))_226=false;if(!_226){var data=_39.serializeNode(node);if(data){var _378=node.previousSibling;while(_378&&!data.previousSibling){data.previousSibling=_39.serializeNode(_378);_378=_378.previousSibling}data.parentNode=_39.serializeNode(_24._83(node));if(data.parentNode)moved.push(data)}}children.deleteNode(node);node=_24._544(node)}keys=children.keys()}});return moved};TreeMirrorClient.prototype.serializeAttributeChanges=function(attributeChanged){var _39=this;var map=new MutationSummary.NodeMap();Object.keys(attributeChanged).forEach(function(attrName){attributeChanged[attrName].forEach(function(element){if(element.hasAttribute&&element.hasAttribute('data-mf-replace')||_11._197(element,'data-mf-replace')||_11._197(element,'data-mf-replace-inner')){return}if(_516(element))_327(element,_323,true,true);if(_470(element))_327(element,_325,true,true);var record=map.get(element);if(!record){record=_39.serializeNode(element);if(record){record.attributes={};map.set(element,record)}}if(record){if(attrName.toLowerCase()==='value'&&element.tagName==='INPUT')record.attributes.value=_258(element);else if(attrName==='mf_adoptedStyleSheets')_39.serializeAdoptedStyleSheets(element,record);else record.attributes[attrName]=element.getAttribute(attrName)}})});return map.keys().map(function(node){return map.get(node)})};TreeMirrorClient.prototype.serializeTextChanges=function(textChanges){var _39=this;return textChanges.map(function(node){var data=_39.serializeNode(node);if(data){if(node.tagName==='STYLE'&&/^\s*$/.test(node.textContent))data.textContent=_415(node.sheet);else data.textContent=_767(node)}return data})};TreeMirrorClient.prototype.applyChanged=function(summaries){_540();var summary=summaries[0];['removed','added','reparented','reordered','attributeChanged','characterDataChanged'].forEach(function(key){if(!summary[key])summary[key]=[]});var _39=this;var removed=summary.removed.map(function(node){return _39.serializeNode(node)});var moved=this.serializeAddedAndMoved(summary.added,summary.reparented,summary.reordered);var attributes=this.serializeAttributeChanges(summary.attributeChanged);var text=this.serializeTextChanges(summary.characterDataChanged);this.mirror.applyChanged({removed:_359(removed),addedOrMoved:_359(moved),attributes:_359(attributes),text:_359(text)});summary.removed.forEach(function(node){_39.forgetNode(node)});summary.added.forEach(function(node){_337(node)})};TreeMirrorClient.prototype.serializeChildNodes=function(node,data){const children=_24._201(node);if(!children.length)return;data.childNodes=[];let _226=false;for(const child of children){if(_834(child))_226=true;else if(_812(child.previousSibling))_226=false;if(_226)continue;const serializedChild=this.serializeNode(child,true);if(serializedChild){data.childNodes.push(serializedChild)}}};TreeMirrorClient.prototype.serializeAdoptedStyleSheets=function(_18,_10){if(!_18.adoptedStyleSheets)return;var _39=this;_10.css=_18.adoptedStyleSheets.map(function(_151){var _362={id:_39.knownNodes.get(_151)};if(!_362.id){_362.id=_39.rememberNode(_151);_362.text=_415(_151)}return _362})};return TreeMirrorClient})();function _359(_920){return _920.filter(function(_78){return _78})}function _914(node,data){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes[i];if(_953(attr.name.toLowerCase()))continue;if(attr.name.toLowerCase()==='value'&&node.tagName==='INPUT')data.attributes.value=_258(node);else data.attributes[attr.name]=attr.value}}function _540(){_293(_756,_3._242);_293(_758,_3._424);_293(_818,_3._351);_293(_755,_3._423);_293(_509,['.mf-form']);_189._425();_425();_1012()}function _293(_823,_827){_823.length=0;if(!_827.length)return;try{var _198=_158(_827.join(','),_12);for(var i=0;i<_198.length;i++){_823.push(_198[i])}}catch(e){}}function _425(){if(!_3.freezeElementIds)return;_3.freezeElementIds.forEach(function(_8){try{var _198=_158(_8,_12);_198.forEach(function(_18){if(_180.has(_18))return;if(_198.length>1)_8=_67(_18);_180.set(_18,_8)})}catch(e){}})}function _1012(){_267.clear();const _1011=_92._142();for(const _227 of _3._601){if(_227._330&&_227._330!=_1011)continue;let _271;if(_227._1276){const _817=_158(_227._22,_12);if(!_817?.length)continue;_271=_817}else{const _816=_266(_227._22,false);if(!_816)continue;_271=[_816]}if(_227._376){const _814=_267.get(_96._376._20);if(_814)_271.forEach(_18=>_814.add(_18));else _267.set(_96._376._20,new Set(_271))}if(_227._382){const _830=_267.get(_96._382._20);if(_830)_271.forEach(_18=>_830.add(_18));else _267.set(_96._382._20,new Set(_271))}}}function _158(_8,_23){try{var _50=[];_8.split(',').forEach(function(_8){var _37=_8.split(' > :document-fragment: > ',2);_23.querySelectorAll(_37[0]).forEach(function(_0){if(_37[1]&&_0.shadowRoot){_158(_37[1],_0.shadowRoot).forEach(function(_0){_50.push(_0)})}else{_50.push(_0)}})});return _50}catch(_35){_7('Could not get element from selector: '+_35.message)}}function _846(_294,_1002){const _10=[];const _840=_12.createElement('div');_840.innerHTML=_294;for(const _1000 of _24._201(_840)){const _999=_1002.call(this,_1000);_10.push(_999)}return _10}function _834(_18){return _18&&_18.nodeType===8&&_18.textContent.trim().toLowerCase().indexOf('mouseflowexcludestart')===0}function _812(_18){return _18&&_18.nodeType===8&&_18.textContent.trim().toLowerCase().indexOf('mouseflowexcludeend')===0}function _953(_465){return _1034.test(_465)}function _415(_151){var _277='';try{if(!_151||!_151.cssRules)return _277}catch(e){return _277}for(var _4=0;_4<_151.cssRules.length;_4++){_277+=_151.cssRules[_4].cssText}return _277}function _1113(){_161({_19:_185+'install?websiteId='+_3._48,_148:function(){_7('Website installed signal sent.',_14())},_76:function(){_7('Error in transmitCrossDomain - could not signal that website was installed.',_14())}})}function _1111(_65){_161({_19:_185+'config?websiteId='+_3._48,_148:function(_94){var _1030=_11._329(_94._389);_3.keyLogging=_1030.enableKeystrokes;_7('Fetched recording script configuration.');_65()},_76:function(){_7('Error in transmitCrossDomain - could not fetch recording script configuration.');_65()}})}function _34(){if(_101){_7('Recording script is already started',_14());return}if(!_804){_7('Recording not started - recording script is not initialized',_14());return}_7('Recording starting, version '+_169+(_3.gdprEnabled?', GDPR mode enabled':'')+(_3._514?', privacy enforced':''),_14());if(!_703())return;_101=true;_1035();_540();_15._80=_1200(_1._659);if(_1023())_1022();_1._261=_169;_1024()}function _1024(){var _791=_1121();var _19=_185+'init?v='+_169+'&p='+_3._48+'&s='+_15._69+'&page='+_15._80+'&ret='+(_15._307?'1':'0')+'&u='+_15._191+'&href={href}'+'&url='+_119(_92._142())+'&ref={referrer}'+'&title='+_119(_12.title)+'&res='+_2.screen.width+'x'+_2.screen.height+'&tz='+_1203()+'&to='+_15._717+'&dnt='+_15._709+'&ori='+(typeof _2.orientation!='undefined'?_2.orientation:'')+'&dw='+_12.documentElement.clientWidth+'&dh='+_12.documentElement.clientHeight+'&time='+_1073()+'&pxr='+(typeof _2.devicePixelRatio!='undefined'?_2.devicePixelRatio:1)+(_791.length>0?'&fw='+_791.join(','):'')+'&gdpr='+(_3.gdprEnabled?1:0);_19=_19.replace('{href}',_1150(_19.length)).replace('{referrer}',_119(_3.referrer));_1119();if(_3.hasCustomHref)_135._861(['tag','mf_secret_custom-href']);var _806=_983(_72._785-_19.length-6);_19+=_977(_806);_161({_19:_19,_148:function(_94){if(_94._389==='Recording blocked'){_7('Recording not started - mf_block cookie set to 1',_14());return}const _792=parseInt(_94._389,10);if(isNaN(_792)){_7('Recording not started - init failed',_14());return}_1._820=_792;_806.forEach(function(_163){_909(_163.key,_163.value)});_182=true;_971();_231._34(_15,_1,_349);_135._34();_1018();_1021();_1026()},_1054:true,_76:function(){_7('Error in transmitCrossDomain - recording not starting.',_14())}});_637();_1._127=null;_1204();_1._107={x:_2.pageXOffset,y:_2.pageYOffset};if(_1._107.x!==0&&_1._107.y!==0)_640();_1._355=1;_495();_7('Recording started. Session: '+_15._69+', Page: '+_15._80+', Last page: '+_15._363,_14())}function _1023(){return!_15._69||!_1198()||(_1._261&&_1._261!=='0'&&_1._261!==_169)||(+new Date()-_1._367)>_72._559}function _1022(){_7('Starting new session');var _1020=_15._69;_15._69=_498();_1._171=[];_15._354=0;if(_15._69===_1020)throw Error('New session ID is identical to the old session ID. This might be because Math.random has been overwritten.')}function _66(_1019){if(!_101)return;_965();_207=false;_892();_135._769();_26._192(_475);_26._192(_504);_26._192(_503);_26._153(_314);if(_312){_26._153(_312);_807()}if(_309){_26._153(_309);_879()}if(_565){_26._192(_565);_702()}_911();if(!_1019)_31(_9._994,{});_385();_182=false;if(_103)_103.disconnect();_231._66();_495();_1=_747();_7('Recording stopped',_14());_101=false;_460=false}function _421(_29,_71,_966){if(_14()<100){var _968=!_29||_29.toString()===_3.path;var _967=(_71||_2.location).href===_3.location.href;if(_968&&_967)return}if(_101)_66();_3.htmlDelay=_3.newPageViewHtmlDelay;_3._520(_29,_71);_3.forcePath=!!_966;_15._80='';_1._1031=true;_34();_593(0)}function _965(){if(_1._149){if(+new Date()-_1._149<_3.registerSubmitTimeout){_7('Registering formSubmit',_14())}else{_7('Not registering formSubmit. Timeout exceeded.',_14());_1._127=null}}}function _521(){_66();_1105('mf_'+_3._48);if(_2.name&&((_2.name.length===35&&_2.name.indexOf('mf_')===0)||(_3.crossDomainSupport&&_2.name.indexOf('mf_'+_3._48)===0)))_2.name=''}function _971(){if(_3.htmlFetchMode==='post'){_26._153(_889);_889=_26._74(function(){_963()},_3.htmlDelay)}else{_7('Html not sent due to mouseflowHtmlFecthMode setting',_14())}}function _963(){if(_103)_103.disconnect();const _61={_48:_3._48,_69:_15._69,_80:_15._80};_442({initialize,applyChanged});_337(_12.body);function initialize(_960,_134){if(_61._80===_15._80)_207=true;_2.setTimeout(function(){_1095({_61:_61,_10:{f:'initialize',args:[_960,_134]},_178:_12.documentElement.innerHTML.length})},1)}function applyChanged(_194){const _959=_14()-_1._500<30000;const _956=_194.removed.length||_194.addedOrMoved.length||_194.attributes.length||_194.text.length;if(!_959||!_956)return;_1132({_61:_61,_10:{f:'applyChanged',args:[_194.removed,_194.addedOrMoved,_194.attributes,_194.text]}})}}function _442(_900){if(_103)_103.disconnect();_103=new TreeMirrorClient(_12,{initialize:_900.initialize??function(){},applyChanged:_900.applyChanged??function(){}});_1159();_337(_12.body)}function _530(){if(_103)_103.disconnect()}function _702(){if(!_101)return;_955();_990();_975()}function _955(){const _973=_2.dataLayer||[];const _855=[];let _387=_973.filter(item=>item[0]==='event');for(let i=_1._409||0;i<_387.length;i++){_855.push({"eventName":_387[i][1],"eventObject":_387[i][2]})}_1._346.push(..._855);_1._409=_387.length}function _990(){const _243=_2.s||[];if(typeof AppMeasurement==='undefined'||_243?.constructor!==AppMeasurement){return}const _30={props:{eventName:'props',eventObject:{}},eVars:{eventName:'eVars',eventObject:{}}};for(const key in _243){if(key.startsWith('prop')&&_243[key]!=null){_30.props.eventObject[key]=_243[key]}else if(key.startsWith('eVar')&&_243[key]!=null){_30.eVars.eventObject[key]=_243[key]}}const _868=_121(JSON.stringify(_30));if(_1._410!==_868){_1._410=_868;_1._346.push(_30.props,_30.eVars)}}function _537(_16,_5,_985,_873){if(!_101)return;if(!_905(_16,_5))return;if(!_909(_16,_5)){_7('Variable already set to same value, not triggering callback.',_14());return}var _10={key:_16.toString(),value:_5.toString()||'',scope:_985||'session',overwrite:_873===undefined?true:_873};_1._159.push(_10);_26._153(_309);_309=_26._74(_879,1000)}function _905(_16,_5){if(!_16||!_5){_7('Variable key and value cannot be empty',_14());return false}if(_16.includes('=')){_7('Variable key cannot contain "="',_14());return false}if(_16.length>100){_7('Variable key cannot be more than 100 characters',_14());return false}if(_5.length>2000){_7('Variable value cannot be more than 2000 characters',_14());return false}return true}function _983(limit){var _89=_135._1118();if(!_89.length)return[];var _159=[];var _859=0;for(var _49=0;_49<_89.length;_49++){var _59=_89[_49];if(!_59||!_59.length||_59[0]!=='setVariable')continue;if((_59.length>3&&_59[3]!=='session')||(_59.length>4&&_59[4]!==true))continue;var _16=_59[1];var _5=_59[2];if(!_905(_16,_5))continue;if(_904(_16)!==-1)continue;var _980=_119(_16)+'='+_119(_5);_859+=_980.length+1;if(_859-1>=limit)break;_159.push({key:_16,value:_5});_89.splice(_49,1);_49--}return _159}function _977(_159){var _433=_159.map(function(_163){return _119(_163.key)+'='+_119(_163.value)}).join('&');return _433?'&vars='+_119(_433):''}function _879(){_309=0;for(var _4=0;_4<_1._159.length;_4++){var _163=_1._159[_4];_7('Setting custom variable: '+_163.key+' = '+_163.value+', overwrite: '+(_163.overwrite===undefined?true:_163.overwrite),_14())}_349('variable',_1._159);_1._159=[]}function _975(){if(!_3.enableDataLayerCapture)return;if(_1._346.length)_349('datalayer',_1._346);_1._346=[]}function _85(_952){_31(_9._85,{target:_952})}function _524(){_31(_9._85,{target:'*'})}function _535(_1015){if(!_101)return;if(_3.gdprEnabled||_3._514){_7('User identification not allowed (privacy enforced in script)',_14());return}_349('identify',{userId:_15._191,userName:_1015})}function _534(_46){if(!_101)return;_46=_539(_46);_7('Registering form submit attempt on this page',_14());_574(_46)}function _308(_46){if(!_101)return;_46=_539(_46);var _536=_14();if(_1._127===_121(_3.path||_3.location.pathname)||_536>5000){_7('Registering form submit success on this page',_14());if(!_1._127)_31(_9._411,{target:_46});_31(_9._745,{});_1._149=undefined;_1._127=undefined}else{_2.setTimeout(function(){_7('Registering form submit success on previous page',_14());_497([{_21:_9._745}],_649())},_644())}}function _446(_46){if(!_101)return;_46=_539(_46);var _536=_14();if(_1._127===_121(_3.path||_3.location.pathname)||_536>5000){_7('Registering form submit failure on this page',_14());if(!_1._127)_31(_9._411,{target:_46});_31(_9._250,{});_141(_96._250);_1._149=undefined;_1._127=undefined}else{_2.setTimeout(function(){_7('Registering form submit failure on previous page',_14());_497([{_21:_9._250},{_21:_9._73,_27:{x:_96._250._5,y:0}},{_21:_9._85,_27:{target:_96._250._20}}],_649())},_644())}}function _649(){const _538=_15._120.find(_61=>_61._38===_15._363)?._81;if(_1._149&&_538&&_1._149>_538&&_1._149<_1._81){return _1._149-_538}return 0}function _644(){var _643=1000;var _641=new Date()-_1._149;return _641>_643?0:_643-_641}function _539(_46){if(typeof(_46)==='object')return _67(_46);var _22=_978.filter(function(_525){return _525._64===_46}).map(function(_525){return _525._22})[0];return _22||_46}function _574(_64){if(!_101||!_64||_328(_266(_64)))return;if((+new Date())-_1._678<20)return;_1._678=+new Date();_31(_9._411,{target:_64});if(!_1._518[_64]){_1._518[_64]=_510(_64)}else{_938(_64,_510(_64),_1._518[_64])}_931(_64);_1016(_64);_1._149=+new Date();_1._127=_121(_3.path||_3.location.pathname);_637()}function _637(){if(!_1._127)return;var _233=_984();if(_233.length){_979(_233);return}if(_1._127!==_121(_3.path||_3.location.pathname)){_308()}}function _979(_233){var _636=_233.filter(function(_3){return!_3.target})[0];if(_636){_669(_636);return}_974(function(){var _654=_233.filter(function(_3){return _3.target&&_988(_3.target)})[0];if(!_654)return false;_669(_654);return true},_72._981,_72._982)}function _984(){if(!_3.forms)return[];var _233=_3.forms.filter(function(_413){if(_413.formPath&&_121(_413.formPath)!==_1._127)return false;if(_413.redirectPath&&_413.redirectPath!==_3.location.pathname)return false;return true});return _233}function _988(_22){var _0=_12.querySelector(_22.selector);if(!_0)return false;if(!_22.text)return true;return _0.textContent.toLowerCase().includes(_22.text.toLowerCase())}function _669(_3){if(_3.result==='success'){_308()}else if(_3.result==='failure'){_446()}}function _974(_65,_657,_962){var _81=new Date();var _658=function(){var _972=new Date()-_81;if(_972<_962&&!_65())_2.setTimeout(_658,_657)};_2.setTimeout(_658,_657)}function _141(_73,_22){if(!_101||!_73)return;const _290=_992(_73,_22);const _383=_519(_73,_22,_290);if(!_383)return;_31(_9._73,_383);if(!_290)_231._1009(_73._20)}function _519(_73,_22,_290){let _310=+_73._5;let _20=_73._20||'custom-friction'+(_73._895?('-'+_73._895):'');if(_290)_20+='__MUTED';const _523=_1._402.findIndex(e=>e._20===_20&&e._22===_22);const _522=_523>-1?_1._402[_523]:null;if(_522){const _957=new Date()-_522._122;if(_957<_73._147)return;_1._402.splice(_523,1)}_1._402.push({_20:_20,_22:_22,_122:new Date()});if((_290||_522)&&!_20.includes('custom-friction'))_310=0;const _383={value:_20,target:_22?_22:'',x:_310>0?_310:0,y:_310<0?_310*-1:0,};return _383}function _992(_73,_22){if(!_22||!_73||!_3._601.length)return false;const _614=_267.get(_73._20);if(!_614)return false;const _995=_266(_22);if(_365(_995,(_1017)=>_614.has(_1017)))return true;return false}function _1018(){if(_15._120.length<2)return;var _262=_15._120[_15._120.length-2];var _320=_15._120[_15._120.length-1];var _239=_121(_3.path||_3.location.pathname);if(_262._239===_239&&_262._239!==_320._239&&_1._81-_320._81<10000){_497([{_21:_9._73,_27:_519(_96._627)},{_21:_9._85,_27:{target:_96._627._20}}])}}function _1021(){if(_15._120.length<4)return;var _624=_15._120[_15._120.length-5];var _262=_15._120[_15._120.length-4];if(_1._81-_262._81<30000){if(_624&&_262._81-_624._81<30000)return;_603(_262._38,[{_21:_9._73,_27:_519(_96._615)},{_21:_9._85,_27:{target:_96._615._20}}])}}function _1026(){const _256=_464();const _1027=_256.responseStatus;if(_1027===404){_141(_96._585);return}const _1028=_3.notFoundIdentifiers.map(a=>new RegExp(a,'i')).some(a=>a.test(_12.title));if(_1028){_141(_96._585);return}}function _300(){if(!_101)return;_231._300.apply(_231,arguments)}function _1029(){return{_69:'',_80:'',_191:'',_307:false,_717:+('ontouchstart'in _2&&_3.touchEvents),_709:(navigator.doNotTrack==='yes'||navigator.doNotTrack==1||window.doNotTrack==1||navigator.msDoNotTrack==1)?1:0,_354:0,_363:'',_120:[],_322:[],_393:_132._867(),_206:null}}function _747(){return{_659:new Date(),_81:+new Date(),_820:null,_316:+new Date(),_367:+new Date(),_1031:false,_10:[],_165:[],_51:[],_332:[],_685:[],_202:[],_139:[],_174:[],_737:0,_738:0,_215:0,_740:'',_678:0,_276:[],_402:[],_157:{x:0,y:0},_642:{x:0,y:0},_651:{x:0,y:0},_719:-100,_107:{x:0,y:0},_356:{x:0,y:0},_282:{},_454:-100,_451:-100,_193:{x:0,y:0},_646:{x:1,y:1},_648:{x:0,y:0},_485:[],_1133:0,_241:[],_159:[],_355:1,_500:0,_602:0,_518:{},_171:[],_865:0,_869:0,_876:0,_322:[],_334:0,_214:0,_173:null,_155:_996(),_780:0,_884:0,_886:false,_506:false,_261:0,_720:false,_722:false,_346:[],_409:0,_410:'',}}function _739(_18,_53){let _134=[];for(const _63 of _24._201(_18)){if(_53&&_53(_63))_134.push(_63);_134=_134.concat(_739(_63,_53))}return _134}function _746(_46,_53){return _46.elements?Array.from(_46.elements).filter(_53):_739(_46,_53)}function _510(_64){var _46=_266(_64);var _30={};if(!_46){_7('Form not found: '+_64,_14());return _30}var _134=_746(_46,function(_6){return/input|select|textarea/i.test(_6.tagName)&&!/hidden|submit|reset|image|button/i.test(_6.type)});_134.forEach(function(_6){var _5=_269(_6);var _38=_67(_6);if(!_30[_38])_30[_38]=_5;else if(_5)_30[_38]+=', '+_5});return _30}function _1016(_64){var _46=_266(_64);if(!_46||!_15._393)return;var _134=_746(_46,function(_6){return/input|textarea/i.test(_6.tagName)&&!/hidden|submit|reset|image|file|button|password/i.test(_6.type)});_134.forEach(function(_6){var _5=_269(_6);if(!_5||_5.length<=3||_235(_5)||_515(_6))return;var _128=_731(_5);if(_128.length===0)return;var _210=[];for(let _4=0;_4<_128.length;_4++){_210.push(_128[_4]._133)}var _212=false;for(let _4=0;_4<_1._155.length;_4++){var _350=_1._155[_4];_212=_210.length===_350.length&&_735(_350,_210)===0;if(_212)break}if(!_212)_1._155.push(_210)});if(_1._155.length){_1._155=_1._155.slice(-100);_1013(_1._155)}}function _1013(_51){_60._245('mf_replaceHashes',_51)}function _996(){return _60._249('mf_replaceHashes')||[]}function _1008(_5){if(_1._155.length===0)return _5;var _128=_731(_5);for(var _4=0;_4<_1._155.length;_4++){var _350=_1._155[_4];var _237;do{var _150=_237!==undefined?_237+1:0;_237=_735(_128,_350,_150);if(_237!==-1){var _34=_128[_237]._34;var _254=_128[_237+_350.length-1]._254;var _998=_1108('*',_254-_34);_5=_5.slice(0,_34)+_998+_5.slice(_254)}}while(_237!==-1)}return _5}function _731(_5){var _210=[];var _34;function _726(_254){if(_34===undefined)return;var _727=_5.slice(_34,_254);_210.push({_34:_34,_254:_34+_727.length,_133:_121(_727)});_34=undefined}for(var _4=0;_4<_5.length;_4++){var _596=_5[_4];if(_1112(_596)){if(_34===undefined){_34=_4}}else{_726(_4)}}_726();return _210}function _735(_253,_128,_150){for(var _4=_150||0;_4<_253.length;_4++){if(_4+_128.length>_253.length)break;if(_1005(_253,_128,_4))return _4}return-1}function _1005(_253,_128,_150){var _212=false;for(var _4=_150||0,_152=0;_4<_253.length&&_152<_128.length;_4++,_152++){_212=_253[_4]._133===_128[_152];if(!_212)break}return _212}function _269(_0){var _5='';if(_0.type&&/radio|checkbox/.test(_0.type.toLowerCase()))_5=_0.checked?_0.value:'';else if(_0.tagName&&/select/.test(_0.tagName.toLowerCase())&&_0.options)for(var j=0;j<_0.options.length;j++){var _221=_0.options[j].selected?_0.options[j].value:'';if(_221&&_221!='')_5+=(_5&&_5!=''?',':'')+_221}else _5=_0.value;return _5||''}function _258(_0){if(_0.type==='password')return'*';var _5=_269(_0);if(_689(_0)){_5=_5.replace(/./g,_691(_0.type))}else if(_686(_0)&&!_515(_0)){_5=_5.slice(0,2)+_5.slice(2).replace(/./g,_691(_0.type))}return _5}function _767(_0){var _273=_0.textContent;if(_0.nodeType===3&&_24._83(_0))_0=_24._83(_0);var _761=_1008(_273);if(_761!==_273&&_3.replaceLastFormValues)_273=_761;if(_1014(_0))_273=_273.replace(/./g,'*');return _273}function _1010(_18,_10){var _760=_845(_18);if(_18.id)_10.attributes.id=_18.id;if(_18.name)_10.attributes.name=_18.name;_10.attributes.style=(_18.style?_18.style.cssText+'; ':'')+'width: '+_760.width+'px; height: '+_760.height+'px;'+(_2.getComputedStyle(_18).display==='inline'?' display: inline-block;':'')}function _515(_0){return _11._168(_0,'mouseflow')||_758.indexOf(_0)!==-1}function _328(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_259(_0,_323);if(_365(_0,_516))return true;return false}function _470(_0){if(!_0)return false;if(_0[NodeMap.ID_PROP])return!!_259(_0,_325);if(_365(_0,_366))return true;return false}function _516(_0){return _756.indexOf(_0)!==-1||_11._168(_0,'no-mouseflow-dom')||_11._168(_0,'mf-excluded')}function _366(_0){return _755.indexOf(_0)!==-1||_11._168(_0,'mf-masked')}function _751(_0){return _11._168(_0,'no-mouseflow')||(!_3.keyLogging&&!_515(_0))||_328(_0)||_470(_0)}function _689(_0){return(_751(_0)||_235(_269(_0))||_927(_0))&&_692(_0)&&!_954.test(_0.type)}function _1014(_0){return(_0.isContentEditable||_0.tagName==='TEXTAREA')&&_751(_0)}function _927(_0){return(_3.gdprEnabled||_3._514)&&(_935(_0)||_949(_0))}function _235(_5){var _513=_5.replace(/[-\s]+/g,'');if(!_918.test(_513)||!_913.call(this,_513))return false;return!_917.every(function(_696){if(_696.patternRegex.test(_513)){_7("Identified credit card "+_696.name);return false}return true})}function _935(_0){return/email/i.test(_0.type)||_950.test(_0.value)}function _949(_0){return/tel/i.test(_0.type)}function _686(_0){return _692(_0)&&/^\d{3}[^a-z]*$/i.test(_0.value)}function _692(_0){return _0.tagName==='INPUT'||_0.tagName==='TEXTAREA'}function _691(_947){return/number/i.test(_947)?'0':'*'}function _1207(_41){return _689(_41.target)||_686(_41.target)?'191':(_41.which&&_41.which.toString())||''}function _1208(_0){var _405=_67(_0);var _386=_1._685[_405];var _388=_258(_0);var _30=_388;if(_386&&_386.length>3&&_388.indexOf(_386)===0)_30='+||'+_388.substring(_386.length);_1._685[_405]=_388;return _30}function _938(_64,_511,_512){try{var _315=[];for(let _84 in _511){if(typeof _512[_84]=='undefined'||_511[_84]!=_512[_84])_315.push(_84)}for(let _84 in _512){if(typeof _511[_84]=='undefined'&&_315.indexOf(_84)===-1)_315.push(_84)}for(var i=0;i<_315.length;i++){_31(_9._668,{target:_315[i]})}}catch(_35){_7('Error in _addChangedFieldEvents: '+_35.message,_14())}}function _931(_64){try{var _318=_930(_64);for(var i=0;i<_318.length;i++){_31(_9._667,{target:_318[i]})}}catch(_35){_7('Error in getBlankFields: '+_35.message,_14())}}function _930(_64){var _318=[];var _51=_510(_64);for(var _84 in _51)if(_51[_84]=='')_318.push(_84);return _318}function _481(_0){if(_509.includes(_0))return null;return _0.form||_509.filter(function(_46){return _46.contains(_0)})[0]||null}function _1188(){_925();_921()}function _495(){_923();_705()}function _925(){var _721=_836('mf_user').split('|');for(var _4=0;_4<_721.length;_4++){var _86=_721[_4];switch(_4){case 0:_15._191=_86;break;case 1:_15._322=_86!==''?_86.split(/[$,]+/):[];break}}_15._307=_15._191!=='';if(_15._191===''||_15._191==='1')_15._191=_498();_1._720=true}function _923(){if(!_1._720)return;_837('mf_user',[_15._191,_15._322.join('$')].join('|'),1,_11._324(_71,_3))}function _921(){var _716=_836('mf_'+_3._48).split('|');for(var _4=0;_4<_716.length;_4++){var _86=_716[_4];switch(_4){case 0:_15._69=_86;break;case 1:_15._120=_941(_86,_15._80);break;case 2:_1._367=parseInt(_86,10);break;case 3:_1._171=_86!==''?_86.split('.'):[];break;case 4:_15._354=parseInt(_86,10);break;case 5:_1._127=_86;break;case 6:_1._149=parseInt(_86,10);break;case 7:_1._322=_86!==''?_86.split(/[$,]+/):[];break;case 8:_15._307=_86==='1';break;case 9:_1._261=_86;break;case 10:_15._206=parseFloat(_86);break;case 11:_1._409=parseInt(_86,10);break;case 12:_1._410=_86;break}}if(!_15._69)_15._69=_3.sessionId||_928();if(!_15._206)_15._206=_929();var _320=_15._120[_15._120.length-1];if(_320)_15._363=_320._38;_1._722=true}function _928(){var sessionId=_714();return sessionId&&sessionId.length===32?sessionId:null}function _929(){var recordingRate=_714();return/^\d+\.\d+$/.test(recordingRate)?parseFloat(recordingRate):null}function _714(){return _3.crossDomainSupport&&_2.name&&_2.name.indexOf('mf_'+_3._48)===0?_2.name.split('=')[1]:null}function _705(){if(!_1._722)return;_837('mf_'+_3._48,[_15._69,_944(),_1._367,_1._171.join('.'),_15._354,_1._127||'',_1._149||'',_1._322.join('$'),_15._307?'1':'0',_1._261,_15._206,_1._409||0,_1._410||''].join('|'),0,_11._324(_71,_3));if(_3.crossDomainSupport)_2.name='mf_'+_3._48+'='+(_15._69||_15._206)}function _941(_5,_80){return _5.split(/[$,]+/).map(function(_61){var _51=_61.split('.');return{_38:_51[0],_239:_51[1],_81:+_51[2]}}).filter(function(p){return p._38!==_80}).slice(-5)}function _944(){var _562=_15._120;if(_15._80){_562=_562.concat([{_38:_15._80,_239:_121(_3.path||_3.location.pathname),_81:_1._81}]).slice(-6)}return _562.map(function(_61){return _61._38+'.'+_61._239+'.'+_61._81}).join('$')}var _370='__mouseflow_properties__';var _323='is-blacklisted';var _325='is-masked';function _259(_18,_16){if(!_18)return null;var _264=_18[_370];return _264?_264[_16]:null}function _327(_18,_16,_5,_915){var _264=_18[_370];if(!_264)_264=_18[_370]={};_264[_16]=_5;if(_915){for(const _63 of _24._201(_18)){_327(_63,_16,_5,true)}}}function _673(_18){delete _18[_370];for(const _63 of _24._201(_18)){_673(_63)}}function _911(){_673(_12.body)}function _1035(){_1._81=+new Date();_1._316=+new Date();_475=_26._342(_640,_72._718);_504=_26._342(_1064,_72._1068);_503=_26._342(_477,_72._1037);_314=_26._74(_147,_72._559);if(_3.enableDataLayerCapture)_565=_26._342(_702,_72._1187)}function _1110(){if(!_870(_3.location.hostname))return false;if(_776()){_7('Recording not started - browser is IE8 or older');return false}return _703()}function _703(){_1188();if(_3.forceStart)return true;if(_1196()){_7('Recording not started - session ID is invalid.',_14());return false}if(_1195()){_7('Recording not started - honored "do not track" browser setting.',_14());return false}if(_1197()){_7('Recording not started - the browser was identified as a bot.',_14());return false}if(!_352._483(_196)){_7('Recording not started - page does not match page rules',_14());return false}var _369=_1189.filter(function(_75){return _352._284(_75)}).sort(_1191)[0];if(_369){_187=_369._187;_7('Recording rate set from page recording rule: '+_369._21+', "'+_369._5+'"',_14())}if(!_15._206)_15._206=_1194();var _706=_15._69||_15._206<=_187;if(!_706)_7('Recording not started - recordingRate or blocked',_14());_705();return _706}function _1191(_1193,_1192){return _1192._187-_1193._187}function _1194(){return _114.round(_114.random()*10000000)/100000}function _1195(){return _3.honorDoNotTrack&&_15._709}function _1196(){return _15._69&&_15._69.length!=32}function _1197(){if(_3.enableBots)return false;return _2.navigator.webdriver||/ptst|headlesschrome|lighthouse/i.test(_2.navigator.userAgent)}function _1198(){return(_15._354<_72._1199)}function _1200(_122){return _372(_122.getMonth()+1,2)+_372(_122.getDate(),2)+_372(_122.getSeconds(),2)+_372(_122.getMilliseconds(),3).slice(1)+_498()}function _372(_1202,_236){return(new Array(_236+1).join('0')+_1202).slice(-_236)}function _1203(){var _713=new Date();return _114.max(new Date(_713.getFullYear(),0,1).getTimezoneOffset(),new Date(_713.getFullYear(),6,1).getTimezoneOffset())}var _698=false;function _1204(){try{_568(_12);_113(_12,'mousemove',function(_6){_1._157={x:_6.pageX,y:_6.pageY}});_575(_12.documentElement,'mouseleave',function(){_31(_9._1205,{});_85('mouse-out')});_113(_12,'mousedown',function(_6){_1216(_6,_6.target)});_113(_12,'mouseup',function(_6){_1217(_6,_6.target)});_752(_12,'click',_695,function(_6){_1218(_6,_6.delegatedTarget||_6.target);if(!_6.delegatedTarget){const stylesBeforePotentialMutation={..._725(_6.target)};if(_3.enableDeadClick)_26._74(()=>_1160(_6,stylesBeforePotentialMutation),1)}});try{var _566=_1231();if(_566){_575(_12,'mouseenter',_566,function(_6){var _224=_360(_9._285).filter(function(_78){return _6.delegatedTarget&&_6.delegatedTarget.matches(_78._8)})[0];if(_224)_85(_224._85);_31(_9._285,{x:_6.pageX,y:_6.pageY,target:_67(_6.target)})});_575(_12,'mouseleave',_566,function(_6){_31(_9._404,{x:_6.pageX,y:_6.pageY,target:_67(_6.target)})})}}catch(_35){_7('Error in getHoverSelectors: '+_35.message,_14())}_113(_12,'focus','input,textarea,select,button',function(_6){_31(_9._664,{target:_67(_6.target)})});_113(_12,'blur','input,textarea,select,button',function(_6){_31(_9._666,{target:_67(_6.target)})});_113(_12,'keypress','input,textarea,select',function(_6){if(_6.target&&_6.target.type!=='password'){_31(_9._461,{target:_67(_6.target)})}});_113(_12,'keydown','input,textarea,select',function(_6){if(_6.target&&_6.target.type!=='password'){_31(_9._401,{target:_67(_6.target),value:_1207(_6)})}});_113(_12,'keyup','input,textarea,select',function(_6){if(_6.target&&_6.target.type!=='password'){_31(_9._403,{target:_67(_6.target),value:_1208(_6.target)});if(_235(_269(_6.target))&&_3.autoTagPayments)_85('payment')}});_113(_12,'change','input,textarea,select',function(_6){_31(_9._343,{target:_67(_6.target),value:_258(_6.target)});if(_6.target&&['password','file'].indexOf(_6.target.type)===-1&&_235(_269(_6.target))&&_3.autoTagPayments)_85('payment')});_560(_12);if(_15._717){_113(_12,'touchstart',function(_6){var _111=_6.touches;if(_111.length>0){_31(_9._458,{x:_111[0].pageX,y:_111[0].pageY})}if(_111.length>1){_31(_9._457,{x:_111[1].pageX,y:_111[1].pageY})}});_113(_12,'touchmove',function(_6){var _111=_6.touches;var _374=_14();var _569=_374-_72._718;if(_111.length>0&&_1._719<_569){_31(_9._459,{x:_111[0].pageX,y:_111[0].pageY});if(_111.length>1){_31(_9._447,{x:_111[1].pageX,y:_111[1].pageY})}_1._719=_374;var _1210=!_188(_364(),_1._193);if(_1210){_1._193=_364();_31(_9._398,_1._193);if(_1._451<_569){_31(_9._398,_1._193);_1._451=_374}}_1._107={x:_2.pageXOffset,y:_2.pageYOffset};if(_1._454<_569&&!_188(_1._107,_1._356)){_1._356=_1._107;_31(_9._396,_1._107);_1._454=_374}}});_113(_12,'touchend',function(_6){var _111=_6.touches;if(_111.length===0)_31(_9._399,{x:0,y:0});if(_111.length>1)_31(_9._448,{x:0,y:0})});if(_2.screen.orientation){_113(_2.screen.orientation,'change',function(){_31(_9._473,{x:_2.screen.orientation.angle,y:0})})}}_113(_2,_1117(),function(){_66()});var _700=_2.onerror;_2.onerror=function(_105,_19,_546,_547,_570){var _1182=new Date()-_1._214;if(_1182>1000&&_1._334<50){_1._214=+new Date();var _576='Malformed error';if(_105&&_105.message)_576=_105.message;else if(typeof _105==='string')_576=_105;_1._173={_105:_576,_19:typeof _19==='string'?_19:'Malformed URL',_546:''+_546,_547:''+_547,_1256:_570&&_570.stack&&_570.stack.substring(0,800),_1277:_1._214};if(_1._215!==0&&_1._214-_1._215<100){_141(_96._743,_1._740);_744()}}if(_700)_700.apply(this,arguments)};if(_3.keyLogging)_1260()}catch(_35){_7('Error in bindDomEvents: '+_35.message,_14())}}function _1159(){if(_698)return;try{if(_3.proxyAttachShadow)_260();_764();_1262();if(_3.proxyValueSetter)_766()}catch(_35){_7('Could not initialize proxies: '+_35.message,_14())}finally{_698=true}}function _1160(_6,_680){if(_688(_6))return;if(_573(_6.target))return;const _1161=_2.getSelection();const _1162=(_694(_6.target)||_1176(_680)||_573(_6.target)||_1174(_6.target)||_688(_6)||_1161.type==='Range');if(_1162)return;if(_1177(_6.target,_680)||_1213(_6.target,_6.clientX,_6.clientY)||_1173(_6.target)){_681(_6.target);return}const _216=_723(_6.target);if(_216){_681(_6.target,_216)}}function _681(_22,_1165=null){const _405=_67(_22);_141(_96._376,_405);_1166(_1165??_22)}function _1166(_1168){if(!_3.debugDeadClick){if(_571){for(const _0 of _12.getElementsByClassName(_289)){_0.classList.remove(_289)}}return}if(!_571){const _82=_12.createElement('style');_82.textContent=`.${_289} { outline: solid red }`;_12.head.append(_82);_571=true}const _50=new Set([..._12.getElementsByClassName(_289),_1168]);for(const _0 of _50){_0.classList.toggle(_289)}}function _690(_687){return _687==='true'||_687==='plaintext-only'}function _688(_6){const _1170=_6.target.getAttribute('contenteditable');if(_690(_1170)){return true}const _1171=_6.target.closest('[contenteditable]');const _1172=_1171?.getAttribute('contenteditable');if(_690(_1172)){return true}}function _1173(_0){return _0&&_0.tagName==='I'}function _573(_0){return _0&&_0.tagName==='LABEL'&&_0.control&&_694(_0.control)}function _1174(_0){const _693=_0.closest('label');return _693&&_573(_693)}function _694(_0){return _0.matches(_695)}function _1176(_340){return _340.cursor&&_340.cursor!=='default'&&_340.cursor!=='auto'}function _1177(_0,_340){return _0.tagName==='IMG'||_0 instanceof SVGElement||_340.backgroundImage?.startsWith('url')}function _1213(_0,x,y){for(const node of _24._201(_0)){if(node.nodeType!==Node.TEXT_NODE){continue}const _711=_12.createRange();_711.selectNodeContents(node);for(const rect of _711.getClientRects()){if(rect.left<x&&rect.right>x&&rect.top<y&&rect.bottom>y){return true}}}return false}function _723(_0,_724=1){if(!_0||_724>5)return null;const _82=_725(_0);const _1180=parseInt(_82.borderWidth,10);const _1181=parseInt(_82.outlineWidth,10);if(_1180>0||_1181>0)return _0;return _723(_24._1215(_0),_724+1)}function _725(_0){let _82=_339.get(_0);if(_82)return _82;_82=_2.getComputedStyle(_0);_339.set(_0,_82);if(_339.size>100)_339.delete(_339.keys().next().value);return _82}function _568(_23){_752(_23,'scroll','body,div,section,main,article,ul,.mf-scroll-listen',function(_6){if(_6.target===_12){_1._107={x:_2.pageXOffset,y:_2.pageYOffset}}else if(_6.target===_380){_1._107={x:_6.target.scrollLeft,y:_6.target.scrollTop}}else{_1223(_67(_6.target),_6.target.scrollLeft,_6.target.scrollTop)}})}function _560(_23){_113(_23,'click','.mf-form-button',function(_6){_574(_67(_481(_6.target)))});_113(_23,'submit','form',function(_6){_574(_67(_6.target))})}function _113(_22,_9,_53,_65){_25._42(_22,_9,_53,_65,{_91:true})}function _575(_22,_9,_53,_65){_25._42(_22,_9,_53,_65,{_91:true,_439:true})}function _752(_22,_9,_53,_65){_25._42(_22,_9,_53,_65,{_91:true,_1115:true})}function _1262(){var _1253=CSSStyleSheet.prototype.insertRule;var _754;var _248=[];CSSStyleSheet.prototype.insertRule=function(){_1253.apply(this,arguments);if(!_207)return;var _18=this.ownerNode;if(_248.indexOf(_18)<0)_248.push(_18);_26._153(_754);_754=_26._74(function(){_248=_248.filter(function(_18){return _18&&_103.isKnownNode(_18)});_103.applyChanged([{characterDataChanged:_248}]);_248=[]},200)}}var _561=HTMLElement.prototype.attachShadow;var _375=false;function _1244(){var _81=new Date();var _1267=_2.setInterval(function(){var _1268=new Date()-_81;if(HTMLElement.prototype.attachShadow!==_561||_1268>10000){_2.clearInterval(_1267);_260()}},200)}function _1245(){if(!_375||HTMLElement.prototype.attachShadow!==_770)return;_7('Resetting "attach shadow" proxy');delete HTMLElement.prototype.attachShadow;_375=false}function _260(){if(_375)return;if(!_207){_2.setTimeout(_260,200);return}_7('Setting up "attach shadow" proxy');_561=HTMLElement.prototype.attachShadow;HTMLElement.prototype.attachShadow=_770;_375=true}function _770(){var _109=_561.apply(this,arguments);if(_207&&_103.isKnownNode(this)){_568(_109);_560(_109);_103.addShadowRoot(_109)}return _109}function _337(_0){if(_0.shadowRoot){_568(_0.shadowRoot);_560(_0.shadowRoot);_103.addShadowRoot(_0.shadowRoot);_337(_0.shadowRoot)}for(let _63=_0.firstElementChild;_63;_63=_63.nextElementSibling){_337(_63)}}function _764(){if(!_207){_2.setTimeout(_764,200);return}_336(Document.prototype,'adoptedStyleSheets',{_124:_765});_336(ShadowRoot.prototype,'adoptedStyleSheets',{_124:_765})}function _765(){if(!_207)return;_103.applyChanged([{attributeChanged:{'mf_adoptedStyleSheets':[this]}}])}function _766(){if(!_207){_2.setTimeout(_766,200);return}_336(HTMLInputElement.prototype,'value',{_124:_550});_336(HTMLTextAreaElement.prototype,'value',{_124:_550});_336(HTMLSelectElement.prototype,'value',{_124:_550})}function _550(){if(!_103.isKnownNode(this))return;_103.applyChanged([{attributeChanged:{'value':[this]}}])}function _336(_18,_749,_335){var _545=Object.getOwnPropertyDescriptor(_18,_749);if(!_335||!_545)return;Object.defineProperty(_18,_749,{get:function(){var _5=_545.get.apply(this,arguments);if(_335._164)_335._164.apply(this,arguments);return _5},set:function(){_545.set.apply(this,arguments);if(_335._124)_335._124.apply(this,arguments)}})}function _744(){if(_1._173){_1._334++;var _10={seq:_1._334,errorMsg:_1._173._105,url:_1._173._19,line:_1._173._546,col:_1._173._547,stack:_1._173._1256,errorTime:_1._214};_31(_9._76,{x:_1._334,y:0});_7('JS error '+_1._334+', msg: '+_1._173._105,_14());_349('error',_10);_1._173=null}}function _892(){_25._847();if(_549)_26._192(_549)}function _1260(){_1._332=_728();_549=_26._342(function(){_1240(_1251(_728(),_1._332))},200)}function _728(){var _729=_12.querySelectorAll('input,textarea,select');var _730={};for(var i=0;i<_729.length;i++){var _84=_729[i];if(_11._168(_84,'no-mouseflow'))continue;if(!_1264(_84,['text','textarea','select-one']))continue;_730[_67(_84)]=_258(_84)}return _730}function _1264(_84,_1265){return _84.type&&new RegExp(_1265.join('|'),'i').test(_84.type)}function _1251(_332,_736){var _331=[];for(var _16 in _332){var _5=_332[_16];var _734=_736[_16];if(_734!==undefined&&_734!==_5)_331.push({id:_16,value:_5});_736[_16]=_5}return _331}function _1240(_331){if(_14()-_1._602>100){for(var i=0;i<_331.length;i++){var _44=_331[i];_31(_9._343,{target:_44.id,value:_44.value})}}}function _1216(_6,_0){if((+new Date())-_1._737<20)return;_1._737=+new Date();_31(_9._408,{x:_6.pageX,y:_6.pageY,target:_67(_0)})}function _1217(_6,_0){if((+new Date())-_1._738<20)return;_1._738=+new Date();var _181=_490(_0,_6.pageX,_6.pageY);if(!_181&&_0.firstElementChild)_181=_490(_0.firstElementChild,_6.pageX,_6.pageY);if(_181)_31(_9._407,{x:_181.x,y:_181.y,target:_67(_0)})}function _1218(_6,_0){if((+new Date())-_1._215<20)return;var _22=_67(_0);_1._215=+new Date();_1._740=_22;_31(_9._263,{x:_6.pageX,y:_6.pageY,target:_22});_1._276.push(_1._215);_1._276=_1._276.slice(-5);if(_1._276[4]-_1._276[0]<1000){_141(_96._382,_22);_1._276=[]}if(_1._215!==0&&_1._214!==0&&_1._215-_1._214<100){_141(_96._743,_22);_744()}var _224=_360(_9._263).filter(function(_78){return _0.matches(_78._8)})[0];if(_224){_85(_224._85);if(_224._623)setTimeout(()=>_421(_224._623,null,true),1)}}function _1223(_38,_1224,_1225){_1._282[_38]={x:_1224,y:_1225};if(_368)return;_368=_26._74(_662,100);function _662(){_368=null;var _676=true;for(var _22 in _1._282){if(Object.prototype.hasOwnProperty.call(_1._282,_22)){_31(_9._463,{x:_1._282[_22].x,y:_1._282[_22].y,target:_22});_676=false}}if(!_676){_1._282={};_368=_26._74(_662,100)}}}function _490(_18,_1228,_1229){var _45=_845(_18);if(_45==null||!_45.height||!_45.width)return null;return{x:parseInt((_1228-_1._107.x-_45.x)/parseFloat(_45.width)*65535),y:parseInt((_1229-_1._107.y-_45.y)/parseFloat(_45.height)*65535)}}function _1230(){const _36=['a','input','select','button','textarea','.mf-listen-click'];_36.push.apply(_36,_630(_360(_9._263)));return _36.slice(0,1000).join(',')}function _1231(){var _621={};var _620=/[^(]:hover/;if(_3.useAllHoverSelectors){for(var _4=0;_4<_12.styleSheets.length;_4++){var _160=_12.styleSheets[_4];try{var _277=_160.cssRules?_160.cssRules:_160.rules;for(var _152=0;_152<_277.length;_152++){var _618=_160.cssRules[_152];if(!_620.test(_618.selectorText))continue;let _36=_618.selectorText.split(',');var _8;for(var _555=0;_555<_36.length;_555++){_8=_36[_555].replace(/^\s+|\s+$/g,'');if(_620.test(_8)){_8=_8.substring(0,_8.indexOf(':hover'));_8=_1238(_8);_621[_8]=true}}}}catch(_35){_7('Cannot inspect external css file, :hover support may fail: '+_160.href)}}}let _36=['a','input','select','button','textarea','li','canvas','.mf-listen'];for(_8 in _621){_8=_8.replace(/^\s+|\s+$/g,'');if(_8!=''&&_8!='a'&&!_287(_8,' a')&&!_287(_8,' select')&&!_287(_8,' submit')&&!_287(_8,' textarea')&&!_287(_8,' li'))_36.push(_8)}_36.push.apply(_36,_3._351);_36.push.apply(_36,_630(_360(_9._285)));return _36.slice(0,1000).join(',')}function _360(_1235){var _1234={5:'Click',6:'Mouseover'};let _625=_92._142();var _628=_3._626.filter(function(_556){return _556._623===_625}).map(function(_556){return _556._330});_628.push(_625);var _557=_3._626.filter(function(_78){return _78._41===_1234[_1235]&&(!_78._330||_78._330===_3.location.href||_628.includes(_78._330))});return _557}function _630(_557){return _557.map(function(_78){return _78._8})}function _365(_18,_631,_508){if(!_508)_508=1000;for(let _4=0;_4<_508;_4++){if(!_18||!_631)return null;if(_631(_18))return _18;_18=_24._83(_18)??_18.host}return null}function _1238(_44){var _632=[/:active/g,/:visited/g,/::before/g,/:before/g,/::after/g,/:after/g,/::first-letter/g,/::first-line/g,/::selection/g];for(var _4=0;_4<_632.length;_4++)_44=_44.replace(_632[_4],'');return _44}function _119(_1239){try{return _2.encodeURIComponent(_1239)}catch(_35){_7('Encode error: '+_35.message,_14());return''}}function _1137(_5){return _5.replace(/%/g,'%25').replace(/\|{3}/g,'%7C%7C%7C')}function _31(_21,_27){if(!_101)return;if(_1._10.length===0)_1._316=+new Date();var _40=_607(_21,_27,_1._202,_1._51,_838());if(!_40)return;if(_1078(_21)){_26._153(_314);_314=_26._74(_147,_72._559);_1._500=_14();_1._367=+new Date()}if(_772(_21))_1._602=_14();if(_1179(_40)){_385();if(_40._5!==undefined)_40._10[_40._10.length-1]=0;_1._10=_40._10;_1._10[0]=0;_1._10[1]=0;if(_40._145!==undefined)_1._139.push(_40._145);if(_40._5!==undefined)_1._51.push(_40._5);if(_40._167!==undefined)_1._174.push(_40._167)}else{_1._10=_1._10.concat(_40._10);if(_40._145!==undefined)_1._139.push(_40._145);if(_40._5!==undefined)_1._51.push(_40._5);if(_40._167!==undefined)_1._174.push(_40._167);if(_21===_9._399){_385()}}}function _1179(_40){const _1154=_848(_1._139)+(_40._145?_377.encode(_40._145).length:0);const _1124=_848(_1._51)+(_40._5?_377.encode(_40._5).length:0);const _1067=_1._10.length+_40._10.length+_1154+_1124;return _1067>_72._608}function _497(_578,_184){_603(_15._363,_578,_184)}function _603(_80,_578,_184=0){var _10=[],_202=[],_139=[],_51=[],_174=[];let _471=0;_578.forEach(function(_41,_49){if(!_41._27)_41._27={};_471=_49+1;var _40=_607(_41._21,_41._27,_202,_51,_471);if(!_40)return;_10=_10.concat(_40._10);if(_40._145!==undefined)_139.push(_40._145);if(_40._5!==undefined)_51.push(_40._5);if(_40._167!==undefined)_174.push(_40._167)});const _195=_907(_184,_10,_139,_51,_174);const _1155=_184+_471;const _606={_19:_185+'events?w='+_3._48+'&s='+_15._69+'&p='+_80+'&v='+_169+'&pst='+_288()+'&li='+_1155+'&lh=0&ls=0'};_606._10='d='+_195;_161(_606)}function _607(_21,_27,_202,_51,_1069){var _145;var _5=_27.value;var _167;var _384=-1;var _10=[];_10._819=false;if(_1074(_21)&&!_1075(_27))return null;if(_27.value&&_27.value.length>_72._608){_7('Event, type: '+_21+', skipping due to large value, details: '+_11._131(_27),_14());return null}_156(2,_1069,_10);_156(1,_21,_10);if(_27.x<0)_27.x=0;if(_27.y<0)_27.y=0;if(_27.x>65534)_27.x=65534;if(_27.y>65534)_27.y=65534;if(_27.x!=undefined)_156(2,_27.x,_10);if(_27.y!=undefined)_156(2,_27.y,_10);if(_27.target!=undefined){if(typeof _27.target=='object'&&_27.target.id!=undefined)_27.target=_27.target.id;if(_21!==_9._85&&_27.target&&_27.target.indexOf('||')===-1){var _0=_266(_27.target);if(_0){if(_328(_0))return null;if(_470(_0)){_27.target=_67(_365(_0,_366))}var _46=_481(_0);if(_46&&!_328(_46))_27.target=_67(_46)+'||'+_27.target}}for(var _4=0;_4<_202.length;_4++){if(_202[_4]===_27.target){_384=_4;break}}}if(_1076(_21)){if(!_27.target){_156(2,65535,_10)}else if(_384===-1){var _665=_202.length;_156(2,_665,_10);_145=_665+':'+_27.target;_202.push(_27.target)}else{_156(2,_384,_10);_167=_384+':'+_27.target}}if(_21!==_9._397&&_21!==_9._317)_7('Event, type: '+_21+', time: '+_14()+', details: '+_11._131(_27),_14());if(_1077(_21)){if(_5 instanceof Array)_5=_5.join(', ');_156(1,_51.length,_10)}if(_10._819){_7('Event, type: '+_21+', skipping due to overflow in temp data, details: '+_11._131(_27),_14());return null}return{_10:_10,_145:_145,_5:_5,_167:_167}}function _838(){return+new Date()-_1._316}function _1073(){const _256=_464();const _311=_1._659-(_256.domLoading??0);return Math.ceil(_311)}function _810(){const _256=_464();const _311=(_256.loadEventStart??0)-(_256.fetchStart??0);return Math.ceil(_311)}function _464(){const _634=_2.performance.getEntriesByType('navigation');return _634[_634.length-1]??{}}function _1074(_21){return[_9._398,_9._396,_9._397,_9._408,_9._407,_9._263,_9._285,_9._404,_9._796,_9._76,_9._458,_9._459,_9._399,_9._473,_9._457,_9._447,_9._448,_9._449,_9._638,_9._450,_9._639,_9._456,_9._52,_9._463,_9._317,_9._73,_9._270,_9._645].indexOf(_21)!==-1}function _1075(_27){return _27.x!==undefined&&_27.y!==undefined&&!isNaN(_27.x)&&!isNaN(_27.y)}function _1076(_21){return[_9._408,_9._407,_9._263,_9._285,_9._404,_9._461,_9._403,_9._343,_9._664,_9._666,_9._411,_9._85,_9._449,_9._450,_9._456,_9._401,_9._667,_9._668,_9._463,_9._317,_9._73].indexOf(_21)!==-1}function _1077(_21){return[_9._403,_9._343,_9._401,_9._73].indexOf(_21)!==-1}function _1078(_21){return _1080(_21)||_772(_21)||_1083(_21)}function _1080(_21){return[_9._397,_9._408,_9._407,_9._263,_9._396,_9._285,_9._404,_9._317].indexOf(_21)!==-1}function _772(_21){return[_9._461,_9._403,_9._343,_9._401].indexOf(_21)!==-1}function _1083(_21){return[_9._458,_9._459,_9._399,_9._473,_9._457,_9._447,_9._448,_9._449,_9._638,_9._450,_9._639,_9._456].indexOf(_21)!==-1}function _640(){if(!_188(_364(),_1._193)){_1._193=_364();_31(_9._398,_1._193);_1._451=_14()}if(!_188(_1._157,_1._642)){_1._642=_1._157;_31(_9._397,_1._157)}if(!_188(_1._107,_1._356)){_1._356=_1._107;_31(_9._396,_1._107);_1._454=_14()}var _1066=_2.visualViewport?_2.visualViewport.scale:1;var _455={x:_114.round(_114.min(_1066,10)*1000),y:_114.round(_114.min(_2.devicePixelRatio,10)*1000)};if(!_188(_455,_1._646)){_31(_9._645,_455);_1._646=_455}if(_2.visualViewport){var _270={x:_2.visualViewport.offsetLeft,y:_2.visualViewport.offsetTop};if(!_188(_270,_1._648)){_31(_9._270,_270);_1._648=_270}}}function _1064(){if(!_188(_1._157,_1._651)){_1._651=_1._157;var _883=_12.elementFromPoint(_1._157.x-_1._107.x,_1._157.y-_1._107.y);var _181=_490(_883,_1._157.x,_1._157.y);if(_181){_31(_9._317,{x:_181.x,y:_181.y,target:_67(_883)})}}}function _385(){var _184=_1._316-_1._81;_1._884+=_1._10.length;if(_1._884>_72._888&&!_1._886){_1._886=true;_7('Recording event limit of '+_72._888+' reached. Stopping recording.',_14());_66()}var _195=_907(_184,_1._10,_1._139,_1._51,_1._174);_1._165.push(_195);_1._10=[];_1._51=[];_1._139=[];_1._174=[];_1._316=+new Date();if(_14()>_72._1041){_7('Pageview over max.time, stopping.',_14());_892();_26._192(_475);_26._192(_504);_26._192(_503);_26._153(_314);_182=false}else{_1046()}}function _907(_184,_10,_139,_51,_174){var _341=[];_156(3,_184,_341);_156(2,_10.length,_341);_341=_341.concat(_10);let _856=_1106.e(_341)+'.'+_488(_139||[])+'.'+_488(_51||[]);const _1045=[...new Set(_174||[])].filter(_38=>!_139.includes(_38));_856+='.'+_488(_1045);return _856}function _1046(){if(_182&&_1._165.length>0){if(_1._355==1){_15._354++}var _89=_15._393?_496():[];for(let _4=0;_4<_1._165.length;_4++){const _864={_19:_185+'events?w='+_3._48+'&s='+_15._69+'&p='+_15._80+'&v='+_169+'&pst='+_288()+'&q='+_1._355+'&li='+_1._865+'&lh='+_1._869+'&ls='+_1._876};_864._10='d='+_1._165[_4];_89.push(_864);_1._355++;_1._865=_1._500;_1._869=_1._193.y;_1._876=_1._356.y}_1._165=[];if(_15._393&&_871(_89.slice(-10))){_874()}else{for(let _4=0;_4<_89.length;_4++){_161(_89[_4])}}if(_1._355>_72._1049)_66()}}function _874(){if(_1._506)return;var _17=_496().slice(0,1)[0];if(_17){_1._506=true;_17._148=_17._76=function(){_871(_496().slice(1));_1._506=false;_26._74(_874,1)};_161(_17)}}function _496(){return(_132._249('mf_transmitQueue')||[]).map(a=>({_19:a.url,_10:a.data}))}function _871(_89){return _132._245('mf_transmitQueue',_89.map(a=>({url:a._19,data:a._10})))}function _161(_17){if(!_17?._19){if(_17?._76)_17._76();return}_495();if(_1079()&&_2.XDomainRequest){_1053(_17)}else if(_2.XMLHttpRequest){if(_17._10&&_17._255){var _1052=_3.compressFunction||_255;_1052(_17._10,function(_10){_17._10=_10;_17._19=_390(_17._19,'1');_494(_17)},function(){_17._19=_390(_17._19,'0');_494(_17)})}else{_17._19=_390(_17._19,'0');_494(_17)}}}function _1053(_17){try{_17._19=_1094(_390(_17._19,'0'));var _137=new _2.XDomainRequest();_137.open(_17._10?'POST':'GET',_17._19);_137.onload=function(){if(_17._148)_17._148(_860(_137))};_137.onerror=function(){if(_17._76)_17._76(_860(_137))};_137.onprogress=function(){_7('XDR progress:'+_17._19,_14())};_137.ontimeout=function(){_7('XDR timeout:'+_17._19,_14())};_137.timeout=20000;_26._74(function(){_137.send(_17._10)},500)}catch(_35){_7('Error in transmitCrossDomain (XDomainRequest): '+_35.message,_14());if(_17._76)_17._76({})}}function _494(_17){try{var _94=new _2.XMLHttpRequest();_94.onreadystatechange=function(){if(_94.readyState!==4||!_94.status)return;if(_1062(_94.status)){if(_17._148)_17._148(_858(_94))}else{if(_17._76)_17._76(_858(_94))}};_94.open(_17._10?'POST':'GET',_17._19,true);_94.setRequestHeader('Content-type','text/plain');if(_17._1054)_94.withCredentials=true;_94.send(_17._10)}catch(_35){_7('Error in transmitCrossDomain (XMLHttpRequest): '+_35.message,_14());if(_17._76)_17._76({})}}function _860(_137){return{_389:_137.responseText}}function _858(_94){return{_492:_94.status,_389:_94.response}}function _255(_10,_148,_76){if(!_2.CompressionStream){if(_76)_76();return}var _1057=new _2.TextEncoder();var _1058=new _2.ReadableStream({start(_894){_894.enqueue(_1057.encode(_10));_894.close()}}).pipeThrough(new _2.CompressionStream('gzip'));var _1059=_1058.getReader();var _165=[];var _236=0;_902();function _902(){_1059.read().then(function(_195){if(_195.value){_165.push(_195.value);_236+=_195.value.length}if(_195.done){_1061()}else{_902()}}).catch(_76)}function _1061(){var _30;if(_165.length===1){_30=_165[0]}else{_30=new Uint8Array(_236);var _910=0;_165.forEach(function(_5){_30.set(_5,_910);_910+=_5.length})}if(_148)_148(_30)}}function _390(_19,_5){return/\/(html|dom)/.test(_19)?_19+(_19.indexOf('?')===-1?'?':'&')+'gz='+_5:_19}function _349(_21,_10){_161({_19:_185+'data',_10:'website='+_3._48+'&session='+_15._69+'&page='+_15._80+'&type='+_21+'&pst='+_288()+'&canonicalPage='+_92._142()+'&data='+_119(_11._131(_10))})}function _1062(_492){return _492>=200&&_492<300}function _1079(){return _12.all&&!_2.atob;}function _776(){return _12.all&&!_12.addEventListener;}function _1094(_19){return _19.replace(/^https?:/i,_3.location.protocol)}function _1095(_52){var _392=_11._131(_52._10);if(_392&&_392.length>_3._1096){_7('DOM size too big, not sending, size: '+_11._265(_392.length),_14());_85('mf_secret_html-too-big');return}var _209=_119(_392);var _1128=5242000;var _344=_209.length<=_1128;var _17={_19:_185+'html'+'?website='+_52._61._48+'&session='+_52._61._69+'&page='+_52._61._80,_10:'size='+_52._178+'&html='+_209+'&pst='+_288()+'&canonicalPage='+_119(_92._142()),_255:_3.compress};if(_15._393&&_344){var _89=_773();if(_209!==''){_7('Adding initial DOM to queue, size: '+_11._265(_209.length),_14());_89.push(_17)}else _7('Initial DOM empty, not sending',_14());if(_798(_89.slice(-10)))_794();else{_795(_17,_344,_209.length)}}else{if(_209==''){_7('Initial DOM empty, not sending',_14());return}_795(_17,_344,_209.length)}}function _794(){var _89=_773();var _17=_89.splice(0,1)[0];if(_17){_7('Sending initial DOM mutations. Size: '+_17._10.length,_14());_17._148=_17._76=function(){_798(_89);_26._74(_794,1)};_161(_17)}}function _795(_17,_344,_797){if(_344){_7('Transmitting initial DOM without queue due to no sessionstorage, size: '+_11._265(_797),_14())}else{_7('Transmitting initial DOM without queue due too big html, size: '+_11._265(_797),_14())}_161(_17)}function _773(){return(_132._249('mf_initialDomQueue')||[]).map(a=>({_19:a.url,_10:a.data,_255:a.compress}))}function _798(_89){return _132._245('mf_initialDomQueue',_89.map(a=>({url:a._19,data:a._10,compress:a._255})))}function _1132(_52){var _190=_52._10.args[1].some(function(_130){return _517._190(_130)});if(_190){_7('DOM mutation is a duplicate and has not been added.',_14());return}var _802=_1142(_52,_1._241);if(_802>-1){_1._241[_802]._10=_52._10;_7('Deduplicating DOM mutation',_14());return}if(_3.domReuse){var _394=_1136(_52);var _803=_1134(_394);if(_803>-1){_52.sequence=_803;_7('Reusing already sent DOM mutation, sequence '+_52.sequence,_14());_31(_9._52,{x:_52.sequence,y:0});return}else _1._485.push(_394)}_52.sequence=++_1._1133;_31(_9._52,{x:_52.sequence,y:0});_1._241.push(_52);if(!_312)_312=_26._74(_807,1500)}function _1134(_394){for(var i=0;i<_1._485.length;i++)if(_1._485[i]==_394)return i+1;return-1}function _1136(_52){return _121(_11._131(_52._10))}function _807(){_312=0;if(_182&&_1._241.length>0){const _779=_1._241.length;const _406=new Map();for(const _52 of _1._241){const _61='website='+_52._61._48+'&session='+_52._61._69+'&page='+_52._61._80+'&pst='+_288();const _10=_52.sequence+'.'+_1137(_11._131(_52._10));if(!_406.has(_61))_406.set(_61,[]);const _480=_406.get(_61);_480.push(_10)}_1._241=[];for(const[_61,_480]of _406){var _10=_480.join('|||');_10=_61+'&data='+_119(_10);_161({_19:_185+'dom',_10:_10,_255:_3.compress});_7('Sending DOM mutations: '+_779+', size: '+_10.length,_14());_1._780+=_779;if(_1._780>_72._781){_7('DOM mutation limit of '+_72._781+' reached. Stopping recording.',_14());_66()}}}}function _1142(_100,_782){if(!_3.domDeduplicator)return-1;var _95=_100._10.args;var _783=_786(_95);var _784=_787(_95);if(!_783&&!_784)return-1;for(var i=0;i<_782.length;i++){var _474=_782[i]._10.args;if(_783&&_786(_474)&&_1146(_95[2],_474[2])){return i}else if(_784&&_787(_474)){return i}}return-1}function _786(_95){return _788(_95)&&_95[2].filter(_1143).length===_95[2].length}function _787(_95){return _788(_95)&&_95[2].filter(_1144).length===_95[2].length}function _788(_95){return _95[0].length===0&&_95[1].length===0&&_95[2].length>0&&_95[3].length===0}function _1143(_348){return _348.attributes.style&&_832(_348.attributes)===1}function _1144(_348){return _348.attributes.d&&_832(_348.attributes)===1}function _832(obj){var count=0;for(var prop in obj)if(Object.prototype.hasOwnProperty.call(obj,prop))count++;return count}function _1146(_476,_835){if(_476.length!==_835.length)return false;for(var i=0;i<_476.length;i++){var _1148=_476[i],_1149=_835[i];if(_1148.id!==_1149.id)return false}return true}function _477(){if(_1._10.length>0&&_838()>=5000){_31(_9._477,{});_385()}}function _147(){_7('Inactivity timeout.',_14());_66(true)}function _188(_138,_842){return _138.x==_842.x&&_138.y==_842.y}function _364(){return{x:_2.innerWidth,y:_2.innerHeight}}function _845(_213){if(!_213||!_213.getBoundingClientRect)return null;var _183=_213.getBoundingClientRect();var _358;if(!_213.childElementCount&&!_183.height&&!_183.width)_358=_1139(_213);if(!_358){return{x:_183.left,y:_183.top,width:_183.width,height:_183.height}}else{_358.x+=_183.left-_213.offsetLeft;_358.y+=_183.top-_213.offsetTop;return _358}}function _1139(_0){var _283=window.getComputedStyle(_0,[':after']);if(!_283)return _283;return{x:+_283.left.slice(0,-2),y:+_283.top.slice(0,-2),width:+_283.width.slice(0,-2),height:+_283.height.slice(0,-2)}}function _67(_0){if(_3.useSelectorGenerator)return _189._532(_0);var _345=_180.get(_0);if(_345)return _345;try{var _38=[];while(_0){var _23=_0.getRootNode?_24._1178(_0):_12;_38.unshift(_1125(_0,_23)||_1097(_0,_23));_0=_23.host}return _38.join(' > :document-fragment: > ')}catch(_35){_7('Error in getElementPath: '+_35.message,_14())}return''}function _1125(_0,_23){var _20=_0.attributes?.['name']?_0.attributes['name'].value:null;if(_20&&_481(_0)&&/button|input|select|textarea/.test(_0.tagName.toLowerCase())){var _371=_23.getElementsByName(_20);if(_371.length===1)return _20;if(_371.length>1){for(var _4=0;_4<_371.length;_4++)if(_0===_371[_4])return _20+'['+_4+']_mf'}}return null}function _1097(_54,_23){var _29=[];try{while(_54&&_54.nodeType===1){var _8='';var _62=_24._83(_54);if(!_62)return'';var _345=_180.get(_54);if(_345){_29.unshift(_345);break}if(_54.tagName==='TABLE'&&_29.indexOf('tbody')===-1&&_29.indexOf('thead')===-1)_29.unshift('tbody');if(_54.getAttribute('id')&&!_11._197(_54,'data-mf-ignore-child-ids')&&_3.useIdSelectors){_8+='#'+_54.getAttribute('id');_29.unshift(_8);break}else{_8+=_54.tagName.toLowerCase();var _418='',_487=_54,_244=1;if(_62&&_62.tagName&&_62.tagName.toLowerCase()=='body'){var _123=_11._229(_54);_418=_123.length?'.'+_123.join('.'):''}if(_418!==''&&_23.querySelectorAll(_825('body > '+_8+_418)).length===1)_8+=_418;else{while((_487=_487.previousElementSibling)){if(_487.tagName.toLowerCase()===_8)_244++}if(_244!==1)_8+=':['+_244+']'}}_29.unshift(_8);_54=_62}}catch(_35){_7('Error in _getCssPath: '+_35.message,_14())}return _29.join(' > ').replace('html > body > ','> ')}function _266(_38,_1099=true){if(!_38)return null;if(_3.useSelectorGenerator)return _189._189(_38);var _0=_1100(_38);if(!_0){try{var _23=_12;_825(_38).split(' > :document-fragment: > ').forEach(function(_8){_0=_23.querySelector(_8);_23=_0.shadowRoot})}catch(_35){if(_1099)_7('Error in _getElementById: '+_35.message,_14())}}return _0}function _1100(_20){if(!_20)return null;var _77=_824.exec(_20);if(_77&&_77[1]){try{var _49=_2.parseInt(_77[1]);return _12.getElementsByName(_20.replace(_824,''))[_49]}catch(_35){}}var _50=_12.getElementsByName(_20);if(_50&&_50.length===1)return _50[0];return null}function _825(_29){if(!_29)return null;if(_29.substr(0,1)==='>')_29='html > body '+_29;_29=_29.replace(/^(\d)/,'\\3$1 ');_29=_29.replace(/#(\d)/,'#\\3$1 ');_29=_29.replace(/#(-\d)/,'#\\$1');_29=_29.replace(/:(?!\[)/g,'\\:');_29=_29.replace(/\\:document-fragment\\:/g,':document-fragment:');_29=_29.replace(/^#\S+/,function(_77){return _77.replace(/\./g,'\\.');});_29=_29.replace(/:\[([^\]]+)\]/g,':nth-of-type($1)');_29=_29.replace(/([{}[\]/;%$~@&<*^])/g,'\\$1');return _29}function _156(_1102,_5,_347){for(var _4=_1102-1;_4>0;_4--){var _826=_114.pow(256,_4);_822(_114.floor(_5/_826),_347);_5=_5% _826}_822(_5,_347)}function _822(_844,_347){if(_844>255){_347._819=true;return}_347.push(_844)}function _488(_0){var _30='';for(var _4=0;_4<_0.length;_4++){_30+=(_4>0?',':'')+_377.encode(''+_0[_4])}return _30}function _848(_0){var _178=0;for(var _4=0;_4<_0.length;_4++)_178+=_377.encode(''+_0[_4]).length+1;return _178>0?_178-1:_178}function _837(_20,_5,_223,_32){if(_3.preferStorageApi)_60._124(_20,_5);else _353._124(_20,_5,_223,_32)}function _836(_20){if(_3.preferStorageApi)return _60._164(_20)||'';else return _353._164(_20)}function _1105(_20){if(_3.preferStorageApi){_132._257(_20);_60._257(_20)}else{_353._257(_20)}}var _1106=new function(){for(var d='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'.split(''),c=64;c;)--c;this.e=function(e){let a=[],f=0,b=0,g,c=e.length,h=c% 3;for(;f<c;)a[b++]=d[(g=e[f++]<<16|e[f++]<<8|e[f++])>>18&63]+d[g>>12&63]+d[g>>6&63]+d[g&63];if(h)for(a[--b]=a[b].substr(0,a[b].length-(h=3-h));h--;)a[b]+='*';return a.join('')}};var _377={_381:'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',encode:function(c){for(var a='',d,b,e,i,h,f,g=0,c=this._1107(c);g<c.length;)d=c.charCodeAt(g++),b=c.charCodeAt(g++),e=c.charCodeAt(g++),i=d>>2,d=(d&3)<<4|b>>4,h=(b&15)<<2|e>>6,f=e&63,isNaN(b)?h=f=64:isNaN(e)&&(f=64),a=a+this._381.charAt(i)+this._381.charAt(d)+this._381.charAt(h)+this._381.charAt(f);return a},_1107:function(c){for(var c=c.replace(/\r\n/g,'\n'),a='',d=0;d<c.length;d++){var b=c.charCodeAt(d);128>b?a+=String.fromCharCode(b):(127<b&&2048>b?a+=String.fromCharCode(b>>6|192):(a+=String.fromCharCode(b>>12|224),a+=String.fromCharCode(b>>6&63|128)),a+=String.fromCharCode(b&63|128))}return a}};function _498(){var _138=function(){return((1+_114.random())*65536|0).toString(16).substring(1)};return _138()+_138()+_138()+_138()+_138()+_138()+_138()+_138()}var _453=0;function _422(){if(_12.body){_7('Initializing recorder');if(!_1110())return;if(_1123)_1111(_777);else _777();return}_453++;if(_453===1){_7('Retrying to initialize recorder - document.body is not set',_14())}else if(_453===25){_7('Failed to initialize recorder',_14());return}_26._74(_422,200)}function _777(){_7('Initializing recorder',_14());if(!_870(_3.location.hostname))return;if(_776()){_7('Recording not started - browser is IE8 or older',_14());return}if(_790)_1113();if(_790||_1114)return;_804=true;function _809(){if(!_101&&_3.autoStart&&_12.readyState!=='loading')_34();_593(_810())}_25._42(_12,'readystatechange',_809);_809()}function _593(_311){if(_460||!_101||_12.readyState!=='complete')return;_31(_9._796,{x:_311,y:_380?_380.scrollHeight:_11._467()});_460=true}function _1117(){return _3.useUnload?'unload':'beforeunload'}function _287(_887,_891){return _887.indexOf(_891,_887.length-_891.length)!==-1}function _121(_44){var _133=0,_896;for(var _4=0;_4<_44.length;_4++){_896=_44.charCodeAt(_4);_133=((_133<<5)-_133)+_896}return _133.toString()}function _904(_16){for(var _4=0;_4<_1._171.length;_4++)if(_1._171[_4].split('_')[0]===_121(_16)){return _4}return-1}function _909(_16,_5){var _472=_904(_16);var _552=_121(''+_5);if(_472>-1){if(_1._171[_472].split('_')[1]===_552){return false}_1._171[_472]=_121(_16)+'_'+_552}else if(_1._171.length<20){_1._171.push(_121(_16)+'_'+_552)}return true}function _870(_32){var _1120=_32;_32=_577(_32);var _872=false;for(let _4=0;_4<_286.length;_4++){if(_32==_577(_286[_4])){_872=true;break}}_32=_1122(_32);var _875=false;for(let _4=0;_4<_286.length;_4++){if(_32==_577(_286[_4])){_875=true;break}}var _30=_872||_875;if(!_30)_7('Domain was blocked: '+_1120+' - domain list: '+_286,_14());return _30}function _577(_32){if(_32==null)return'';_32=_32.toLowerCase();_32=_32.replace(/^\s+|\s+$/g,'');if(_32.substring(0,4)=='www.'){_32=_32.substring(4,_32.length)}return _32}function _1122(_32){if(_3.includeSubDomains){_32=_1243(_32)}return _32}function _1243(_32){var _143=_32.split('.');if(_143.length<=2)return _32;if(_32.indexOf('.co.')>-1||_32.indexOf('.com.')>-1||_32.indexOf('.org.')>-1){_143=_143.slice(_143.length-3,_143.length);return _143.join('.')}_143=_143.slice(_143.length-2,_143.length);return _143.join('.')}function _1121(){var _30=[];if(typeof Ember!='undefined')_30.push('em');if(typeof angular!='undefined')_30.push('an');if(typeof Backbone!='undefined')_30.push('bb');return _30}function _1119(){if(_3.autoTagging){_7('Autotagging session',_14());var _882=['utm_source','utm_medium','utm_term','utm_content','utm_campaign','gclid'];for(var _4=0;_4<_882.length;_4++){var _584=_882[_4];var _5=_851(_3.location.href,_584);if(!_5)_5=_851(_3.referrer,_584);if(_5)_135._861(['setVariable',_584,_5])}}}function _851(_19,_20){_20=_20.replace(/[[]/,'\\[').replace(/[\]]/,'\\]');var regex=new RegExp('[\\?&]'+_20+'=([^&#]*)'),results=regex.exec(_19);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '))}const nonWordCharactersRegex=/[\s"'.,_\-+/*:=!?@#%&{}[\]\\|]/;function _1112(_596){return!nonWordCharactersRegex.test(_596)}function _1108(_5,_588){var _30='';for(var _4=0;_4<_588;_4++){_30+=_5}return _30}function _288(){return _1._820||_1._81}function _14(){return+new Date()-_1._81}function _1150(urlLength){var _240=_3.location.href;var _775=_72._785-urlLength-6;if(_119(_240).length>_775)_240=_240.split('#')[0];if(_119(_240).length>_775)_240=_240.split('?')[0];return _119(_240)}function _1153(_18){var _1140=_18 instanceof Element;if(!_1140)return false;var _808=_2.getComputedStyle(_18);var _582=_808?_808['white-space']:'';if(_582&&(_582.indexOf('pre')>-1||_582==='break-spaces'))return true;return false}this._422=_422;this._34=function(){_34();_593(_810())};this._66=_66;this._421=_421;this._521=_521;this._961=function(){return _15._69};this._987=function(){return _15._80};this._85=_85;this._524=_524;this._537=_537;this._535=_535;this._534=_534;this._308=_308;this._446=_446;this._141=function(_5,_20){_141({_5:_5,_895:_20,_147:0})};this._182=function(){return _182};this._991=function(){return _15._307};this._300=_300;this._260=_260;this._187=_187;this._169=_169;this._533=_533;this._235=_235;this._1003=function(){_141(_96._585)};this._442=_442;this._530=_530}function _768(_24,_3){var _771=[];function _190(_130){if(!_3.domMutationDetectorEnable||!_130||_130.nodeType!==1)return false;var _62=_24._83(_130);var _866=_62?_62.id:undefined;var _863=_130.previousSibling?_130.previousSibling.id:undefined;var _1047=_130.tagName;var _880=_130.attributes?_130.attributes.id:undefined;var _908=_130.attributes?_130.attributes.class:undefined;var _16=_1047;if(_3.domMutationUseParentNode&&_866)_16+='_'+_866;if(_3.domMutationUsePreviousSibling&&_863)_16+='_'+_863;if(_880)_16+='_'+_880;if(_908)_16+='_'+_908.replace(/\s/g,"_");var _647=+new Date();var _100=_771[_16];var _586=_100?_100._588:0;var _1042=_100?((_647-_100._1038)/1000):0;var _897=_586<_3.domMutationCountThreshold;var _893=_1042<_3.domMutationTimeThresholdInSeconds;var _190=_100?(_897&&_893):false;if(!_897||!_893)_586=0;_771[_16]={_1038:_647,_588:_586+1};return _190}this._190=_190}function _1004(_2,_3,_117,_11,_25,_92,_60){var _47,_48,_7,_79;var _416='mf_liveHeatmaps';var _43;var _301=[];var _144;var _395=false;function _34(_297,_232,_299,_208){_48=_297;_47=_299;_7=_232;_395=window.location.search.indexOf('mf_legacy=1')!==-1?true:false;_7('Live heatmaps starting');_79=_117._274();if(!_79){_7('Live heatmaps not initiated - could not create root HTML element');return}if(!_2.opener){_7('Live heatmaps not initiated - window.opener is missing');return}if(typeof _208==='function'){_208(function(){_234()})}else{_234()}}function _66(){_441()}function _234(){_25._42(_2,'message',function(_41){if(_41.origin!==_47)return;_304(_41.data);switch(_41.data.message){case'MouseflowLiveHeatmaps_Init_Received':_2.clearInterval(_144);break;case'MouseflowLiveHeatmaps_Init_Success':case'MouseflowLiveHeatmaps_Hello':_108(_41.data);_302(_41.data.scripts,function(){var message;if(_395){message={mfCommand:'settings',value:{websiteSettings:_41.data.websiteSettings}}}else{_610();message={mfCommand:'settings_liveheatmap',value:_43}}_594(JSON.stringify(message))});break;case'MouseflowLiveHeatmaps_StreamData_Chunk':_306(_41.data.requestUrl,true)._591(_41.data.dataChunk);break;case'MouseflowLiveHeatmaps_StreamData_Success':_306(_41.data.requestUrl)._162();break;case'MouseflowLiveHeatmaps_StreamData_Error':_306(_41.data.requestUrl)._238();break;case'MouseflowLiveHeatmaps_RequestData_Success':_306(_41.data.requestUrl)._162(_41.data.responseText);break;case'MouseflowLiveHeatmaps_RequestData_Error':_306(_41.data.requestUrl)._238();break}});_144=_2.setInterval(_298,500);_2.setTimeout(function(){_2.clearInterval(_144)},10000);_298()}function _298(){_186({message:'MouseflowLiveHeatmaps_Init',websiteId:_48,legacy:_395})}function _108(_108){_43=_653();var _305=_674();var _361=_3.location.search.match(/mf_liveHeatmaps=([^&]+)/);var _600=typeof _2.name==='string'&&_2.name.indexOf('mf_liveHeatmaps')===0?_2.name.slice(15).split('_'):[];var _1091=_361||_600[1]==='init';if(_43&&!_1091){_43.filters.url=_305.url;_97(_43);return}_43={isMinimized:false,appUrlBase:_47,websiteId:_48,filters:_305,minDate:_108.minDate,filteredViews:_108.filteredViews,user:_108.user,website:_108.website,mutedEvents:_108.mutedEvents,muteAvailable:_108.muteAvailable,supportedLanguages:_108.supportedLanguages};if(_108.filters&&_108.filters.view){_43.selectedFilteredView=_108.filters.view;delete _108.filters.view}if(_108.filters){Object.keys(_108.filters).forEach(function(_16){var _5=_108.filters[_16];if(_5 instanceof Date)_5=_391(_5);_43.filters[_16]=_5})}if(_361&&_361[1]!=='1')_43.filters.maptype=_361[1];else if(_600[2])_43.filters.maptype=_600[2];_97(_43);_2.name='mf_liveHeatmaps'}function _610(){_43.devices=_43.filters.device?_43.filters.device.and||_43.filters.device.or:[];_43.mapType=_43.filters.maptype;_43.url=_43.filters.url=_92._142();_186({message:'MouseflowLiveHeatmaps_SetSettings',settings:_43})}function _302(_176,_65){if(!_176)return;var _211=0;function _303(){if(_211>=_176.length){_65();return}var _88=_176[_211];_581(_88);_211++;var _179=document.createElement('script');if(_88.startsWith('/'))_179.src=_47+_88;else _179.src=_47+'/'+_88;_179.onload=_303;_79.appendChild(_179)}_303()}function _653(){return _60._249(_416)}function _97(_43){if(_7)_7('Live heatmaps saving settings');_60._245(_416,_43)}function _441(){if(_7)_7('Live heatmaps removing settings');_60._257(_416)}function _306(_19,_1086){var _599=_301.filter(function(_1087){return _1087._19===_19})[0];if(!_1086&&_599)_301.splice(_301.indexOf(_599),1);return _599}function _1070(_17){if(typeof _17!=='object')return;_43=_653();var _305=_674();Object.keys(_17).forEach(function(_16){var _5=_17[_16];if(_5 instanceof Date)_5=_391(_5);_43.filters[_16]=_5||undefined});Object.keys(_305).forEach(function(_16){if(!_43.filters[_16])_43.filters[_16]=_305[_16]});if(_43.filters.view){_43.selectedFilteredView=_43.filters.view;delete _43.filters.view}_97(_43)}function _674(){var _279=new Date();_279=new Date(_279.getFullYear(),_279.getMonth(),_279.getDate());var _597=new Date(_279);_597.setDate(_597.getDate()-29);return{maptype:'click',url:_92._142(),fromdate:_391(_597),todate:_391(_279)}}function _186(_10){_2.opener.postMessage(_10,_47);_7('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _594(_10){_2.postMessage(_10,_2.location.origin);_7('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _304(_10){if(_10.message&&_10.message.indexOf('MouseflowLiveHeatmaps_')===0)_7('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _581(_88){_7('Live heatmaps loading script: '+_88)}function _391(_122){return _122.getFullYear()+'-'+_661(_122.getMonth()+1,'00')+'-'+_661(_122.getDate(),'00')}function _661(_1072,_635){return(_635+_1072).slice(-_635.length)}this._34=_34;this._66=_66;this._531=function(_17){_1070(_17);if(_395){_594('{"mfCommand":"MouseflowHeatmap_UpdateHeatmap"}')}else{_610();var message={mfCommand:'settings_change',value:{settings:_43,reloadData:_17&&_17.maptype?false:true}};_594(JSON.stringify(message))}_7('Sent postmessage updateheatmap')};_2.mouseflowHeatmap={streamData:function(_19,_591,_162,_238){_301.push({_19:_19,_591:_591||function(){},_162:_162||function(){},_238:_238||function(){}});_186({message:'MouseflowLiveHeatmaps_StreamData',requestUrl:_19})},getData:function(_19,_162,_238){_301.push({_19:_19,_162:_162||function(){},_238:_238||function(){}});_186({message:'MouseflowLiveHeatmaps_RequestData',requestUrl:_19})}}}function _1006(_2,_3,_117,_11,_25,_92,_60){const _416='mf_liveHeatmaps';let _47,_48,_7,_79;let _144;const _12=_2.document;const _1237=_2.location.search.slice(1).split('&').map(a=>a.split('=',2)).filter(a=>a[0]).reduce((acc,cur)=>(acc[cur[0]]=cur[1]??null,acc),{});function _34(_297,_232,_299,_208){_48=_297;_47=_299;_7=_232;_7('Live heatmaps starting');_79=_117._274();if(!_79){_7('Live heatmaps not initiated - could not create root HTML element');return}if(!_2.opener){_7('Live heatmaps not initiated - window.opener is missing');return}if(typeof _208==='function'){_208(function(){_234()})}else{_234()}}function _66(){}function _234(){_25._42(_2,'message',function(_41){if(_41.origin!==_47)return;_304(_41.data);switch(_41.data.message){case'MouseflowLiveHeatmapsV3_Init_Received':_2.clearInterval(_144);break;case'MouseflowLiveHeatmapsV3_Init_Success':_302(_41.data.scripts);break}});_144=_2.setInterval(_298,500);_2.setTimeout(function(){_2.clearInterval(_144)},10000);_298()}function _298(){_186({message:'MouseflowLiveHeatmapsV3_Init',websiteId:_48,prod:_1237.prod!==undefined})}function _302(_176){for(const _88 of _176){const _0=_12.createElement(_88.tagName);if(_88.textContent){_0.textContent=_88.textContent}for(const _16 in _88.attributes){const _5=_88.attributes[_16];if(_16==='src'||_16==='href'){_0[_16]=_47+_5}else{_0.setAttribute(_16,_5)}}if(_0.tagName==='SCRIPT'){_0.async=false}if(_0.tagName==='SCRIPT'&&_0.type==='importmap'){_0.textContent=_0.textContent.replace(/(:\s*")(\/[^"]+")/g,`$1${_47}$2`)}_79.appendChild(_0)}}function _186(_10){_2.opener.postMessage(_10,_47);_7('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _304(_10){if(_10.message&&_10.message.indexOf('MouseflowLiveHeatmapsV3_')===0)_7('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}this._34=_34;this._66=_66;this._531=function(){window.updateSpaPage()}}function _1007(_2,_117,_24,_26,_11,_25,_60,_3){var _12=_2.document,_47,_48,_7,_13,_79,_170,_28,_811,_833,_850,_831,_166,_129,_437,_172,_712,_225,_296,_292,_175,_136,_160;function _34(_1236,_297,_242,_424,_351,_423,_232){_47=_1236;_48=_297;_7=_232;_13=_937()||{_146:false,_68:'exclude',_98:_242||[],_93:_424||[],_118:_351||[],_116:_423||[]};_7('Starting privacy tool');_79=_117._274();if(!_79){_7('Privacy tool not initiated - could not create root HTML element');return}_1232();_26._74(function(){_1227();_97(_13)},1000);}function _66(){_1255();if(_170){_79.removeChild(_170);_170=null}if(_28){_79.removeChild(_28);_28=null}}function _1232(){_25._42(_2,'message',function(event){if(event.origin!==_47)return;switch(event.data.message){case'MouseflowPrivacyTool_Hello':_7('Privacy tool API ready');_292=event.source;if(event.data.cssSelectorBlacklist){_13._98=event.data.cssSelectorBlacklist;_13._93=event.data.cssSelectorWhitelist;_13._118=event.data.cssSelectorTracked;_13._116=event.data.cssSelectorMasked}_281();break;case'MouseflowPrivacyTool_Save_Success':_7('Successfully saved CSS lists');if(_175)_175();_175=undefined;_136=undefined;break;case'MouseflowPrivacyTool_Save_Failed':_7('Failed saving CSS lists');if(_136)_136();_175=undefined;_136=undefined;_583('Uh oh! We couldn\'t save your changes.<br><br>'+'Please refresh the page and try again.');break;case'MouseflowPrivacyTool_Unauthorized':_7('Privacy tool API logged out - cannot save');if(_136)_136();_175=undefined;_136=undefined;_583('Uh oh! We couldn\'t save your changes.<br><br>'+'Please log into Mouseflow and try again.');break}});if(_2.opener){_7('Loading privacy tool API using window.opener');_2.opener.postMessage({message:'MouseflowPrivacyTool_Hello'},_47)}_26._74(function(){if(!_292){_7('Loading privacy tool API using iframe');_170=_12.createElement('iframe');_170.style.width='0px';_170.style.height='0px';_170.style.display='none';_170.src=_47+'/websites/'+_48+'/privacytool';_79.appendChild(_170);_26._74(function(){if(!_292){_7('Loading privacy tool API timed out');_1025('We\'re having trouble loading the Privacy Tool on this page. Please try '+'refreshing the page or logging in to Mouseflow and reloading the Privacy Tool from there.<br><br>'+'If you need help, please don\'t hesitate to reach out to us at:  <a class="green" href="mailto:support@mouseflow.com">support@mouseflow.com</a>')}},5000)}},2000)}function _1227(){_28=_958(_13);_811=_28.querySelector('.tool-exclude output');_833=_28.querySelector('.tool-whitelist output');_850=_28.querySelector('.tool-track output');_831=_28.querySelector('.tool-masked output');_166=_28.querySelector('.tool-status-text');_129=_28.querySelector('.btn-widget');_437=_28.querySelector('.tool-loading h2');_13._98.forEach(_683);_13._93.forEach(_684);_13._118.forEach(_679);_13._116.forEach(_697);_79.appendChild(_28);_172=_970();_28.appendChild(_172);_11._326(_12.body,'mf-privacy-tool-opened',!_13._146);_1221();_281()}function _281(){if(_28&&_292){_11._70(_28,'is-loading');_125();_1219();_412()}}function _595(){_441();_66();_2.close()}function _1221(){_25._42(_28,'click','.mf-tool-close',_595,{_106:true})}function _1219(){_25._42(_28,'click','.mf-tool-toggle',_650,{_106:true});_25._42(_28,'click','.mf-tool-close',_595,{_106:true});_25._42(_28,'click','.mf-tool-exclude',_1214,{_106:true});_25._42(_28,'click','.mf-tool-whitelist',_1212,{_106:true});_25._42(_28,'click','.mf-tool-track',_1175,{_106:true});_25._42(_28,'click','.mf-tool-masked',_1169,{_106:true});_25._42(_28,'click','.highlight-excluded',_1163,{_106:true});_25._42(_28,'click','.highlight-whitelisted',_1158,{_106:true});_25._42(_28,'click','.highlight-tracked',_1157,{_106:true});_25._42(_28,'click','.highlight-masked',_1211,{_106:true});_25._42(_28,'click','.mf-remove-excluded',_1185,{_106:true});_25._42(_28,'click','.mf-remove-whitelisted',_1209,{_106:true});_25._42(_28,'click','.mf-remove-tracked',_1206,{_106:true});_25._42(_28,'click','.mf-remove-masked',_1186,{_106:true});_25._42(_28,'submit',_916,{_106:true});_25._42(_12,'mouseover',_919,{_91:true});_25._42(_12,'mouseleave',_932,{_91:true});_25._42(_12,'mouseup',_922,{_91:true});_25._42(_12,'mouseenter',_203,{_91:true});_25._42(_12,'mousemove',_203,{_91:true});_25._42(_12,'mousedown',_203,{_91:true});_25._42(_12,'click',_203,{_91:true});_25._42(_12,'mouseout',_203,{_91:true});_25._42(_12,'scroll',_125,{_91:true,_439:true});_25._42(_2,'resize',_125,{_91:true,_439:true});var MutationObserver=_2.MutationObserver||_2.WebKitMutationObserver||_2.MozMutationObserver;if(MutationObserver){_296=new MutationObserver(function(_748){var _1257=_748.some(function(_100){if(_100.target.nodeType!==1||_11._99(_100.target,'#mouseflow *'))return false;var _1242=_100.oldValue&&_100.oldValue.indexOf('mf-highlight')!==-1;var _1263=_100.target.classList.contains('mf-highlight');var _1261=_1242||_1263;if(_100.type==='attributes'&&_100.attributeName==='class'&&_1261)return false;return true});if(_1257)_125();_748.forEach(function(_100){_100.addedNodes.forEach(function(_18){if(!_18.shadowRoot)return;_296.observe(_18.shadowRoot,{childList:true,subtree:true});_412(_18)})})});_296.observe(_12,{attributes:true,childList:true,characterData:true,subtree:true,attributeOldValue:true})}}function _1255(){_25._847();if(_296)_296.disconnect()}function _412(_62){if(!_160)_160=_1233();if(!_62)_62=_12;for(var _63=_24._763(_62);_63;_63=_24._544(_63)){_412(_63);var _109=_63.shadowRoot;if(!_109)continue;_412(_109);if(_109.adoptedStyleSheets){if(_109.adoptedStyleSheets.indexOf(_160)>-1)continue;var _762=Array.prototype.slice.call(_109.adoptedStyleSheets);_762.push(_160);_109.adoptedStyleSheets=_762}else{if(_109.querySelector('.mf-privacy-tool-style'))continue;var _82=_12.createElement('style');_82.type='text/css';_82.innerHTML=_579();_82.className='mf-privacy-tool-style';_109.appendChild(_82)}}}function _650(){_13._146=!_13._146;_97(_13);_11._326(_28,'tool-closed',_13._146);_11._326(_12.body,'mf-privacy-tool-opened',!_13._146);var _414=_28.getElementsByClassName('step')[0];var _216=_28.getElementsByClassName('tool-container')[0];if(_13._146){_11._70(_414,'fade-out');_11._115(_414,'fade-in');_11._70(_216,'fade-in');_11._115(_216,'fade-out')}else{_11._70(_414,'fade-in');_11._115(_414,'fade-out');_11._70(_216,'fade-out');_11._115(_216,'fade-in')}}function _1214(){_13._68='exclude';_97(_13);_400()}function _1212(){_13._68='whitelist';_97(_13);_400()}function _1175(){_13._68='track';_97(_13);_400()}function _1169(){_13._68='masked';_97(_13);_400()}function _400(){_11._70(_28.getElementsByClassName('mf-tool-exclude')[0],'active');_11._70(_28.getElementsByClassName('tool-exclude')[0],'active');_11._70(_28.getElementsByClassName('mf-tool-whitelist')[0],'active');_11._70(_28.getElementsByClassName('tool-whitelist')[0],'active');_11._70(_28.getElementsByClassName('mf-tool-track')[0],'active');_11._70(_28.getElementsByClassName('tool-track')[0],'active');_11._70(_28.getElementsByClassName('mf-tool-masked')[0],'active');_11._70(_28.getElementsByClassName('tool-masked')[0],'active');_11._115(_28.getElementsByClassName('mf-tool-'+_13._68)[0],'active');_11._115(_28.getElementsByClassName('tool-'+_13._68)[0],'active')}function _1163(_6){if(_13._68==='exclude'){_750(_6.target.getAttribute('data-target'));_125()}}function _1158(_6){if(_13._68==='whitelist'){_753(_6.target.getAttribute('data-target'));_125()}}function _1157(_6){if(_13._68==='track'){_757(_6.target.getAttribute('data-target'));_125()}}function _1211(_6){if(_13._68==='masked'){_733(_6.target.getAttribute('data-target'));_125()}}function _1185(_6){_750(_6.target.parentNode.getAttribute('data-target'));_125()}function _1209(_6){_753(_6.target.parentNode.getAttribute('data-target'));_125()}function _1206(_6){_757(_6.target.parentNode.getAttribute('data-target'));_125()}function _1186(_6){_733(_6.target.parentNode.getAttribute('data-target'));_125()}function _916(){_940();_969(_13._98,_13._93,_13._118,_13._116,function(){_800();_129.innerHTML='Saved';_441();_26._74(_595,500)},function(){_800()})}function _919(_6){_26._153(_712);var _710=_12.getElementsByClassName('mf-highlight');for(var _4=0;_4<_710.length;_4++){_11._70(_710[_4],'mf-highlight')}_11._115(_172,'hidden');if(_203(_6)||_699(_6.target))return;_11._115(_6.target,'mf-highlight');_712=_26._74(function(){var _45=_6.target.getBoundingClientRect();_172.style.left=_45.left+_2.pageXOffset+'px';_172.style.top=_45.top+_2.pageYOffset+'px';_172.style.width=_45.width+'px';_172.style.height=_45.height+'px';_11._70(_172,'hidden')},75)}function _932(_6){if(_203(_6))return;if(_6.target===_12){_11._115(_172,'hidden')}}function _922(_6){if(_203(_6))return;if(_6.button!==0||_699(_6.target))return;_11._70(_6.target,'mf-highlight');var _8=_976(_6.target);if(_13._68==='exclude'){_683(_8)}else if(_13._68==='whitelist'){_684(_8)}else if(_13._68==='masked'){_697(_8)}else{_679(_8)}_125()}function _203(_6){if(_13._146||_6.target.nodeType!==1||_11._99(_6.target,'#mouseflow *'))return true;_6.preventDefault();_6.stopPropagation();return false}function _699(_0){return _0===_12.body||_11._99(_0,'html')||(_13._68==='whitelist'&&(!/INPUT|TEXTAREA/.test(_0.tagName)||/checkbox|radio|button|submit/.test(_0.type)))}function _679(_8){if(_8&&_13._118.indexOf(_8)===-1){_13._118.unshift(_8);_97(_13)}_204()}function _683(_8){if(_8&&_13._98.indexOf(_8)===-1){_13._98.unshift(_8);_97(_13)}_204()}function _684(_8){if(_8&&_13._93.indexOf(_8)===-1){_13._93.unshift(_8);_97(_13)}_204()}function _697(_8){if(_8&&_13._116.indexOf(_8)===-1){_13._116.unshift(_8);_97(_13)}_204()}function _750(_8){if(_8&&_13._98.indexOf(_8)!==-1){_13._98=_13._98.filter(function(_78){return _78!==_8});_97(_13)}_204()}function _753(_8){if(_8&&_13._93.indexOf(_8)!==-1){_13._93=_13._93.filter(function(_78){return _78!==_8});_97(_13)}_204()}function _757(_8){if(_8&&_13._118.indexOf(_8)!==-1){_13._118=_13._118.filter(function(_78){return _78!==_8});_97(_13)}_204()}function _733(_8){if(_8&&_13._116.indexOf(_8)!==-1){_13._116=_13._116.filter(function(_78){return _78!==_8});_97(_13)}_204()}function _125(){_26._153(_225);if(!_225){_26._74(function(){if(_225){_26._153(_225);_742();_225=undefined}},200)}_225=_26._74(function(){_742();_225=undefined},100)}function _742(){var _616=_28.querySelectorAll('.highlight-excluded,.highlight-whitelisted,.highlight-tracked,.highlight-masked'),_4;for(_4=0;_4<_616.length;_4++){_28.removeChild(_616[_4])}_13._98.forEach(function(_8){var _50=_158(_8,_12);for(_4=0;_4<_50.length;_4++){_28.appendChild(_993(_8,_50[_4].getBoundingClientRect()))}});_13._93.forEach(function(_8){var _50=_158(_8,_12);for(_4=0;_4<_50.length;_4++){_28.appendChild(_1032(_8,_50[_4].getBoundingClientRect()))}});_13._118.forEach(function(_8){var _50=_158(_8,_12);for(_4=0;_4<_50.length;_4++){_28.appendChild(_1033(_8,_50[_4].getBoundingClientRect()))}});_13._116.forEach(function(_8){var _50=_158(_8,_12);for(_4=0;_4<_50.length;_4++){_28.appendChild(_997(_8,_50[_4].getBoundingClientRect()))}})}function _158(_8,_23){try{var _50=[];_8.split(',').forEach(function(_8){var _37=_8.split(' > :document-fragment: > ',1);_23.querySelectorAll(_37[0]).forEach(function(_0){if(_37[1]&&_0.shadowRoot){_158(_37[1],_0.shadowRoot).forEach(function(_0){_50.push(_0)})}else{_50.push(_0)}})});return _50}catch(_35){_7('Could not get element from selector: '+ex.message)}}function _969(_98,_93,_118,_116,_162,_964){if(_175){_7('Attempted to save CSS lists while previous save was in progress');return}_175=_162;_136=_964;_986();_292.postMessage({message:'MouseflowPrivacyTool_Save',blacklist:_98,whitelist:_93,tracked:_118,masked:_116},_47);_26._74(function(){if(_175===_162){_7('Saving CSS lists timed out');if(_136)_136();_175=undefined;_136=undefined;_583('Uh oh! We couldn\'t save your changes.<br><br>'+'Please log into Mouseflow and try again.')}},7500)}function _976(_0){if(_0==null)return null;try{var _38=[];while(_0){var _23=_0.getRootNode?_0.getRootNode():_12;var _8=_652(_0,_23);_38.unshift(_8);_0=_23.host}return _38.join(' > :document-fragment: > ')}catch(ex){_7('Could not get element selector: '+ex.message);return null}}function _1279(_0,_23){var _291=_989(_0,_23);if(!_291)return null;if(_11._99(_0,_291))return _291;var _117=_23.querySelector(_291);var _140=_0;var _37=[];while(_140&&_140!==_117){var _36=_598(_140,_23);if(_36.length===0)_36.push(_813(_140));_37.unshift(_36);_140=_140.parentNode}_37.unshift(_291);return _590(_37,_23)}function _652(_0,_23,_37){if(!_37)_37=[];var _36=_598(_0,_23);_37.unshift(_36);var _8=_590(_37,_23);if(_8)return _8;if(_36.length===0){_36.push(_813(_0));_8=_590(_37,_23);if(_8)return _8}return _652(_0.parentNode,_23,_37)}function _590(_37,_23){var _587=_37.length>1?_948.apply(this,_37):_37[0];for(var _4=0;_4<_587.length;_4++){if(_23.querySelectorAll(_587[_4]).length===1)return _587[_4]}return null}function _989(_0,_23){var _140=_0;while(_140){var _36=_598(_140,_23);for(var _4=0;_4<_36.length;_4++){if(_23.querySelectorAll(_36[_4]).length===1)return _36[_4]}_140=_140.parentNode}return null}function _598(_0,_23){if(_0===_12.body)return['body'];var _36=[];var _62=_0.parentNode;var _4;var _38=_0.getAttribute('id');var _8='#'+_11._205(_38);if(_38&&_23.querySelectorAll(_8).length===1&&!_11._197(_0,'data-mf-ignore-child-ids')&&_3.useIdSelectors)return[_8];var _20=_0.getAttribute('name');_8='[name="'+_11._205(_20)+'"]';if(_20){if(_23.querySelectorAll(_8).length===1)return[_8];if(_62.querySelectorAll(_8).length===1)_36.push(_8)}var _123=_11._229(_0);for(_4=0;_4<_123.length;_4++){_8='.'+_11._205(_123[_4]);if(_23.querySelectorAll(_8).length===1)return[_8];if(_62.querySelectorAll(_8).length===1)_36.push(_8)}for(_4=0;_4<_123.length;_4++){_8=_11._205(_0.tagName.toLowerCase())+'.'+_11._205(_123[_4]);if(_23.querySelectorAll(_8).length===1)return[_8];if(_62.querySelectorAll(_8).length===1)_36.push(_8)}return _36}function _813(_0){var _8=_11._205(_0.tagName.toLowerCase());if(_0.parentNode.querySelectorAll(_8).length===1)return _8;var _244=0;var _373=_0;while(_373){if(_373.tagName===_0.tagName)_244++;_373=_373.previousElementSibling}_8+=':nth-of-type('+_244+')';return _8}function _948(){var _36,_251,_246,_4;var _150=0;var _228=arguments.length-1;var _379=false;var _321=true;while(_150<_228){_251=undefined;for(_4=0;_4<=_150;_4++){_251=_251?_417(_251,arguments[_4],' > '):arguments[_4]}_246=undefined;for(_4=arguments.length-1;_4>=_228;_4--){_246=_246?_417(arguments[_4],_246,' > '):arguments[_4]}var _419=(_150+1)==_228?' > ':' ';_36=_36?_36.concat(_417(_251,_246,_419)):_417(_251,_246,_419);if(_321&&_379){_228--;_379=false;_321=true}else if(_321){_228--;_379=true;_321=false}else{_150++;if(_150!=_228)_228++;_379=true;_321=true}}return _36}function _417(_604,_853,_419){var _36=[];for(var _4=0;_4<_604.length;_4++){for(var _152=0;_152<_853.length;_152++){_36.push(_604[_4]+_419+_853[_152])}}return _36}function _937(){return _60._249('mf_privacyTool')||null}function _97(_43){_60._245('mf_privacyTool',_43)}function _441(){_60._257('mf_privacyTool')}function _940(){_129.setAttribute('disabled','');_129.setAttribute('original-html',_129.innerHTML);_129.innerHTML='<i>&bull;</i> <i>&bull;</i> <i>&bull;</i> <i>&bull;</i>';_11._115(_129,'loading')}function _800(){_11._70(_129,'loading');_129.innerHTML=_129.getAttribute('original-html');_129.removeAttribute('original-html');_129.removeAttribute('disabled')}function _204(){_811.innerHTML=_1247(_13._98);_833.innerHTML=_1248(_13._93);_850.innerHTML=_1250(_13._118);_831.innerHTML=_1254(_13._116);_166.innerHTML=_592(_13._98,_13._93,_13._118,_13._116);_11._70(_166,'red')}function _1025(_230){if(!_437)return;if(_13._146)_650();_437.innerHTML=_230;_11._115(_437,'red')}function _583(_230){if(!_166)return;_166.innerHTML=_230;_11._115(_166,'red')}function _986(){if(!_166)return;_166.innerHTML=_592(_13._98,_13._93,_13._118,_13._116);_11._70(_166,'red')}function _958(_13){var _33=_12.createElement('div');_33.className='privacy-tool is-loading';_33.innerHTML=_926(_13);if(_13._146)_33.className+=' tool-closed';var _82=_12.createElement('style');_82.type='text/css';_82.innerHTML=_579();_33.appendChild(_82);return _33}function _970(){var _33=_12.createElement('div');_33.className='highlight-box';return _33}function _993(_8,_45){var _33=_12.createElement('div');_33.className='highlight-box highlight-excluded';_33.setAttribute('data-target',_8);_33.style.left=_45.left+_2.pageXOffset+'px';_33.style.top=_45.top+_2.pageYOffset+'px';_33.style.width=_45.width+'px';_33.style.height=_45.height+'px';return _33}function _1032(_8,_45){var _33=_12.createElement('div');_33.className='highlight-box highlight-whitelisted';_33.setAttribute('data-target',_8);_33.style.left=_45.left+_2.pageXOffset+'px';_33.style.top=_45.top+_2.pageYOffset+'px';_33.style.width=_45.width+'px';_33.style.height=_45.height+'px';return _33}function _1033(_8,_45){var _33=_12.createElement('div');_33.className='highlight-box highlight-tracked';_33.setAttribute('data-target',_8);_33.style.left=_45.left+_2.pageXOffset+'px';_33.style.top=_45.top+_2.pageYOffset+'px';_33.style.width=_45.width+'px';_33.style.height=_45.height+'px';return _33}function _997(_8,_45){var _33=_12.createElement('div');_33.className='highlight-box highlight-masked';_33.setAttribute('data-target',_8);_33.style.left=_45.left+_2.pageXOffset+'px';_33.style.top=_45.top+_2.pageYOffset+'px';_33.style.width=_45.width+'px';_33.style.height=_45.height+'px';return _33}function _926(_13){return('<form action="#" id="mf_privacy_tool">'+_924(_13)+_1167(_13)+'</form>')}function _924(_13){return('<div class="step step-block'+(_13._146?' fade-in':'')+'">'+'<div class="widget-header">'+'<div class="widget-text">Open privacy tool</div>'+'<div class="widget-toggle">'+'<a href="#" class="btn-arrow btn-arrow--up mf-tool-toggle"></a>'+'</div>'+'</div>'+'</div>')}function _1167(){return('<div class="tool-container'+(_13._146?'':' fade-in')+'">'+'<div class="tool-header">'+'<div class="tool-title">'+'<svg class="logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="37" height="34" viewBox="0 0 37 34"><g id="logomark_dark" transform="translate(0 0.281)"><path id="Path_7123" class="logo-path" data-name="Path 7123" d="M36.916,16.723c0-2.879-2.308-5.423-6.032-7.173.347-4.1-.708-7.367-3.2-8.812S21.832.029,18.452,2.378c-.111-.078-.218-.153-.329-.227-3.4-2.267-6.552-2.768-8.9-1.417C6.735,2.171,5.685,5.444,6.034,9.547,2.308,11.3,0,13.844,0,16.723S2.311,22.149,6.038,23.9c-.013.133-.023.268-.03.4-.268,4.069.878,7.057,3.219,8.408a5.667,5.667,0,0,0,2.877.738,11.533,11.533,0,0,0,6.353-2.379,11.533,11.533,0,0,0,6.353,2.379,5.687,5.687,0,0,0,2.877-.738c2.343-1.352,3.485-4.339,3.222-8.408-.009-.133-.018-.268-.031-.4C34.607,22.149,36.916,19.6,36.916,16.723Zm-12.09-14.7a3.668,3.668,0,0,1,1.855.455c1.548.894,2.363,3.181,2.233,6.268a28.258,28.258,0,0,0-5.13-1.254,27.937,27.937,0,0,0-3.652-3.81A9.132,9.132,0,0,1,24.826,2.024ZM8.217,10.82a24.675,24.675,0,0,1,3.168-.941c-.432.652-.85,1.329-1.261,2.03s-.788,1.417-1.133,2.125a23.11,23.11,0,0,1-.774-3.215ZM22.7,24.077a34.406,34.406,0,0,1-4.243.256,34.365,34.365,0,0,1-4.242-.256c-.992-.123-1.928-.29-2.816-.492a23.143,23.143,0,0,1-3.174-.946,23.7,23.7,0,0,1,.765-3.222c.275-.885.6-1.785.982-2.692a33.8,33.8,0,0,1,1.9-3.811A34.244,34.244,0,0,1,14.2,9.381q.908-1.2,1.842-2.206A23.422,23.422,0,0,1,18.453,4.9a23.659,23.659,0,0,1,2.408,2.278A27.591,27.591,0,0,1,22.7,9.381a34.1,34.1,0,0,1,2.343,3.533,34.039,34.039,0,0,1,1.9,3.811,28.251,28.251,0,0,1,.982,2.692,23.66,23.66,0,0,1,.769,3.225,23.235,23.235,0,0,1-3.179.946C24.626,23.785,23.688,23.952,22.7,24.077Zm-4.243,2.267c.82,0,1.626-.027,2.408-.078a23.788,23.788,0,0,1-2.408,2.281,23.478,23.478,0,0,1-2.408-2.281Q17.228,26.344,18.457,26.344Zm9.468-12.306q-.526-1.071-1.133-2.125T25.53,9.881a24.368,24.368,0,0,1,3.166.939,22.89,22.89,0,0,1-.771,3.219ZM10.235,2.479a3.737,3.737,0,0,1,1.877-.463A9.029,9.029,0,0,1,16.778,3.68a28.033,28.033,0,0,0-3.65,3.812A27.992,27.992,0,0,0,8,8.749C7.866,5.659,8.683,3.373,10.235,2.479ZM2.017,16.723c0-1.928,1.646-3.715,4.31-5.072a27.76,27.76,0,0,0,1.479,5.078,28.156,28.156,0,0,0-1.475,5.066c-2.75-1.429-4.318-3.283-4.318-5.072Zm10.074,14.7a3.684,3.684,0,0,1-1.857-.456C8.661,30.055,7.853,27.78,8,24.7a28.105,28.105,0,0,0,5.122,1.254,28.219,28.219,0,0,0,3.652,3.812A9.118,9.118,0,0,1,12.092,31.42Zm14.592-.456c-1.55.894-3.937.463-6.544-1.2a28.218,28.218,0,0,0,3.652-3.812A28.193,28.193,0,0,0,28.917,24.7c.146,3.081-.662,5.357-2.237,6.265Zm3.909-9.169a28.41,28.41,0,0,0-1.475-5.065A28.321,28.321,0,0,0,30.6,11.651c2.662,1.357,4.308,3.144,4.308,5.072-.007,1.789-1.575,3.642-4.321,5.072Z" transform="translate(0 0)" fill="#0f172f"/><path id="Path_7124" data-name="Path 7124" d="M100,75.4a29.752,29.752,0,0,0-5,10.427l5-2.726,5,2.726A30.653,30.653,0,0,0,100,75.4Z" transform="translate(-81.541 -64.726)" fill="#0f172f"/></g></svg>'+'<h3>Click elements in the interface that you wish to manage</h3>'+'<div class="tool-toggle">'+'<div class="tool-toggle-text">'+'<b> Hide to navigate </b>'+'</div>'+'<div class="tool-toggle-icon">'+'<a href="#" class="btn-arrow btn-arrow--down mf-tool-toggle"></a>'+'</div>'+'</div>'+'<div class="tool-close">'+'<div class="tool-toggle-text">'+'Close'+'</div>'+'<div class="tool-toggle-icon">'+'<a href="#" class="btn-cross mf-tool-close"></a>'+'</div>'+'</div>'+'</div>'+'</div>'+'<div class="tool-content">'+'<ul class="tool-menu">'+'<li class="tool-menu-item mf-tool-exclude'+(_13._68==='exclude'?' active':'')+'">'+'Excluded content'+'</li>'+'<li class="tool-menu-item mf-tool-masked'+(_13._68==='masked'?' active':'')+'">'+'Masked content'+'</li>'+'<li class="tool-menu-item mf-tool-whitelist'+(_13._68==='whitelist'?' active':'')+'">'+'Whitelisted fields'+'</li>'+'<li class="tool-menu-item mf-tool-track'+(_13._68==='track'?' active':'')+'">'+'Tracked elements'+'</li>'+'</ul>'+'<div class="tool-exclude'+(_13._68==='exclude'?' active':'')+'">'+'<h2>Exclude content</h2>'+'<p>'+'To exclude content from being tracked, click on the element(s) you want to remove. '+'The excluded elements and any descendants inside those elements will not be stored or visible in Recordings or Heatmaps.'+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" to exclude more content or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Excluded content</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-masked'+(_13._68==='masked'?' active':'')+'">'+'<h2>Mask content</h2>'+'<p>'+'Masking elements in the interface enables you to hide the content from being recorded without loosing interaction data (e.g. clicks, hovers) on that element. '+'Click the element in the interface that you would like to mask. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" to mask more content or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Masked content</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-whitelist'+(_13._68==='whitelist'?' active':'')+'">'+'<h2>Whitelist input fields</h2>'+'<p>'+'Mouseflow automatically masks all fields to protect personal data. However, you can whitelist specific input fields by clicking on them. '+'This allows Mouseflow to record input in those fields. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+' Click "Hide to navigate" to whitelist more input fields or "Save and close" to apply changes. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Whitelisted fields</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-track'+(_13._68==='track'?' active':'')+'">'+'<h2>Tracked elements</h2>'+'<p>'+'When viewing a Heatmap, most links show interaction data (e.g. clicks and hovers).'+'If you&quot;ve found an element that is not being tracked, you can select it here. '+'This will ensure the additional metrics are shown in your Heatmaps. '+'The CSS selectors of the selected elements will appear in the list below. '+'</p>'+'<p>'+'Click "Hide to navigate" or "Save and close" to finish. Check our <a href="https://help.mouseflow.com/en/articles/5973120-excluded-whitelisted-tracked-fields" target="_blank">Support Guide</a> for details and best practices.'+'</p>'+'<h3>Tracked elements</h3>'+'<div>'+'<output></output>'+'</div>'+'</div>'+'<div class="tool-status">'+'<div class="tool-status-text">'+_592(_13._98,_13._93,_13._118,_13._116)+'</div>'+'<div class="tool-status-buttons">'+'<button type="submit" class="btn-widget">Save and close</button>'+'<a href="#" class="green bold mf-tool-close">Close Privacy Tool</a>'+'</div>'+'</div>'+'<div class="tool-loading">'+'<h2 class="loading">Loading the Privacy Tool<i>.</i><i>.</i><i>.</i></h2>'+'</div>'+'<div class="tool-message">'+'<h3>Browser window is to small to load the Privacy Tool</h3>'+'<p>To use Mouseflow\'s Privacy Tool, you need to view the page in a larger browser window.</p>'+'</div>'+'</div>'+'</div>')}function _1247(_37){return _37.map(function(_8){return('<div class="tm-tag" data-target="'+_11._154(_8)+'">'+_11._154(_8)+'<a href="#" class="btn-cross mf-remove-excluded"></a>'+'</div>')}).join('')}function _1248(_37){return _37.map(function(_8){return('<div class="tm-tag" data-target="'+_11._154(_8)+'">'+_11._154(_8)+'<a href="#" class="btn-cross mf-remove-whitelisted"></a>'+'</div>')}).join('')}function _1250(_37){return _37.map(function(_8){return('<div class="tm-tag" data-target="'+_11._154(_8)+'">'+_11._154(_8)+'<a href="#" class="btn-cross mf-remove-tracked"></a>'+'</div>')}).join('')}function _1254(_37){return _37.map(function(_8){return('<div class="tm-tag" data-target="'+_11._154(_8)+'">'+_11._154(_8)+'<a href="#" class="btn-cross mf-remove-masked"></a>'+'</div>')}).join('')}function _592(_98,_93,_617,_759){return'<p>You have:</p>'+'<p>'+'&nbsp;&bull; excluded <i class="emphasis"> '+_98.length+'</i> '+(_98.length===1?'element':'elements')+'<br>'+'&nbsp;&bull; masked <i class="emphasis"> '+_759.length+'</i> '+(_759.length===1?'element':'elements')+'<br>'+'&nbsp;&bull; whitelisted <i class="emphasis">'+_93.length+'</i> input '+(_93.length===1?'field':'fields')+'<br>'+'&nbsp;&bull; tracked <i class="emphasis">'+_617.length+'</i> input '+(_617.length===1?'element':'elements')+'</p>'}function _1233(){var _151=new CSSStyleSheet();_151.replace(_579());return _151}function _579(){return('@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':root,'+':host {'+'--deep-ocean: #08163c;'+'--dusty-cloud: #f7f9fc;'+'--dark-border: #bbc8e0;'+'--lighter-navy: #d4dbe3;'+'--dark-mode: #10172D;'+'--serious-business: #0b65e3;'+'--light-blue: #66A7FD;'+'--subtle-warmth: #7162e3;'+'--lighter-aqua: #ebf2fa;'+'--dusty-cloud-darker: #E4E9F2;'+'--deep-ocean-light: #A1B2D3;'+'--redwine-vibes: #cd575f;'+'}'+'.mf-highlight {'+'cursor: pointer !important;'+'}'+'.mf-privacy-tool-opened iframe {'+'pointer-events: none;'+'}'+'#mouseflow {'+'font-weight: 400;'+'font-family: \'Open Sans\', Arial, sans-serif;'+'}'+'#mouseflow .highlight-box {'+'background-color: #add8e6;'+'border: 2px dotted #808080;'+'position: absolute;'+'border-radius: 2px;'+'z-index: 2147483646;'+'cursor: pointer;'+'pointer-events: none;'+'opacity: 0.5;'+'-webkit-transition: opacity .075s linear;'+'transition: opacity .075s linear;'+'}'+'#mouseflow .highlight-box.hidden,'+'#mouseflow .tool-closed .highlight-box {'+'opacity: 0;'+'}'+'#mouseflow .highlight-box.highlight-excluded {'+'background-color: #FFD2CF80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-whitelisted {'+'background-color: #70C59780;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-tracked {'+'background-color: #92C6FB80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .highlight-box.highlight-masked {'+'background-color: #FFECBD80;'+'opacity: 1;'+'pointer-events: initial;'+'}'+'#mouseflow .tool-closed .highlight-box.highlight-excluded,'+'#mouseflow .tool-closed .highlight-box.highlight-whitelisted,'+'#mouseflow .tool-closed .highlight-box.highlight-masked,'+'#mouseflow .tool-closed .highlight-box.highlight-tracked {'+'pointer-events: none;'+'}'+'#mouseflow .btn-widget {'+'background: var(--serious-business);'+'}'+'#mouseflow .widget-header {'+'background: var(--dusty-cloud);'+'}'+'#mouseflow .widget-text,'+'#mouseflow .btn-arrow,'+'#mouseflow .btn-cross {'+'color: var(--deep-ocean);'+'}'+'#mouseflow .btn-widget {'+'color: white;'+'}'+'#mouseflow .tm-tag {'+'margin: 7px 7px 0 0;'+'padding: 7px;'+'display: inline-block;'+'border-radius: 8px;'+'border: 1px solid var(--dark-border);'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'font-size: 13px;'+'}'+'#mouseflow .step {'+'visibility: hidden;'+'opacity: 0;'+'position: fixed;'+'bottom: 30px;'+'right: 30px;'+'z-index: 2147483647;'+'width: 300px;'+'border-radius: 8px;'+'border: 1px solid var(--deep-ocean);'+'overflow: hidden;'+'}'+'#mouseflow a:hover {'+'text-decoration: underline;'+'}'+'#mouseflow h2 {'+'font-size: 21px;'+'font-weight: 700;'+'line-height: 1.4em;'+'margin-bottom: 6px;'+'}'+'#mouseflow h3 {'+'font-size: 16px;'+'font-weight: 700;'+'line-height: 1.4em;'+'color: #08163C;'+'}'+'#mouseflow p {'+'margin-bottom: 8px;'+'line-height: 1.4em;'+'}'+'#mouseflow .green {'+'color: var(--deep-ocean);'+'}'+'#mouseflow .red {'+'color: var(--redwine-vibes);'+'}'+'#mouseflow .emphasis {'+'color: var(--subtle-warmth);'+'font-weight: 700;'+'}'+'#mouseflow .bold {'+'font-weight: 700;'+'}'+'#mouseflow .tool-container {'+'visibility: visible;'+'opacity: 0;'+'position: fixed;'+'bottom: 0;'+'left: 0;'+'width: 100%;'+'height: 350px;'+'max-height: 40%;'+'overflow: hidden;'+'background-color: white;'+'box-shadow: 0 0 6px var(--deep-ocean-light);'+'z-index: 2147483647;'+'}'+'#mouseflow .tool-header {'+'background-color: var(--dusty-cloud);'+'height: 58px;'+'border: 1px solid var(--dusty-cloud-darker);'+'}'+'#mouseflow .tool-title { '+'display: flex;'+'vertical-align: middle;'+'align-items: center;'+'}'+'#mouseflow .logo {'+'display: inline;'+'height: 30px;'+'margin: 14px 10px;'+'fill: black;'+'}'+'#mouseflow .tool-toggle,'+'#mouseflow .tool-close {'+'margin-left: auto;'+'padding: 18px 24px;'+'}'+'#mouseflow .is-loading .tool-close {'+'display: block;'+'}'+'#mouseflow .is-loading .tool-toggle,'+'#mouseflow .tool-close {'+'display: none;'+'}'+'#mouseflow .tool-toggle-text {'+'display: inline-block;'+'color: var(--deep-ocean);'+'font-size: 16px;'+'font-weight: 700;'+'}'+'#mouseflow .tool-toggle-icon {'+'width: 23px;'+'display: inline-block;'+'position: relative;'+'top: 0px;'+'}'+'#mouseflow .tool-close .tool-toggle-icon {'+'top: 4px;'+'}'+'#mouseflow .tool-content {'+'height: calc(100% - 58px);'+'}'+'#mouseflow .tool-menu {'+'width: 15%;'+'height: 100%;'+'float: left;'+'}'+'#mouseflow .tool-menu-item {'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'cursor: pointer;'+'height: 40px;'+'padding: 12px;'+'}'+'#mouseflow .tool-menu-item.active {'+'position: relative;'+'background-color: var(--lighter-navy);'+'color: var(--deep-ocean);'+'cursor: default;'+'}'+'#mouseflow .tool-exclude,'+'#mouseflow .tool-whitelist,'+'#mouseflow .tool-track,'+'#mouseflow .tool-masked {'+'display: none;'+'width: 70%;'+'height: 100%;'+'float: left;'+'color: var(--deep-ocean);'+'overflow-y: auto;'+'overflow-x: hidden;'+'padding: 10px 20px;'+'}'+'#mouseflow .tool-exclude p, #mouseflow .tool-whitelist p, #mouseflow .tool-track p, #mouseflow .tool-masked p {'+'color: black;'+'}'+'#mouseflow .tool-exclude.active,'+'#mouseflow .tool-whitelist.active,'+'#mouseflow .tool-masked.active,'+'#mouseflow .tool-track.active {'+'display: block;'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar,'+'#mouseflow .tool-whitelist::-webkit-scrollbar,'+'#mouseflow .tool-masked::-webkit-scrollbar,'+'#mouseflow .tool-track::-webkit-scrollbar {'+'width: 8px;'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar-track,'+'#mouseflow .tool-whitelist::-webkit-scrollbar-track,'+'#mouseflow .tool-masked::-webkit-scrollbar-track,'+'#mouseflow .tool-track::-webkit-scrollbar-track {'+'border-radius: 10px;'+'background-color: #F5F5F5;'+'-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);'+'}'+'#mouseflow .tool-exclude::-webkit-scrollbar-thumb,'+'#mouseflow .tool-whitelist::-webkit-scrollbar-thumb,'+'#mouseflow .tool-masked::-webkit-scrollbar-thumb,'+'#mouseflow .tool-track::-webkit-scrollbar-thumb {'+'border-radius: 10px;'+'background-color: #a7a7a7;'+'-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);'+'}'+'#mouseflow .tool-status {'+'width: 15%;'+'background-color: var(--dusty-cloud);'+'color: var(--deep-ocean);'+'height: 100%;'+'float: left;'+'position: relative;'+'}'+'#mouseflow .tool-status-text {'+'font-size: 16px;'+'font-weight: 300;'+'text-align: left;'+'padding: 0 15px;'+'position: absolute;'+'top: 40px;'+'}'+'#mouseflow .tool-status-buttons {'+'width: 100%;'+'text-align: center;'+'position: absolute;'+'padding: 0 30px;'+'bottom: 40px;'+'}'+'#mouseflow .tool-loading {'+'width: 100%;'+'height: calc(100% - 58px);'+'background-color: white;'+'color: rgb(71, 64, 62);'+'position: absolute;'+'top: 58px;'+'z-index: 2;'+'visibility: hidden;'+'opacity: 0;'+'-webkit-animation: fadeOut .3s linear;'+'animation: fadeOut .3s linear;'+'}'+'#mouseflow .is-loading .tool-loading {'+'visibility: visible;'+'opacity: 1;'+'-webkit-animation: fadeIn .3s linear;'+'animation: fadeIn .3s linear;'+'}'+'#mouseflow .tool-loading h2 {'+'position: absolute;'+'left: 50%;'+'top: 50%;'+'-webkit-transform: translate(-50%, -50%);'+'-ms-transform: translate(-50%, -50%);'+'transform: translate(-50%, -50%);'+'}'+'#mouseflow .widget-header {'+'color: #fff;'+'padding: 12px 15px;'+'vertical-align: middle;'+'overflow: hidden;'+'position: relative;'+'z-index: 1;'+'-webkit-transition: opacity .3s linear;'+'transition: opacity .3s linear;'+'}'+'#mouseflow .widget-header:hover {'+'background-color: var(--lighter-aqua);'+'}'+'#mouseflow .widget-text {'+'font-size: 16px;'+'line-height: 20px;'+'width: 245px;'+'display: inline-block;'+'vertical-align: middle;'+'}'+'#mouseflow .widget-toggle {'+'width: 20px;'+'display: inline-block;'+'vertical-align: middle;'+'margin: 0;'+'}'+'#mouseflow .btn-arrow,'+'#mouseflow .btn-cross {'+'float: right;'+'z-index: 10;'+'line-height: .5;'+'}'+'#mouseflow .tool-toggle-icon .btn-arrow,'+'#mouseflow .tool-toggle-icon .btn-cross {'+'font-size: 23px;'+'}'+'#mouseflow .widget-toggle .btn-arrow {'+'font-size: 23px;'+'}'+'#mouseflow .tm-tag .btn-cross {'+'margin: 3px 0 0 7px;'+'font-weight: 700;'+'font-size: 16px;'+'}'+'#mouseflow .btn-arrow--up {'+'-webkit-transform: rotate(-90deg) scale(1.5, 1.5);'+'-ms-transform: rotate(-90deg) scale(1.5, 1.5);'+'transform: rotate(-90deg) scale(1.5, 1.5);'+'}'+'#mouseflow .btn-arrow--down {'+'-webkit-transform: rotate(+90deg) scale(1.5, 1.5);'+'-ms-transform: rotate(+90deg) scale(1.5, 1.5);'+'transform: rotate(+90deg) scale(1.5, 1.5);'+'}'+'#mouseflow .widget-toggle .btn-arrow:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -185px;'+'left: -15px;'+'right: -15px;'+'bottom: -15px;'+'display: block;'+'}'+'#mouseflow .tool-toggle-icon .btn-arrow:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -10px;'+'left: -15px;'+'right: -15px;'+'bottom: -100px;'+'display: block;'+'}'+'#mouseflow .tool-toggle-icon .btn-cross:before {'+'content: "";'+'display: inline;'+'position: absolute;'+'top: -25px;'+'left: -150px;'+'right: -20px;'+'bottom: -20px;'+'display: block;'+'}'+'#mouseflow .btn-arrow:after {'+'content: "\\203a";'+'display: inline;'+'}'+'#mouseflow .btn-cross:after {'+'content: "\\00d7";'+'display: inline;'+'top: -4px;'+'position: relative;'+'}'+'#mouseflow .tm-tag .btn-cross:after {'+'top: 0px;'+'}'+'#mouseflow .btn-arrow:hover,'+'#mouseflow .btn-cross:hover {'+'text-decoration: none;'+'}'+'#mouseflow .btn-widget {'+'width: 100%;'+'height: 38px;'+'border: none;'+'border-radius: 8px;'+'overflow: hidden;'+'position: relative;'+'z-index: 1;'+'cursor: pointer;'+'display: block;'+'padding: 10px;'+'font-size: 16px;'+'font-family: inherit;'+'font-weight: bold;'+'text-align: center;'+'outline: none;'+'color: var(--dusty-cloud);'+'margin-bottom: 10px;'+'-webkit-transition: background-color .3s linear;'+'transition: background-color .3s linear;'+'}'+'#mouseflow .btn-widget:hover {'+'text-decoration: none;'+'background-color: var(--light-blue);'+'}'+'#mouseflow .privacy-tool {'+'height: 350px;'+'max-height: 40%;'+'-webkit-transition: height .5s ease-out;'+'transition: height .5s ease-out;'+'}'+'#mouseflow .privacy-tool.tool-closed {'+'height: 0;'+'}'+'#mouseflow .tool-closed .step {'+'visibility: visible;'+'}'+'#mouseflow .tool-closed .tool-container {'+'visibility: hidden;'+'}'+'#mouseflow .step.fade-in,'+'#mouseflow .tool-container.fade-in {'+'-webkit-animation: fadeUpIn .8s cubic-bezier(0, 0, 0, 1) both;'+'animation: fadeUpIn .8s cubic-bezier(0, 0, 0, 1) both;'+'}'+'#mouseflow .step.fade-out,'+'#mouseflow .tool-container.fade-out {'+'-webkit-animation: fadeDownOut .8s cubic-bezier(0, 0, 0, 1);'+'animation: fadeDownOut .8s cubic-bezier(0, 0, 0, 1);'+'}'+'#mouseflow .btn-widget.loading {'+'cursor: default;'+'}'+'#mouseflow .btn-widget.loading:before {'+'display: none;'+'}'+'#mouseflow .loading i {'+'animation-name: blink;'+'animation-duration: 1.4s;'+'animation-iteration-count: infinite;'+'animation-fill-mode: both;'+'}'+'#mouseflow .loading i:nth-child(2) {'+'animation-delay: .2s;'+'}'+'#mouseflow .loading i:nth-child(3) {'+'animation-delay: .4s;'+'}'+'#mouseflow .loading i:nth-child(4) {'+'animation-delay: .6s;'+'}'+'#mouseflow .tool-message {'+'width: 100%;'+'height: calc(100% - 58px);'+'background-color: white;'+'color: rgb(71, 64, 62);'+'position: absolute;'+'top: 58px;'+'z-index: 3;'+'padding: 20px;'+'overflow-y: auto;'+'overflow-x: hidden;'+'visibility: hidden;'+'opacity: 0;'+'-webkit-animation: fadeOut .3s linear;'+'animation: fadeOut .3s linear;'+'}'+'#mouseflow .tool-message h3 {'+'margin-bottom: 20px;'+'}'+'@media (max-width: 1300px) {'+'#mouseflow .tool-exclude,'+'#mouseflow .tool-whitelist,'+'#mouseflow .tool-masked,'+'#mouseflow .tool-track {'+'width: 60%;'+'}'+'#mouseflow .tool-status {'+'width: 25%;'+'}'+'#mouseflow .tool-status-buttons {'+'bottom: 10px;'+'}'+'}'+'@media (max-width: 850px) {'+'#mouseflow .tool-menu-item {'+'height: 56px;'+'}'+'#mouseflow .tool-status-text {'+'font-size: 14px;'+'}'+'#mouseflow .btn-widget {'+'font-size: 12px;'+'}'+'#mouseflow a.mf-tool-close {'+'font-size: 12px;'+'}'+'}'+'@media (max-height: 800px) {'+'#mouseflow .tool-status-text {'+'top: 20px;'+'}'+'#mouseflow .tool-status-buttons {'+'bottom: 20px;'+'}'+'}'+'@media (max-height: 650px) {'+'#mouseflow .tool-status-text {'+'font-size: 14px;'+'}'+'}'+'@media (max-width: 650px), (max-height: 600px) {'+'#mouseflow .tool-message {'+'visibility: visible;'+'opacity: 1;'+'-webkit-animation: fadeIn .3s linear;'+'animation: fadeIn .3s linear;'+'}'+'}'+'@-webkit-keyframes fadeUpIn {'+'0% {'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'100% {'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'}'+'@keyframes fadeUpIn {'+'0% {'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'100% {'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'}'+'@-webkit-keyframes fadeDownOut {'+'0% {'+'visibility: visible;'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'}'+'@keyframes fadeDownOut {'+'0% {'+'visibility: visible;'+'-webkit-transform: translateY(0);'+'-ms-transform: translateY(0);'+'transform: translateY(0);'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'-webkit-transform: translateY(50px);'+'-ms-transform: translateY(50px);'+'transform: translateY(50px);'+'opacity: 0;'+'}'+'}'+'@-webkit-keyframes fadeIn {'+'0% {'+'visibility: visible;'+'opacity: 0;'+'}'+'100% {'+'visibility: visible;'+'opacity: 1;'+'}'+'}'+'@keyframes fadeIn {'+'0% {'+'visibility: visible;'+'opacity: 0;'+'}'+'100% {'+'visibility: visible;'+'opacity: 1;'+'}'+'}'+'@-webkit-keyframes fadeOut {'+'0% {'+'visibility: visible;'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'opacity: 0;'+'}'+'}'+'@keyframes fadeOut {'+'0% {'+'visibility: visible;'+'opacity: 1;'+'}'+'100% {'+'visibility: hidden;'+'opacity: 0;'+'}'+'}'+'@keyframes blink {'+'0% {'+'opacity: .2;'+'}'+'20% {'+'opacity: 1;'+'}'+'100% {'+'opacity: .2;'+'}'+'}')}this._34=_34;this._66=_66}function _1001(_2,_117,_26,_11,_25,_3,_92){var _7,_79,_144,_47,_629,_589;function _34(_232,_299,_1156,_65){_47=_299;_7=_232;_589=_65;_629=!!_1156;_7('Tagger tool starting');_79=_117._274();if(!_79){_7('Tagger tool not initiated - could not create root HTML element');return}if(!_2.opener){_7('Tagger tool not initiated - window.opener is missing');return}_234()}function _234(){_25._42(_2,'message',function(_41){if(_41.origin!==_47)return;_304(_41.data);switch(_41.data.message){case'MouseflowTaggerTool_Init_Received':_2.clearInterval(_144);break;case'MouseflowTaggerTool_Init_Success':_302(_41.data.scripts,function(){taggerToolWidget.start(_92._142());if(typeof _589==='function')_589();_7('Tagger tool scripts loaded')});break}});_144=_2.setInterval(_611,500);_2.setTimeout(function(){_2.clearInterval(_144)},10000);_611()}function _611(){_186({message:'MouseflowTaggerTool_Init',startWithHeatMap:_629})}function _302(_176,_65){if(!_176)return;var _211=0;function _303(){if(_211>=_176.length){_65();return}var _88=_176[_211];_581(_88);_211++;var _179=document.createElement('script');if(_88.startsWith('/'))_179.src=_47+_88;else _179.src=_47+'/'+_88;_179.onload=_303;_79.appendChild(_179)}_303()}function _581(_88){_7('Tagger tool loading script: '+_88)}function _304(_10){if(_10.message&&_10.message.indexOf('MouseflowTaggerTool_')===0)_7('Received '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}function _186(_10){_2.opener.postMessage(_10,_47);_7('Sent '+_10.message+(_10.requestUrl?', request URL: '+_10.requestUrl:''))}this._34=_34}function _934(_3,_542,_541){function _142(){if(_3.forcePath&&_3.path)return _3.path.toLowerCase();var _90=(_3.crossDomainSupport?_3.location.hostname:'')+(_3.path||(_3.decodePathName?decodeURIComponent(_3.location.pathname):_3.location.pathname)).toLowerCase();var _133=(_3.includeHashInPath?_3.location.hash:'').toLowerCase();var _126=_3.location.search.toLowerCase();if(_90!=='/'&&_90.slice(-1)==='/'&&(!_3.includeQueryStringInPath&&!_3.includeHashInPath))_90=_90.slice(0,-1);return _1093(_90+(_3.includeQueryStringInPath?_126:'')+_133)||_90+_1084(_126)+_133}function _1093(_90){return _542.filter(function(_87){return _1089(_90,_87)}).map(function(_87){return _1050(_87)})[0]}function _1084(_126){if(_126[0]==='?')_126=_126.slice(1);var _77;var _580=[];var _1088=/([^&=]+)=?([^&]*)/g;while((_77=_1088.exec(_126))!==null){var _49=_541.indexOf(_77[1]);if(_77[2]&&_49>-1)_580[_49]=_77[0]}return _580.length?'?'+_580.filter(hasValue).join('&'):(_3.includeQueryStringInPath&&_126?'?'+_126:'')}function _1089(_90,_87){var _877=_90.indexOf('?');if(!_3.includeQueryStringInPath&&_877>-1)_90=_90.slice(0,_877);switch(_87._21){case'equals':return _90===_87._5.toLowerCase();case'startsWith':return _90.substr(0,_87._5.length)===_87._5;case'endsWith':return _90.substr(-_87._5.length)===_87._5;case'contains':return _90.includes(_87._5.toLowerCase());case'regex':return new RegExp(_87._5).test(_90);default:return false}}function _1050(_87){if(_87._1051)return _87._1051;switch(_87._21){case'startsWith':return _87._5+'*';case'endsWith':return'*'+_87._5;default:return _87._5}}function hasValue(value){return value}this._142=_142}function _862(_21,_2,_11,_7){var _247=_1127(_21);this._164=function(_16){try{return _247.getItem(_16)||null}catch(e){_7(e);return null}};this._249=function(_16){try{return _11._329(this._164(_16))||null}catch(e){_7(e);return null}};this._124=function(_16,_5){try{_247.setItem(_16,_5);return true}catch(e){_7(e);return false}};this._245=function(_16,_5){try{return this._124(_16,_11._131(_5))}catch(e){_7(e);return false}};this._257=function(_16){try{_247.removeItem(_16)}catch(e){_7(e)}};this._867=function(){try{var _16='mf_supportsSessionStorage';var _5='1';_247.setItem(_16,_5);var _1060=_247.getItem(_16)===_5;_247.removeItem(_16);return _1060}catch(e){_7(e);return false}};function _1127(_21){switch(_21){case'local':return _2.localStorage;case'session':return _2.sessionStorage;default:throw Error('Unknown storage type: '+(_21||'null'))}}}function _1129(_2,_11,_3,_7){var _12=_2.document;var _71=_2.location;var _1109=7776000000;this._1147=function(_20){var _774=_20+'=';var _789=_12.cookie.split(';');for(var i=0;i<_789.length;i++){var c=_789[i];while(c.charAt(0)===' '){c=c.substring(1)}if(c.indexOf(_774)===0){return c.substring(_774.length,c.length)}}return''};this._164=function(_16){try{return this._1147(_16)}catch(e){_7(e);return null}};this._249=function(_16){try{return _11._329(this._164(_16))||null}catch(e){_7(e);return null}};this._1104=function(_20,_5,_223,_32){var _815='';if(_223==1){var _122=new Date();_122.setTime(_122.getTime()+_1109);_815='; expires='+_122.toGMTString()}var _1098=_3.secureCookie?'secure;':'';_12.cookie=_20+'='+_5+_815+'; path=/; domain='+_32+';'+_1098+'SameSite=Strict;'};this._124=function(_16,_5,_223,_32){try{this._1104(_16,_5,_223,_32);return true}catch(e){_7(e);return false}};this._245=function(_16,_5,_223,_32){try{return this._124(_16,_11._131(_5),_223,_32)}catch(e){_7(e);return false}};this._257=function(_16){try{_12.cookie=_16+'=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/; domain='+_11._324(_71,_3)+';'}catch(e){_7(e)}}}function _951(_2,_11,_3,_7){this._769=function(){_2._mfq=[]};this._281=function(){if(!_2._mfq)this._769();for(var _49=0;_49<_2._mfq.length;_49++){var _59=_2._mfq[_49];if(_59&&_59.length){var _852=true;if(_59[0]==='config')_3._443.apply(_3,_59.slice(1));else if(_59[0]==='newPageView')_3._520.apply(_3,_59.slice(1));else _852=false;if(_852)delete _2._mfq[_49]}}};this._34=function(){_2._mfq=new _135(_2._mfq)};this._861=function(){_2._mfq.push.apply(_2._mfq,arguments)};this._1118=function(){return _2._mfq};function _135(_444){if(!_444)_444=[];var _39=this;_2.setTimeout(function(){for(var _49=0;_49<_444.length;_49++)_39.push(_444[_49])},1)}_135.prototype.push=function(_59){if(!_59)return;try{if(typeof _59==='object'&&_59.length){_2.mouseflow[_59.slice(0,1)].apply(_2.mouseflow,_59.slice(1))}else if(typeof _59==='function'){_59(_2.mouseflow)}}catch(error){var _230='Failed to execute item on action queue';var _849=_11._131(_59);if(_849)_230+='\n'+_849;_230+='\n'+error;_7(_230)}}}function _1116(_24,_11){var _482=[];var _1101=['target','button','pageX','pageY','which','data','origin','source','touches','key','clientX','clientY'];function _1126(_22,_9,_53,_484,_17){var _91=!!_17._91;var _839=function(_6){var _313=[];if(_6.composedPath&&((_6.target&&_6.target.shadowRoot)||_53))_313=_6.composedPath();var _799=_6;_6=_1103(_6);_6.preventDefault=function(){_799.preventDefault()};_6.stopPropagation=function(){_799.stopPropagation()};if(_6.target&&_6.target.shadowRoot&&_313.length)_6.target=_313[0];if(_53){_6.delegatedTarget=_828(function(_54,_4){return _313.length?_313[_4]:(_54?_24._83(_54):_6.target)},_53);if(!_6.delegatedTarget&&!_17._1115)return;if(_17._439&&_6.target!==_6.delegatedTarget)return}else if(_17._439&&_6.target!==_22){return}if(_17._106)_6.preventDefault();if(_17._1274)_6.stopPropagation();_484.apply(this,arguments)};_22.addEventListener(_9,_839,{capture:_91});_482.push({_22:_22,_9:_9,_484:_839,_91:_91})}function _1103(_6){var _821={};_1101.forEach(function(_16){if(_6[_16]!=undefined)_821[_16]=_6[_16]});return _821}function _1152(){_482.forEach(function(_25){_25._22.removeEventListener(_25._9,_25._484,{capture:_25._91})});_482=[]}function _828(_829,_53,_22,_49){if(!_49)_49=0;_22=_829(_22,_49);if(!_22||!_53)return null;if(_11._99(_22,_53))return _22;return _828(_829,_53,_22,++_49)}this._42=function(_22,_9,_53,_65,_17){if(typeof _53==='function'){_17=_65;_65=_53;_53=null}_1126(_22,_9,_53,_65,_17||{})};this._847=_1152}function _682(_3,_11){function _483(_196,_357){if(!_196||!_196.length)return true;_196=_196.filter(function(_75){return _75&&_75._21&&_75._5});var _843=_196.filter(function(_75){return _75._21.indexOf('not')!==0});var _1145=_843.length===0||_843.some(function(_75){return _284(_75,_357)});var _841=_196.filter(function(_75){return _75._21.indexOf('not')===0});var _1151=_841.length===0||_841.every(function(_75){return _284(_75,_357)});return _1151&&_1145}function _284(_75,_357){const _90=_3.path||_3.location.pathname;const _133=_3.includeHashInPath?_3.location.hash:'';const _126=_3.includeQueryStringInPath?_3.location.search:'';const _29=(_90+_126+_133).toLowerCase();const _778=_357?.toLowerCase();const _1141=_357&&_778===_75._5?.toLowerCase();let _478=_1141?_479(_75,_778):_479(_75,_29);if(!_478&&_3.crossDomainSupport)_478=_479(_75,_3.location.hostname+_29);return _478}function _479(_75,_29){const _21=(_75._21||'').toLowerCase();const _5=(_75._5||'').toLowerCase();const _427=_11._438(_29,'/');const _420=_11._438(_5,'/');const _1138={equals:()=>_427===_420,startswith:()=>_29.startsWith(_5),endswith:()=>_427.endsWith(_420),regex:()=>new RegExp(_5).test(_29),contains:()=>_29.includes(_5),notequals:()=>_427!==_420,notstartswith:()=>!_29.startsWith(_5),notendswith:()=>!_427.endsWith(_420),notcontains:()=>!_29.includes(_5)};return _1138[_21]?.()??true}this._483=_483;this._284=_284}function _1135(_2,_60,_132,_491,_489,_486){const _71=_2.location;const _12=_2.document;const _1131=URL.parse??_505;function _505(_19){var _99=(_19||'').match(/^(([^:]+:)?\/?\/?(([^:/?#]+)?:?(\d+)?))(\/.*?)?(\?.*?)?(#.*)?$/);return{href:_99[0]||'',origin:_99[1]||'',protocol:_99[2]||'',host:_99[3]||'',hostname:_99[4]||'',port:_99[5]||'',pathname:_99[6]||'',search:_99[7]||'',hash:_99[8]||''}}function _903(_1130){if(_486)return'';const _19=_1131(_1130);return _19?.protocol&&_19?.origin?_19.origin:''}this.debug=_2.mouseflowDebug||_71.search.indexOf('mf_debug=1')!==-1;this.includeDebugTime=false;this.forceStart=_71.search.indexOf('mf_force=1')!==-1;this.autoStart=_2.mouseflowAutoStart!==false&&_71.search.indexOf('mf_autostart=0')===-1;this.enableBots=false;this.touchEvents=!_2.mouseflowDisableTouch;this.htmlDelay=_2.mouseflowHtmlDelay||1000;this.newPageViewHtmlDelay=_2.mouseflowNewPageViewHtmlDelay||500;this.compress=_2.mouseflowCompress!==false&&_71.search.indexOf('mf_compress=0')===-1;this.compressFunction=null;this.autoTagging=_2.mouseflowAutoTagging!==false;this.path=_2.mouseflowPath;this.forcePath=false;this.crossDomainSupport=!!_2.mouseflowCrossDomainSupport;this.location=_505(_2.mouseflowHref||_71.href);this.hasCustomHref=!!_2.mouseflowHref;this.referrer=_903(_2.mouseflowReferrer!==undefined?_2.mouseflowReferrer:_12.referrer);this.htmlFetchMode=_2.mouseflowHtmlFetchMode||'post';this.sessionId=_2.mouseflowSessionId;this.honorDoNotTrack=_2.mouseflowHonorDoNotTrack||_489;this.gdprEnabled=_2.mouseflowForceGdpr||_491;this.keyLogging=!_2.mouseflowDisableKeyLogging&&!this.gdprEnabled;this.domReuse=!_2.mouseflowDisableDomReuse;this.domDeduplicator=!_2.mouseflowDisableDomDeduplicator;this.includeSubDomains=!_2.mouseflowExcludeSubDomains;this.registerSubmitTimeout=_2.mouseflowRegisterSubmitTimeout||2000;this.useUnload=!!_2.mouseflowUseUnload;this.replaceLastFormValues=_2.mouseflowReplaceLastFormValues||!this.keyLogging||this.gdprEnabled;this.useAllHoverSelectors=!!_2.mouseflowUseAllHoverSelectors;this.enableCssRecording=!!_2.mouseflowEnableCssRecording;this.secureCookie=!!_2.mouseflowSecureCookie;this.enableSpa=true;this.includeHashInPath=false;this.includeQueryStringInPath=false;this.autoTagPayments=true;this.preferStorageApi=!!_2.mouseflowPreferStorageApi;this.domMutationDetectorEnable=_2.domMutationDetectorEnable!==undefined?_2.domMutationDetectorEnable:false;this.domMutationUseParentNode=_2.domMutationUseParentNode!==undefined?_2.domMutationUseParentNode:true;this.domMutationUsePreviousSibling=_2.domMutationUsePreviousSibling!==undefined?_2.domMutationUsePreviousSibling:false;this.domMutationCountThreshold=_2.domMutationCountThreshold!==undefined?_2.domMutationCountThreshold:20;this.domMutationTimeThresholdInSeconds=_2.domMutationTimeThresholdInSeconds!==undefined?_2.domMutationTimeThresholdInSeconds:10;this.liveHeatmapsEnabled=false;this.privacyToolEnabled=false;this.taggerToolEnabled=false;this.useIdSelectors=_2.mouseflowUseIdSelectors!==undefined?_2.mouseflowUseIdSelectors:true;this.useSelectorGenerator=_2.mouseflowUseSelectorGenerator!==undefined?_2.mouseflowUseSelectorGenerator:false;this.proxyAttachShadow=true;this.scrollSelector=_2.mouseflowScrollSelector;this.autoScrollSelector=_2.mouseflowAutoScrollSelector||false;this.freezeElementIds=[];this.proxyValueSetter=false;this.decodePathName=false;this.forms=_2.mouseflowFormsConfiguration||null;this.notFoundIdentifiers=_2.mouseflowNotFoundIdentifiers||["Not Found","404"];this.debugDeadClick=_71.search.indexOf('mf_debugDeadClick=1')!==-1;this.enableDeadClick=true;this.enableDataLayerCapture=!!_2.mouseflowEnableDataLayerCapture;this._281=function(){const _252=typeof _2.name==='string'&&_2.name.startsWith('mf_')?_2.name.slice(3).split('_'):[];if(`${_252[0]}_${_252[3]}`==='liveHeatmaps_v3'){this.liveHeatmapsV3Enabled=true;_132._124('mf_liveHeatmaps_version','v3')}else if(_132._164('mf_liveHeatmaps_version')==='v3'){this.liveHeatmapsV3Enabled=true}if(!!_2.opener&&_71.search.indexOf('mf_liveHeatmaps')!==-1){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_71.search.indexOf('mf_inspect')!==-1){this.privacyToolEnabled=true;return}if(!!_2.opener&&_252[0]==='liveHeatmaps'){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true;return}if(_252[0]==='privacyTool'){this.privacyToolEnabled=true;return}if(`${_252[0]}_${_252[1]}`==='tagger_tool'){this.taggerToolEnabled=true;return}if(!_60._867())return;if(_2.opener){if(_60._164('mf_privacyTool'))this.privacyToolEnabled=true;else if(_60._164('mf_liveHeatmaps')){this.liveHeatmapsEnabled=true;this.taggerToolEnabled=true}}};this._520=function(_29,_71){this._443('href',_2.location.href);this.path=undefined;if(_29)this.path=_29.toString();if(_71){this.location=_71;this.hasCustomHref=true}};this._443=function(_16,_5){if(_16[0]==='_')return;switch(_16){case'href':this.location=_505(_5);this.hasCustomHref=_5!==_2.location.href;break;case'keyLogging':this.keyLogging=this.keyLogging&&_5;break;case'gdprEnabled':this.gdprEnabled=this.gdprEnabled||_5;break;case'freezeElementIds':this.freezeElementIds=Array.isArray(_5)?_5:[''+_5];break;case'referrer':this.referrer=_903(_5);break;case'hasCustomHref':break;default:this[_16]=_5;break}}}function _936(_2,_24){const _426='mf-root';let _898,_222;_278(_2);function _278(_280){_898=_280;_222=_280.document;_24._278(_280)}function _499(){if(!_222.body)return null;const _102=_1056();if(!_1055())_551();return _102}function _274(){const _79=_499();const _102=_79?.shadowRoot.getElementById('mouseflow');return _102}function _501(){const _102=_857();if(!_102)return;const _906=_898.getComputedStyle(_222.body);const _493=parseInt(_906.marginTop)+parseInt(_906.paddingTop);if(_493){_102.style.top=`${_493 * -1}px`;_102.style.height=`calc(100% + ${_493}px)`;_102.style.left='0px';_102.style.width='100%'}}function _857(){return _222.getElementsByTagName(_426)[0]}function _1056(){const _102=_857()??_222.createElement(_426);if(!_102.id)_102.id='mouseflow';if(_102.innerHTML?.trim()==='')_102.innerHTML=_1048();if(!_222.contains(_102))_222.body.appendChild(_102);_501();return _102}function _1055(){return!!_24._1258(_426)}function _551(){_24._551(_426,class extends _24._507('HTMLElement'){connectedCallback(){const _109=this.shadowRoot??this.attachShadow({mode:'open'});if(_109.getElementById('mouseflow'))return;_109.innerHTML=('<div id="mouseflow">'+'<style type="text/css">'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+':host {'+'all: initial;'+'font: 400 14px/1.4 "Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'.load-font {'+'position: absolute;'+'visibility: hidden;'+'width: 0px;'+'height: 0px;'+'overflow: hidden;'+'}'+'* {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'.mf-is-hidden {'+'display: none;'+'}'+'</style>'+'<div class="load-font">load font</div>'+'<slot />'+'</div>')}})}function _1048(){return('<style type="text/css">'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 400;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-regular.woff2) format("woff2");'+'}'+'@font-face {'+'font-family: "Mouseflow Open Sans";'+'font-style: normal;'+'font-weight: 700;'+'src: url(https://cdn.mouseflow.com/fonts/opensans/opensans-bold.woff2) format("woff2");'+'}'+'#mouseflow,'+'mf-root {'+'all: initial;'+'font: 400 14px/1.4 "Mouseflow Open Sans", Arial, sans-serif;'+'color: #666;'+'}'+'#mouseflow *,'+'mf-root * {'+'background: transparent;'+'border: 0;'+'border-image-outset: 0s;'+'border-image-repeat: stretch;'+'border-image-slice: 100%;'+'border-image-source: none;'+'border-image-width: 1;'+'border-color: #000;'+'border-radius: 0;'+'border-width: 0;'+'border-style: none;'+'box-sizing: border-box;'+'clip: auto;'+'float: none;'+'color: inherit;'+'font-family: inherit;'+'font-size: inherit;'+'font-style: inherit;'+'font-weight: inherit;'+'width: auto;'+'height: auto;'+'min-width: auto;'+'min-height: auto;'+'max-width: auto;'+'max-height: auto;'+'letter-spacing: normal;'+'line-height: normal;'+'margin: 0;'+'padding: 0;'+'text-decoration: none;'+'text-indent: 0;'+'text-transform: none;'+'vertical-align: baseline;'+'text-align: left;'+'overflow: visible;'+'top: auto;'+'right: auto;'+'bottom: auto;'+'left: auto;'+'-webkit-transition: none;'+'transition: none;'+'}'+'#mouseflow .mf-is-hidden,'+'mf-root .mf-is-hidden {'+'display: none;'+'}'+'</style>')}this._278=_278;this._499=_499;this._274=_274;this._501=_501}function _1044(_2){this._74=function(){return _436('setTimeout').apply(_2,arguments)};this._342=function(){return _436('setInterval').apply(_2,arguments)};this._153=function(){_436('clearTimeout').apply(_2,arguments)};this._192=function(){_436('clearInterval').apply(_2,arguments)};function _436(_20){var _899;if(_2.Zone&&_2.Zone.__symbol__)_899=_2[_2.Zone.__symbol__(_20)];return _899||_2[_20]}}function _1043(_2,_114,_452,_24){var _12=_2.document;function _168(_0,_112){var _123=_0.classList;if(_123&&_112)return _123.contains(_112);var _177=_229(_0);return _177.indexOf(_112)!==-1}function _115(_0,_112){var _123=_0.classList;if(_123&&_112){_0.classList.add(_112);return}var _177=_229(_0);if(_177.indexOf(_112)===-1)_177.push(_112);_0.className=_177.join(' ')}function _70(_0,_112){var _123=_0.classList;if(_123&&_112){_0.classList.remove(_112);return}var _177=_229(_0);var _49=_177.indexOf(_112);if(_49!==-1)_177.splice(_49,1);_0.className=_177.join(' ')}function _326(_0,_112,_502){if(_502===undefined)_502=!_168(_0,_112);if(_502){_115(_0,_112)}else{_70(_0,_112)}}function _229(_0){var _890=typeof _0.className==='string'?_0.className.replace(/\s+/g,' ').trim():'';return _890!==''?_890.split(' '):[]}function _467(){return _114.max((_12.body||{}).scrollHeight||0,(_12.body||{}).offsetHeight||0,_12.documentElement.scrollHeight||0,_12.documentElement.offsetHeight||0,_12.documentElement.clientHeight||0)}function _554(){var _272=null;var _1040=_12.body.scrollHeight;_12.querySelectorAll('body *').forEach(function(_54){if(_54.tagName==='LINKBAR-CONTAINER')return;if(!_272)_272=_54;if(_272.scrollHeight<_54.scrollHeight)_272=_54});return _272.scrollHeight>_1040?_272:null}function _553(_3){if(!_3.autoScrollSelector)return _12.querySelector(_3.scrollSelector);return _554()}function _53(_51,_1039){var _30=[];if(!_51)return _30;for(var _4=0;_4<_51.length;_4++){if(_1039(_51[_4],_4))_30.push(_51[_4])}return _30}function _265(_178){var _4=Math.floor(Math.log(_178)/Math.log(1024));return(_178/Math.pow(1024,_4)).toFixed(2)*1+' '+['B','KB','MB','GB','TB'][_4]}function _633(_319){var _429=_319.length;while(_429){var _4=_114.floor(_114.random()*_429--);var _1063=_319[_429];_319[_429]=_319[_4];_319[_4]=_1063}}function _154(_44){if(!_44)return _44;return _44.replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}function _468(_44){if(!_44)return _44;return _44.replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,'<').replace(/&gt;/g,'>')}function _469(url){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(url.trim())}function _609(_44){return _44.replace(/\[([^\]]+)\]\(([^)]+)\)/g,function(_77,_1065,_19){_19=_468(_19);return _469(_19)?'<a href="'+_19+'" target="_blank">'+_1065+'</a>':_77})}function _205(_5){if(!_5)return _5;return _5.replace(/([^a-zA-Z\d-_])/g,'\\$1').replace(/^(-)?(\d)/,'$1\\3$2 ')}function _329(_5){return _5?_452.parse(_5):undefined}function _131(_5){var _30;if(Array.prototype.toJSON){var _1092=Array.prototype.toJSON;delete Array.prototype.toJSON;_30=_452.stringify(_5);Array.prototype.toJSON=_1092}else if(_5){_30=_452.stringify(_5)}return _30}function _605(_1090,_1085){var _268=_435(_1090);var _44=_435(_1085);var _236=_114.max(_268.length,_44.length);if(_44=='NaN'||_268=='NaN'){return false}for(var _4=0;_4<_236;_4++){_268[_4]=_268[_4]||0;_44[_4]=_44[_4]||0;if(_268[_4]==_44[_4]){continue}return _268[_4]>_44[_4]}return true}function _435(_1082){var _655=_1082.split('.');var _656=[];for(var _4=0;_4<_655.length;_4++){_656.push(parseInt(_655[_4]))}return _656}function _438(_44,_1081){var _30=_44;while(_30[_30.length-1]===(_1081||' '))_30=_30.slice(0,-1);return _30}function _613(_433){var _77;var _126=/([^?&=]+)(?:=([^&]*))?/g;var _672={};while((_77=_126.exec(_433))!==null){var _16=_77[1];var _5=_77[2]?window.decodeURIComponent(_77[2].replace(/\+/g,' ')):null;_672[_16]=_5}return _672}const platformRegexes=[{family:'windows',regex:[/microsoft (windows) (vista|xp)/i,/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[/]?([\d.\w]*)/i,/(windows)[/]?([ntce\d.]+\w)(?!.+xbox)/i,/(win(?=3|9|n)|win 9x )([nt\d.]+)/i]},{family:'ios',regex:[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[/])([\d.]+)/i,/cfnetwork\/.+darwin/i]},{family:'macos',regex:[/(mac os x) ?([\w. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i]},{family:'android',regex:[/droid ([\w.]+)\b.+android[- ]x86/i,/(android)[-/]?([\w.]*)/i]},{family:'linux',regex:[/\b(joli|palm)\b ?(?:os)?\/?([\w.]*)/i,/(mint)[/()]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-/]?(?!chrom|package)([-\w.]*)/i,/(hurd|linux) ?([\w.]*)/i,/(gnu) ?([\w.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[/]?(?!amd|[ix346]{1,2}86)([\w.]*)/i,/(haiku) (\w+)/i]}];const browserRegexes=[{browser:'chrome',regex:[/\b(?:crmo|crios)\/([\w.]+)/i]},{browser:'edge',regex:[/edg(?:e|ios|a)?\/([\w.]+)/i]},{browser:'opera',regex:[/(opera mini)\/([-\w.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w.]+)/i,/(opera)(?:.+version\/|[/]+)([\w.]+)/i,/opios[/]+([\w.]+)/i,/\bopr\/([\w.]+)/i]},{browser:'ie',regex:[/(?:ms|\()(ie) ([\w.]+)/i,/trident.+rv[: ]([\w.]{1,9})\b.+like gecko/i]},{browser:'firefox',regex:[/\bfocus\/([\w.]+)/i,/fxios\/([\w.-]+)/i,/(?:mobile|tablet);.*(firefox)\/([\w.-]+)/i,/mobile vr; rv:([\w.]+)\).+firefox/i,/(firefox)\/([\w.]+)/i]},{browser:'opera',regex:[/\bopt\/([\w.]+)/i,/coast\/([\w.]+)/i]},{browser:'samsung',regex:[/(samsung)browser\/([\w.]+)/i]},{browser:'chrome',regex:[/ wv\).+(chrome)\/([\w.]+)/i,/chrome\/([\w.]+) mobile/i,/(chrome)\/v?([\w.]+)/i]},{browser:'android',regex:[/droid.+ version\/([\w.]+)\b.+(?:mobile safari|safari)/i]},{browser:'safari',regex:[/version\/([\w.,]+) .*mobile(?:\/\w+ | ?)safari/i,/iphone .*mobile(?:\/\w+ | ?)safari/i,/version\/([\w.,]+) .*(safari)/i,/webkit.+?(mobile ?safari|safari)(\/[\w.]+)/i]}];function _622(_670){var _663;var _660;for(let _4=0;_4<platformRegexes.length;_4++){var _671=platformRegexes[_4];let _77=_671.regex.find(function(_462){return _462.test(_670)});if(_77){_660=_671.family;break}}for(let _4=0;_4<browserRegexes.length;_4++){var _675=browserRegexes[_4];let _77=_675.regex.find(function(_462){return _462.test(_670)});if(_77){_663=_675.browser;break}}return{browser:_663,os:_660}}function _99(_0,_8){if(_0.nodeType!==1)return false;if(_0.msMatchesSelector)return _0.msMatchesSelector(_8);if(_0.matches)return _0.matches(_8);return false}function _197(_54,_465){var _62=_24._83(_54);return _62&&_62.hasAttribute&&_62.hasAttribute(_465)}function _466(ipaddress){if(/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(ipaddress)){return(true)}return(false)}function _324(_44,_3){if(_466(_44.hostname)||!_3.includeSubDomains)return _44.hostname;var _32=_44.href;var _1071=/\.co\.|\.com\.|\.ac\.|\.org\.|\.gov\.|\.edu\.|\.net\./;_32=_32.replace(/^http(s)?:\/\/?/i,'').replace(/^([^/]+)\/.*/i,'$1').replace(/:[\d]*$/,'');if(_1071.test(_32))_32=_32.replace(/^([^.]+\.){1,}([^.]+\.[^.]+\.[^.]+)$/i,'$2');else _32=_32.replace(/^([^.]+\.){1,}([^.]+\.[^.]+)$/i,'$2');return'.'+_32}this._324=_324;this._466=_466;this._168=_168;this._115=_115;this._70=_70;this._326=_326;this._229=_229;this._467=_467;this._53=_53;this._265=_265;this._633=_633;this._154=_154;this._468=_468;this._469=_469;this._609=_609;this._205=_205;this._329=_329;this._131=_131;this._605=_605;this._435=_435;this._438=_438;this._99=_99;this._197=_197;this._613=_613;this._622=_622;this._554=_554;this._553=_553}function _1226(_2,_7){const _1184=_2.Object;let _430;let _199,_431,_104,_200;this._278=function(_280){_199=_280;_431=_280.document;_104={}};this._278(_2);this._507=function(_56){const _275=_199[_56];const _677=`function ${_56}() { [native code] }`;let _55=_275;try{while(_104[_56]===undefined){if(!_55){_104[_56]=_548(_56);break}else if(_432(_55)===_677){_104[_56]=_55;break}else if(_432(_55.prototype?.constructor)===_677){_104[_56]=_55.prototype.constructor;break}else{_55=Object.getPrototypeOf(_55)}}}catch(e){_7(e)}return _104[_56]??_275};this._1241=function(_56,_220){const _275=_199[_56];const _1222=`function ${_220}() { [native code] }`;const _217=`${_56}.${_220}`;try{if(_104[_217]===undefined){let _55=this._507(_56).prototype;let _333=_55[_220];if(_432(_333)!==_1222){_104[_56]=_548(_56);_55=_104[_56].prototype;_333=_55[_220]}_104[_217]=_333}}catch(e){_7(e)}return _104[_217]??_275[_220]};this._338=function(_56,_218,_219){const _275=_199[_56];const _1220=`function ${_219} ${_218}() { [native code] }`;const _217=`${_56}.${_218}.${_219}`;try{if(_104[_217]===undefined){let _55=this._507(_56).prototype;let _434=_558(_55,_218,_219);if(_432(_434)!==_1220){_104[_56]=_548(_56);_55=_104[_56].prototype;_434=_558(_55,_218,_219)??_434}_104[_217]=_434}}catch(e){_7(e)}return _104[_217]??_558(_275,_218,_219)};function _558(_55,_218,_219){return Object.getOwnPropertyDescriptor(_55,_218)[_219]}this._572=function(_56,_220,_1266){const _333=this._1241(_56,_220);const _95=Array.from(arguments).slice(3);return _333.apply(_1266,_95)};this._551=function(_20,_1259){this._572('CustomElementRegistry','define',_199.customElements,_20,_1259)};this._1258=function(_20){return this._572('CustomElementRegistry','get',_199.customElements,_20)};function _548(_56){if(!_200){_200=_431.createElement('iframe');_200.style.display='none';_200.style.width='0';_200.style.height='0';_200.style.position='absolute';_431.body.appendChild(_200)}const _55=_200.contentWindow[_56];return _55}function _432(_5){return _5?.toString().replace(/\s+/g,' ')}this._83=function(_0){const _1036=this._338('Node','parentNode','get');return _0?_1036.apply(_0):null};this._544=function(_0){const _1249=this._338('Node','nextSibling','get');return _0?_1249.apply(_0):null};this._763=function(_0){const _1246=this._338('Node','firstChild','get');return _0?_1246.apply(_0):null};this._201=function(_0){const _1252=this._338('Node','childNodes','get');return _0?_1252.apply(_0)??[]:[]};this._1215=function(_0){const _1183=this._338('Node','parentElement','get');return _0?_1183.apply(_0):null};this._1178=function(_0){return this._572('Node','getRootNode',_0)};this._1164=function(_0){if(!_0)return false;if(_430===undefined){try{_430=_431.createElement('div').attachShadow({mode:'open'}).constructor}catch{_430=_199.ShadowRoot}}let _55=_0;let _5=null;while(_5===null){_55=_1184.getPrototypeOf(_55);if(!_55||_55.constructor===_199.DocumentFragment)_5=false;if(_55&&_55.constructor===_430)_5=true}return _5}}function _715(_2,_24,_428,_3,_7){const _12=_2.document;const _704=' :document-fragment: ';const _180=new Map();const _567=['id','class','tag','nthoftype'];if(!_3.useIdSelectors)_567.splice(_567.indexOf('id'),1);this._532=function(_0){try{const _37=[];while(_0){const _8=[];let _23=_0.getRootNode?_0.getRootNode():_12;const _1201=_1190(_0)??_428.getCssSelector(_0,{root:_23,selectors:_567});_8.push(_1201);_37.unshift(_8.join(' '));_0=_23.host}return _37.join(_704)}catch(_35){_35.message='Get CSS selector failed: '+_35.message;_7(_35)}return''};function _1190(_0){return _180.size?_180.get(_0):null}function _1278(_0,_23){return _3.useIdSelectors&&_0.hasAttribute('id')?_428.getCssSelector(_0,{root:_23,selectors:['id']}):null}this._189=function(_8,_23){return _563(_8,_23||_12,(_54,_564)=>[_54.querySelector(_564)])[0]};this._701=function(_8,_23){return _563(_8,_23||_12,(_54,_564)=>_54.querySelectorAll(_564))};this._425=function(){if(!_3.freezeElementIds)return;const _39=this;for(let _8 of _3.freezeElementIds){try{const _198=_39._701(_8);for(const _18 of _198){if(_180.has(_18))return;if(_198.length>1)_8=_39._532(_18);_180.set(_18,_8)}}catch(_35){_35.message='Could not freeze element IDs: '+_35.message;_7(_35)}}};function _563(_8,_23,_707){const _50=[];try{for(const _912 of _8.split(',')){const _37=_912.split(_704,2);for(const _62 of _707(_23,_37[0])){if(_37[1]&&_62.shadowRoot){const _134=_563(_37[1],_62.shadowRoot,_707);for(const _63 of _134){_50.push(_63)}}else{_50.push(_62)}}}}catch(_35){_35.message='Could not get element from selector: '+_35.message;_7(_35)}return _50}function _1272(_0,_65){while(_0){if(!(_0 instanceof Element))break;if(_65(_0))return _0;_0=_24._83(_0)}return null}}function _946(_2){var _708;this.proxyPushState=function(callback){var _543=_2.history;_708=_543.pushState;_543.pushState=function(){_2.setTimeout(callback,100);return _708.apply(_543,arguments)};_2.addEventListener('popstate',function(){_2.setTimeout(callback,100)})}}var _135=new _951(window,_11,_3,_7);var _117=new _936(window,_24);var _92=new _934(_3,_542,_541);var _189=(typeof _715==='function')?new _715(window,_24,_428,_3,_7):{_532:function(){},_189:function(){},_701:function(){},_425:function(){}};var _352=(typeof _682==='function')?new _682(_3,_11):{_284:function(){}};var _231=(typeof _939==='function')?new _939(window,_3,_117,_26,_11,_352,_25,_60,_7,_92):{_34:function(){},_66:function(){},_300:function(){},_1273:function(){},_1009:function(){},_1271:function(){}};var _517=(typeof _768==='function')?new _768(_24,_3):{_190:function(){}};var _619=new _1007(window,_117,_24,_26,_11,_25,_60,_3);var _440=_3.liveHeatmapsV3Enabled?new _1006(window,_3,_117,_11,_25,_92,_60):new _1004(window,_3,_117,_11,_25,_92,_60);var _741=new _1001(window,_117,_26,_11,_25,_3,_92);var _57=_445?new _732(window,Math,_24,_3,_26,_11,_25,_92,_352,_60,_132,_231,_517,_7,_529,_353,_135,_189):null;_135._281();var _58=false;if(_3.privacyToolEnabled){_619._34(_47,_3._48,_3._242,_3._424,_3._351,_3._423,_7)}else if(_3.liveHeatmapsEnabled){var _208;if(_3.taggerToolEnabled){_208=function(_65){_741._34(_7,_47,true,_65)}}_440._34(_3._48,_7,_47,_208)}else if(_3.taggerToolEnabled){_741._34(_7,_47)}else if(_445){_57._422();_58=true}function _110(){return undefined}function _295(){return null}function _901(){return false}window.mouseflow={start:_58?_57._34:_110,stop:_58?_57._66:function(){if(_3.privacyToolEnabled)_619._66();else if(_3.liveHeatmapsEnabled)_440._66()},newPageView:_58?_57._421:function(_29,_71){_3._520(_29,_71);if(_3.liveHeatmapsEnabled)_440._531()},stopSession:_58?_57._521:_110,getSessionId:_58?_57._961:_295,getPageViewId:_58?_57._987:_295,tag:_58?_57._85:_110,star:_58?_57._524:_110,setVariable:_58?_57._537:_110,identify:_58?_57._535:_110,formSubmitAttempt:_58?_57._534:_110,formSubmitSuccess:_58?_57._308:_110,formSubmitFailure:_58?_57._446:_110,addFriction:_58?_57._141:_110,isRecording:_58?_57._182:_901,isReturningUser:_58?_57._991:_901,activateFeedback:_58?_57._300:_110,proxyAttachShadow:_58?_57._260:_110,recordingRate:_58?_57._187:_295,version:_58?_57._169:_295,lastUpdate:_58?_57._533:_295,isCreditCard:_58?_57._235:_110,pageNotFound:_58?_57._1003:_110,websiteId:_3._48,gdprEnabled:_3.gdprEnabled,updateHeatmap:_440._531,getDisplayUrl:_92._142,config:function(){return arguments.length===1?_3[arguments[0]]:_3._443.apply(_3,arguments)},logConfig:function(){if(_3.debug)console.log(_3)},debug:function(){_3.debug=!_3.debug;console.log('MF: Debugging '+(_3.debug?'enabled':'disabled'))},createTreeMirrorClient:_445?_57._442:_110,deleteTreeMirrorClient:_445?_57._530:_110,exclude:function(selector){if(!_3._242.includes(selector))_3._242.push(selector)}};if(_3.enableSpa)_529.proxyPushState(window.mouseflow.newPageView);if(!_58)_135._34()})()}